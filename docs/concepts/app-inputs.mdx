---
title: 'App Inputs'
description: "App inputs allow you to define customer provided values that can be used to configure your app."
---

Inputs are used to collect customer provider values, for configuring your app.

## Defining App Inputs

Add inputs to your app using the following configuration block

<CodeGroup>
```toml TOML
[inputs]
[[inputs.input]]
name         = "vpc_id"
display_name = "VPC ID"
description  = "ID of the VPC to install the app into."
default      = ""
required     = true
sensitive    = false
```

```hcl Terraform
resource "nuon_app_input" "<your-app>" {
  app_id = nuon_app.<your-app>.id

  input {
    name         = "vpc_id"
    display_name = "VPC ID"
    description  = "ID of the VPC to install the app into."
    default      = ""
    required     = true
    sensitive    = false
  }
}
```
</CodeGroup>

## Configuration Using App Inputs

App inputs can be used to configure both sandboxes and components. All inputs are made available via
[variable](/guides/using-variables) configuration.

All inputs are accessed using `{{.nuon.install.inputs.<input-name>}}`.

### Configuring Sandboxes

You can configure sandboxes by using install inputs as `var`s.

For example, to use the `vpc_id` input, as a variable to configure the `aws-eks-byovpc` sandbox:
<CodeGroup>
```toml TOML
[sandbox]
terraform_version = "1.6.3"
[sandbox.public_repo]
directory = "aws-eks-byovpc"
repo      = "nuonco/sandboxes"
branch    = "main"
[sandbox.vars]
vpc_id = "{{.nuon.install.inputs.vpc_id}}"
```

```hcl Terraform
resource "nuon_app_sandbox" "<your-app>" {
  app_id            = nuon_app.<your-app>.id
  terraform_version = "1.6.3"

  public_repo = {
    repo      = "nuonco/sandboxes"
    branch    = "main"
    directory = "aws-eks-byovpc"
  }

  var {
    name = "vpc_id"
    value = "{{.nuon.install.inputs.vpc_id}}"
  }
}
```
</CodeGroup>

### Configuring Components

Depending upon the component type, you can use install inputs to configure components using Helm values, Terraform
variables or environment variables.

To use inputs in a Terraform module.

<CodeGroup>
```toml TOML
[[components]]
name              = "database"
type              = "terraform_module"
terraform_version = "1.6.3"
[components.connected_repo]
directory = "terraform"
repo      = "your-org/your-repo"
branch    = "main"
[components.vars]
DATABASE_PASSWORD = "{{.nuon.install.inputs.database_password}}"
DATABASE_HOST     = "{{.nuon.install.inputs.database_host}}"
```

```hcl Terraform
resource "nuon_terraform_module_component" "database" {
  name   = "database"
  app_id = nuon_app.<your-app>.id
  terraform_version = "1.6.3"

  connected_repo = {
    directory = "terraform"
    repo      = "your-org/your-repo"
    branch    = "main"
  }

  env_var {
    name  = "DATABASE_PASSWORD"
    value = "{{.nuon.install.inputs.database_password}}"
  }

  var {
    name  = "DATABASE_HOST"
    value = "{{.nuon.install.inputs.database_host}}"
  }
}
```
</CodeGroup>

To use inputs in a Helm chart.

<CodeGroup>
```toml TOML
[[components]]
name   = "database"
[components.connected_repo]
directory = "helm"
repo      = "your-org/your-repo"
branch    = "main"
[components.values]
DATABASE_PASSWORD = "{{.nuon.install.inputs.database_password}}"
DATABASE_HOST     = "{{.nuon.install.inputs.database_host}}"
```

```hcl Terraform
resource "nuon_helm_chart_component" "app" {
  name   = "database"
  app_id = nuon_app.<your-app>.id

  connected_repo = {
    directory = "helm"
    repo      = "your-org/your-repo"
    branch    = "main"
  }

  value {
    name  = "DATABASE_PASSWORD"
    value = "{{.nuon.install.inputs.database_password}}"
  }

  value {
    name  = "DATABASE_HOST"
    value = "{{.nuon.install.inputs.database_host}}"
  }
}
```
</CodeGroup>

To use inputs in a Docker image.

<CodeGroup>
```toml TOML
[[components]]
name   = "docker-build"
type   = "docker_build"
[components.connected_repo]
directory = "."
repo      = "your-org/your-repo"
branch    = "main"
# use an input to pass in a docker registry password, when building an image
[components.env_vars]
docker_build_registry_password = "{{.nuon.install.inputs.docker_build_registry_password}}"
```

```hcl Terraform
resource "nuon_docker_build_component" "docker-build" {
  name   = "docker-build"
  app_id = nuon_app.<your-app>.id

  connected_repo = {
    directory = "."
    repo      = "your-org/your-repo"
    branch    = "main"
  }

  # use an input to pass in a docker registry password, when building an image
  env_var {
    name = "docker_build_registry_password"
    value = "{{.nuon.install.inputs.docker_build_registry_password}}"
  }
}
```
</CodeGroup>

To use inputs in a Kubernetes job.

<CodeGroup>
```toml TOML
[[components]]
name      = "job"
type      = "job"
image_url = "httpbin"
tag       = "latest"
[components.env_vars]
ENV_VAR_API_TOKEN = "{{.nuon.install.inputs.api_token}}"
```

```hcl Terraform
resource "nuon_job_component" "job" {
  name      = "job"
  app_id    = nuon_app.<your-app>.id

  image_url = "httpbin"
  tag       = "latest"

  # use an input to pass in some type of api token
  env_var {
    name  = "ENV_VAR_API_TOKEN"
    value = "{{.nuon.install.inputs.api_token}}"
  }
}
```
</CodeGroup>

## App Input Groups

You can organize inputs into groups, which are useful for structuring how they are visualized in the installer. By 
default, all inputs are created in the `default` group.

To create a group, and add an input to it, simply declare the group in your config or terraform and set the `group` 
field on any input belonging to it.

<CodeGroup>
```toml TOML
[[inputs.group]]
name = "sandbox"
description = "Sandbox inputs"
display_name = "Sandbox inputs"

[[inputs.input]]
name = "vpc_id"
description = "vpc_id to install application into"
default = ""
sensitive = false
display_name = "VPC ID"
group = "sandbox"
```

```hcl Terraform
resource "nuon_app_input_config" "app" {
  app_id = nuon_app.<your-app>.id

  group {
    name = "sandbox_inputs"
    description = "inputs for a sandbox"
    display_name = "Sandbox Inputs"
  }

  input {
    name         = "vpc id"
    description = "vpc id"
    required     = true
    display_name = "vpc ID"
    sensitive    = false
    group = "sandbox_inputs"
  }
}
```
</CodeGroup>

## App Inputs For Customer Resources

App inputs are commonly used to allow a customer to provide access to existing resources. For example, an input can be
used for:

* accepting a database url, or database ID to connect to
* accepting a VPC ID to install an app into
* accepting a token to access a third party cloud provider or account

The [nuon managed sandboxes](/concepts/sandboxes#nuon-managed-sandboxes) offer "bring-your-own-vpc" options, where inputs are
used to accept the ID of a customer managed VPC for installation.

You can even use app inputs to manage resources from [third party cloud providers](/concepts/platforms#supporting-custom-platforms).

## Updating Inputs

If you add a required input _after_ an install is created, the inputs must be added to the install before it can process
  any new sandbox updates or component provision/deprovision jobs.

Currently, updating inputs is only supported via our [api](/api-ref/installs/update-an-install).

<Note>
We recommend avoiding adding backwards incompatible input changes in the same app.
</Note>
