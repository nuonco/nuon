##############################################################################
# Deploy GQL types
##############################################################################

"""
Represents information about a deploy
"""
type Deploy {
  id: ID!
  build: Build!
  buildId: ID!
  install: Install!
  installId: ID!
  updatedAt: DateTime!
  createdAt: DateTime!
}

"""
Represents a deploy log output
"""
type DeployLog {
  deployId: ID!
  logs: [JSON]!
}

##############################################################################
# Deploy inputs
##############################################################################

input DeployInput {
  buildId: ID!
  componentId: ID!
  installId: ID!
}

##############################################################################
# Deploy Query types
##############################################################################
extend type Query {
  deploy(id: ID, instanceId: ID): Deploy!
}

##############################################################################
# Deploy Mutation types
##############################################################################

extend type Mutation {
  startDeploy(input: DeployInput!): Deploy!
}
