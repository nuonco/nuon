# This file contains template values for common Nuon application configuration options.
# To use it for your app, edit as needed, then rename this file to nuon.seed-retool-v2.toml and run
#
#   nuon apps sync -c nuon.seed-retool-v2.toml
#
# See https://docs.nuon.co/concepts/apps for more information.

version = "v1"
description = " nuon sample app"
display_name = "sample-app"
slack_webhook_url = "https://slack.nuon.co"

[installer]
name               = "My ECS App"
description        = "A demo app that runs on ECS."
documentation_url  = "https://docs.nuon.co/"
community_url      = "https://join.slack.com/t/nuoncommunity/shared_invite/zt-1q323vw9z-C8ztRP~HfWjZx6AXi50VRA"
github_url         = "https://github.com/nuonco"
homepage_url       = "https://www.nuon.co/"
demo_url           = "https://www.nuon.co/"
logo_url           = "https://assets-global.website-files.com/62a2c1332b518a9eedc6de2f/651df2030c43865b9b16046b_Group.png"
og_image_url       = "https://assets-global.website-files.com/62a2c1332b518a9eedc6de2f/651df2030c43865b9b16046b_Group.png"
favicon_url        = "https://assets-global.website-files.com/62a2c1332b518a9eedc6de2f/651df2030c43865b9b16046b_Group.png"
copyright_markdown = """
Â© 2024 Nuon.
"""
footer_markdown = """
[Terms of Service](https://nuon.co/terms)
"""
post_install_markdown = """
# My ECS App

My ECS App is being deployed.
"""
apps = ["seed-retool-v2"]

[sandbox]
terraform_version = "1.7.5"
[sandbox.public_repo]
directory = "aws-ecs"
repo = "nuonco/sandboxes"
branch = "main"

[runner]
runner_type = "aws-ecs"

[[components]]
name   = "ecs_service"
type = "terraform_module"
terraform_version = "1.7.5"
[components.public_repo]
repo      = "nuonco/guides"
directory = "aws-ecs-tutorial/components/ecs-service"
branch    = "main"
[components.vars]
service_name = "{{.nuon.install.inputs.service_name}}"
cluster_arn = "{{.nuon.install.sandbox.outputs.ecs_cluster.arn}}"
image_url = "{{.nuon.components.docker_image.image.repository.uri}}"
image_tag = "{{.nuon.components.docker_image.image.tag}}"
app_id = "{{.nuon.app.id}}"
org_id = "{{.nuon.org.id}}"
install_id = "{{.nuon.install.id}}"
vpc_id = "{{.nuon.install.sandbox.outputs.vpc.id}}"
domain_name = "api.{{.nuon.install.sandbox.outputs.public_domain.name}}"
zone_id = "{{.nuon.install.sandbox.outputs.public_domain.zone_id}}"
