{
  "checks": [
    {
      "status": "unknown",
      "address": {
        "kind": "resource",
        "mode": "managed",
        "name": "validate_cluster_service_cidr",
        "type": "null_resource",
        "module": "module.eks.module.eks_managed_node_group.module.user_data",
        "to_display": "module.eks.module.eks_managed_node_group.module.user_data.null_resource.validate_cluster_service_cidr"
      },
      "instances": [
        {
          "status": "unknown",
          "address": {
            "module": "module.eks.module.eks_managed_node_group[\"karpenter\"].module.user_data",
            "to_display": "module.eks.module.eks_managed_node_group[\"karpenter\"].module.user_data.null_resource.validate_cluster_service_cidr"
          }
        }
      ]
    },
    {
      "status": "pass",
      "address": {
        "kind": "resource",
        "mode": "managed",
        "name": "validate_cluster_service_cidr",
        "type": "null_resource",
        "module": "module.eks.module.self_managed_node_group.module.user_data",
        "to_display": "module.eks.module.self_managed_node_group.module.user_data.null_resource.validate_cluster_service_cidr"
      }
    },
    {
      "status": "pass",
      "address": {
        "kind": "var",
        "name": "platform",
        "module": "module.eks.module.self_managed_node_group",
        "to_display": "module.eks.module.self_managed_node_group.var.platform"
      }
    }
  ],
  "timestamp": "2025-06-25T06:20:07Z",
  "variables": {
    "tags": {
      "value": {
        "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek"
      }
    },
    "region": {
      "value": "us-west-2"
    },
    "vpc_id": {
      "value": "vpc-0a878a1b9409f2d67"
    },
    "nuon_id": {
      "value": "inlr2e5a7mf3x9mbkh98p6bhek"
    },
    "max_size": {
      "value": 5
    },
    "min_size": {
      "value": 2
    },
    "helm_driver": {
      "value": "secret"
    },
    "cluster_name": {
      "value": "n-inlr2e5a7mf3x9mbkh98p6bhek"
    },
    "desired_size": {
      "value": 3
    },
    "additional_tags": {
      "value": {}
    },
    "cluster_version": {
      "value": "1.33"
    },
    "enable_nuon_dns": {
      "value": "true"
    },
    "additional_irsas": {
      "value": []
    },
    "kyverno_policy_dir": {
      "value": "/tmp/inlr2e5a7mf3x9mbkh98p6bhek"
    },
    "public_root_domain": {
      "value": "nuon-dev-main-us-west-2.nuon.run"
    },
    "internal_root_domain": {
      "value": "internal.nuon-dev-main-us-west-2.nuon.run"
    },
    "additional_namespaces": {
      "value": [
        "temporal",
        "clickhouse",
        "ctl-api",
        "dashboard-ui"
      ]
    },
    "default_instance_type": {
      "value": "t3a.medium"
    },
    "provision_iam_role_arn": {
      "value": "arn:aws:iam::949309607565:role/inlr2e5a7mf3x9mbkh98p6bhek-provision"
    },
    "additional_access_entry": {
      "value": {}
    },
    "karpenter_replica_count": {
      "value": 2
    },
    "deprovision_iam_role_arn": {
      "value": "arn:aws:iam::949309607565:role/inlr2e5a7mf3x9mbkh98p6bhek-deprovision"
    },
    "maintenance_iam_role_arn": {
      "value": "arn:aws:iam::949309607565:role/inlr2e5a7mf3x9mbkh98p6bhek-maintenance"
    },
    "karpenter_default_nodepool_spec": {},
    "provision_role_eks_kubernetes_groups": {
      "value": []
    },
    "deprovision_role_eks_kubernetes_groups": {
      "value": []
    },
    "maintenance_role_eks_kubernetes_groups": {
      "value": []
    },
    "maintenance_cluster_role_rules_override": {
      "value": []
    },
    "karpenter_default_nodeclass_ami_selector_terms": {},
    "provision_role_eks_access_entry_policy_associations": {
      "value": {
        "eks_admin": {
          "policy_arn": "arn:aws:eks::aws:cluster-access-policy/AmazonEKSAdminPolicy",
          "access_scope": {
            "type": "cluster"
          }
        },
        "cluster_admin": {
          "policy_arn": "arn:aws:eks::aws:cluster-access-policy/AmazonEKSClusterAdminPolicy",
          "access_scope": {
            "type": "cluster"
          }
        }
      }
    },
    "deprovision_role_eks_access_entry_policy_associations": {
      "value": {
        "eks_admin": {
          "policy_arn": "arn:aws:eks::aws:cluster-access-policy/AmazonEKSAdminPolicy",
          "access_scope": {
            "type": "cluster"
          }
        },
        "cluster_admin": {
          "policy_arn": "arn:aws:eks::aws:cluster-access-policy/AmazonEKSClusterAdminPolicy",
          "access_scope": {
            "type": "cluster"
          }
        }
      }
    },
    "maintenance_role_eks_access_entry_policy_associations": {
      "value": {
        "eks_view": {
          "policy_arn": "arn:aws:eks::aws:cluster-access-policy/AmazonEKSClusterAdminPolicy",
          "access_scope": {
            "type": "cluster"
          }
        },
        "eks_admin": {
          "policy_arn": "arn:aws:eks::aws:cluster-access-policy/AmazonEKSAdminPolicy",
          "access_scope": {
            "type": "cluster"
          }
        }
      }
    }
  },
  "prior_state": {
    "values": {
      "outputs": {
        "vpc": {
          "type": [
            "object",
            {
              "id": "string",
              "arn": "string",
              "azs": [
                "list",
                "string"
              ],
              "cidr": "string",
              "runner_subnet_id": "string",
              "public_subnet_ids": [
                "list",
                "string"
              ],
              "private_subnet_ids": [
                "list",
                "string"
              ],
              "runner_subnet_cidr": "string",
              "default_security_group_id": "string",
              "public_subnet_cidr_blocks": [
                "tuple",
                [
                  "string",
                  "string",
                  "string"
                ]
              ],
              "private_subnet_cidr_blocks": [
                "tuple",
                [
                  "string",
                  "string",
                  "string"
                ]
              ]
            }
          ],
          "value": {
            "id": "vpc-0a878a1b9409f2d67",
            "arn": "arn:aws:ec2:us-west-2:949309607565:vpc/vpc-0a878a1b9409f2d67",
            "azs": [
              "us-west-2a",
              "us-west-2b",
              "us-west-2c",
              "us-west-2d"
            ],
            "cidr": "10.128.0.0/16",
            "runner_subnet_id": "subnet-0c4bdda4edea760f7",
            "public_subnet_ids": [
              "subnet-08835c2dfd063c6e9",
              "subnet-07b0abfa248cdf1dc",
              "subnet-06d314e9e8df480d6"
            ],
            "private_subnet_ids": [
              "subnet-09c6a3a806aee2f8d",
              "subnet-00adff60c11824aed",
              "subnet-0c81560eb05406dff"
            ],
            "runner_subnet_cidr": "10.128.128.0/24",
            "default_security_group_id": "sg-0d56678bf703dd8d9",
            "public_subnet_cidr_blocks": [
              "10.128.0.128/26",
              "10.128.0.64/26",
              "10.128.0.0/26"
            ],
            "private_subnet_cidr_blocks": [
              "10.128.132.0/24",
              "10.128.134.0/24",
              "10.128.130.0/24"
            ]
          },
          "sensitive": false
        },
        "account": {
          "type": [
            "object",
            {
              "id": "string",
              "region": "string"
            }
          ],
          "value": {
            "id": "949309607565",
            "region": "us-west-2"
          },
          "sensitive": false
        },
        "namespaces": {
          "type": [
            "tuple",
            [
              "string",
              "string",
              "string",
              "string",
              "string"
            ]
          ],
          "value": [
            "clickhouse",
            "ctl-api",
            "dashboard-ui",
            "inlr2e5a7mf3x9mbkh98p6bhek",
            "temporal"
          ],
          "sensitive": false
        },
        "additional_irsa": {
          "type": [
            "object",
            {}
          ],
          "value": {},
          "sensitive": false
        }
      },
      "root_module": {
        "resources": [
          {
            "mode": "data",
            "name": "available",
            "type": "aws_availability_zones",
            "values": {
              "id": "us-west-2",
              "names": [
                "us-west-2a",
                "us-west-2b",
                "us-west-2c",
                "us-west-2d"
              ],
              "state": "available",
              "filter": null,
              "timeouts": null,
              "zone_ids": [
                "usw2-az1",
                "usw2-az2",
                "usw2-az3",
                "usw2-az4"
              ],
              "group_names": [
                "us-west-2-zg-1"
              ],
              "exclude_names": null,
              "exclude_zone_ids": null,
              "all_availability_zones": null
            },
            "address": "data.aws_availability_zones.available",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "sensitive_values": {
              "names": [
                false,
                false,
                false,
                false
              ],
              "zone_ids": [
                false,
                false,
                false,
                false
              ],
              "group_names": [
                false
              ]
            }
          },
          {
            "mode": "data",
            "name": "current",
            "type": "aws_caller_identity",
            "values": {
              "id": "949309607565",
              "arn": "arn:aws:sts::949309607565:assumed-role/inlr2e5a7mf3x9mbkh98p6bhek-provision/sandbox-run-sbrus3y6wvcz477h0fhdflnmmv",
              "user_id": "AROA52B2DB2G4IGACPG5M:sandbox-run-sbrus3y6wvcz477h0fhdflnmmv",
              "account_id": "949309607565"
            },
            "address": "data.aws_caller_identity.current",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "sensitive_values": {}
          },
          {
            "mode": "data",
            "name": "default",
            "type": "aws_security_group",
            "values": {
              "id": "sg-0d56678bf703dd8d9",
              "arn": "arn:aws:ec2:us-west-2:949309607565:security-group/sg-0d56678bf703dd8d9",
              "name": "default",
              "tags": {},
              "filter": null,
              "vpc_id": "vpc-0a878a1b9409f2d67",
              "timeouts": null,
              "description": "default VPC security group"
            },
            "address": "data.aws_security_group.default",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "sensitive_values": {
              "tags": {}
            }
          },
          {
            "mode": "data",
            "name": "runner",
            "type": "aws_security_groups",
            "values": {
              "id": "us-west-2",
              "ids": [
                "sg-0c375c07bca25c2bd"
              ],
              "arns": [
                "arn:aws:ec2:us-west-2:949309607565:security-group/sg-0c375c07bca25c2bd"
              ],
              "tags": {
                "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                "network.nuon.co/domain": "runner"
              },
              "filter": null,
              "vpc_ids": [
                "vpc-0a878a1b9409f2d67"
              ],
              "timeouts": null
            },
            "address": "data.aws_security_groups.runner",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "sensitive_values": {
              "ids": [
                false
              ],
              "arns": [
                false
              ],
              "tags": {},
              "vpc_ids": [
                false
              ]
            }
          },
          {
            "mode": "data",
            "name": "private",
            "type": "aws_subnet",
            "index": "subnet-00adff60c11824aed",
            "values": {
              "id": "subnet-00adff60c11824aed",
              "arn": "arn:aws:ec2:us-west-2:949309607565:subnet/subnet-00adff60c11824aed",
              "tags": {
                "Name": "inlr2e5a7mf3x9mbkh98p6bhek-private-subnet-az2",
                "visibility": "private",
                "app.nuon.co/id": "appiabcvbgx2tmo7a3hgbjg2ff",
                "org.nuon.co/id": "org4f5hq4tyo44legra6r4nm18",
                "nuon_install_id": "inlr2e5a7mf3x9mbkh98p6bhek",
                "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                "network.nuon.co/domain": "internal",
                "kubernetes.io/role/internal-elb": "1",
                "kubernetes.io/cluster/inlr2e5a7mf3x9mbkh98p6bhek": "shared"
              },
              "state": "available",
              "filter": null,
              "vpc_id": "vpc-0a878a1b9409f2d67",
              "owner_id": "949309607565",
              "timeouts": null,
              "cidr_block": "10.128.132.0/24",
              "ipv6_native": false,
              "outpost_arn": "",
              "enable_dns64": false,
              "default_for_az": false,
              "ipv6_cidr_block": "",
              "availability_zone": "us-west-2b",
              "availability_zone_id": "usw2-az2",
              "map_public_ip_on_launch": false,
              "customer_owned_ipv4_pool": "",
              "available_ip_address_count": 251,
              "enable_lni_at_device_index": 0,
              "ipv6_cidr_block_association_id": "",
              "assign_ipv6_address_on_creation": false,
              "map_customer_owned_ip_on_launch": false,
              "private_dns_hostname_type_on_launch": "ip-name",
              "enable_resource_name_dns_a_record_on_launch": false,
              "enable_resource_name_dns_aaaa_record_on_launch": false
            },
            "address": "data.aws_subnet.private[\"subnet-00adff60c11824aed\"]",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "sensitive_values": {
              "tags": {}
            }
          },
          {
            "mode": "data",
            "name": "private",
            "type": "aws_subnet",
            "index": "subnet-09c6a3a806aee2f8d",
            "values": {
              "id": "subnet-09c6a3a806aee2f8d",
              "arn": "arn:aws:ec2:us-west-2:949309607565:subnet/subnet-09c6a3a806aee2f8d",
              "tags": {
                "Name": "inlr2e5a7mf3x9mbkh98p6bhek-private-subnet-az3",
                "visibility": "private",
                "app.nuon.co/id": "appiabcvbgx2tmo7a3hgbjg2ff",
                "org.nuon.co/id": "org4f5hq4tyo44legra6r4nm18",
                "nuon_install_id": "inlr2e5a7mf3x9mbkh98p6bhek",
                "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                "network.nuon.co/domain": "internal",
                "kubernetes.io/role/internal-elb": "1",
                "kubernetes.io/cluster/inlr2e5a7mf3x9mbkh98p6bhek": "shared"
              },
              "state": "available",
              "filter": null,
              "vpc_id": "vpc-0a878a1b9409f2d67",
              "owner_id": "949309607565",
              "timeouts": null,
              "cidr_block": "10.128.134.0/24",
              "ipv6_native": false,
              "outpost_arn": "",
              "enable_dns64": false,
              "default_for_az": false,
              "ipv6_cidr_block": "",
              "availability_zone": "us-west-2c",
              "availability_zone_id": "usw2-az3",
              "map_public_ip_on_launch": false,
              "customer_owned_ipv4_pool": "",
              "available_ip_address_count": 251,
              "enable_lni_at_device_index": 0,
              "ipv6_cidr_block_association_id": "",
              "assign_ipv6_address_on_creation": false,
              "map_customer_owned_ip_on_launch": false,
              "private_dns_hostname_type_on_launch": "ip-name",
              "enable_resource_name_dns_a_record_on_launch": false,
              "enable_resource_name_dns_aaaa_record_on_launch": false
            },
            "address": "data.aws_subnet.private[\"subnet-09c6a3a806aee2f8d\"]",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "sensitive_values": {
              "tags": {}
            }
          },
          {
            "mode": "data",
            "name": "private",
            "type": "aws_subnet",
            "index": "subnet-0c81560eb05406dff",
            "values": {
              "id": "subnet-0c81560eb05406dff",
              "arn": "arn:aws:ec2:us-west-2:949309607565:subnet/subnet-0c81560eb05406dff",
              "tags": {
                "Name": "inlr2e5a7mf3x9mbkh98p6bhek-private-subnet-az1",
                "visibility": "private",
                "app.nuon.co/id": "appiabcvbgx2tmo7a3hgbjg2ff",
                "org.nuon.co/id": "org4f5hq4tyo44legra6r4nm18",
                "nuon_install_id": "inlr2e5a7mf3x9mbkh98p6bhek",
                "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                "network.nuon.co/domain": "internal",
                "kubernetes.io/role/internal-elb": "1",
                "kubernetes.io/cluster/inlr2e5a7mf3x9mbkh98p6bhek": "shared"
              },
              "state": "available",
              "filter": null,
              "vpc_id": "vpc-0a878a1b9409f2d67",
              "owner_id": "949309607565",
              "timeouts": null,
              "cidr_block": "10.128.130.0/24",
              "ipv6_native": false,
              "outpost_arn": "",
              "enable_dns64": false,
              "default_for_az": false,
              "ipv6_cidr_block": "",
              "availability_zone": "us-west-2a",
              "availability_zone_id": "usw2-az1",
              "map_public_ip_on_launch": false,
              "customer_owned_ipv4_pool": "",
              "available_ip_address_count": 251,
              "enable_lni_at_device_index": 0,
              "ipv6_cidr_block_association_id": "",
              "assign_ipv6_address_on_creation": false,
              "map_customer_owned_ip_on_launch": false,
              "private_dns_hostname_type_on_launch": "ip-name",
              "enable_resource_name_dns_a_record_on_launch": false,
              "enable_resource_name_dns_aaaa_record_on_launch": false
            },
            "address": "data.aws_subnet.private[\"subnet-0c81560eb05406dff\"]",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "sensitive_values": {
              "tags": {}
            }
          },
          {
            "mode": "data",
            "name": "public",
            "type": "aws_subnet",
            "index": "subnet-06d314e9e8df480d6",
            "values": {
              "id": "subnet-06d314e9e8df480d6",
              "arn": "arn:aws:ec2:us-west-2:949309607565:subnet/subnet-06d314e9e8df480d6",
              "tags": {
                "Name": "inlr2e5a7mf3x9mbkh98p6bhek-public-subnet-az3",
                "visibility": "public",
                "app.nuon.co/id": "appiabcvbgx2tmo7a3hgbjg2ff",
                "org.nuon.co/id": "org4f5hq4tyo44legra6r4nm18",
                "nuon_install_id": "inlr2e5a7mf3x9mbkh98p6bhek",
                "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                "kubernetes.io/role/elb": "1",
                "network.nuon.co/domain": "public",
                "kubernetes.io/cluster/inlr2e5a7mf3x9mbkh98p6bhek": "shared"
              },
              "state": "available",
              "filter": null,
              "vpc_id": "vpc-0a878a1b9409f2d67",
              "owner_id": "949309607565",
              "timeouts": null,
              "cidr_block": "10.128.0.128/26",
              "ipv6_native": false,
              "outpost_arn": "",
              "enable_dns64": false,
              "default_for_az": false,
              "ipv6_cidr_block": "",
              "availability_zone": "us-west-2c",
              "availability_zone_id": "usw2-az3",
              "map_public_ip_on_launch": true,
              "customer_owned_ipv4_pool": "",
              "available_ip_address_count": 59,
              "enable_lni_at_device_index": 0,
              "ipv6_cidr_block_association_id": "",
              "assign_ipv6_address_on_creation": false,
              "map_customer_owned_ip_on_launch": false,
              "private_dns_hostname_type_on_launch": "ip-name",
              "enable_resource_name_dns_a_record_on_launch": false,
              "enable_resource_name_dns_aaaa_record_on_launch": false
            },
            "address": "data.aws_subnet.public[\"subnet-06d314e9e8df480d6\"]",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "sensitive_values": {
              "tags": {}
            }
          },
          {
            "mode": "data",
            "name": "public",
            "type": "aws_subnet",
            "index": "subnet-07b0abfa248cdf1dc",
            "values": {
              "id": "subnet-07b0abfa248cdf1dc",
              "arn": "arn:aws:ec2:us-west-2:949309607565:subnet/subnet-07b0abfa248cdf1dc",
              "tags": {
                "Name": "inlr2e5a7mf3x9mbkh98p6bhek-public-subnet-az2",
                "visibility": "public",
                "app.nuon.co/id": "appiabcvbgx2tmo7a3hgbjg2ff",
                "org.nuon.co/id": "org4f5hq4tyo44legra6r4nm18",
                "nuon_install_id": "inlr2e5a7mf3x9mbkh98p6bhek",
                "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                "kubernetes.io/role/elb": "1",
                "network.nuon.co/domain": "public",
                "kubernetes.io/cluster/inlr2e5a7mf3x9mbkh98p6bhek": "shared"
              },
              "state": "available",
              "filter": null,
              "vpc_id": "vpc-0a878a1b9409f2d67",
              "owner_id": "949309607565",
              "timeouts": null,
              "cidr_block": "10.128.0.64/26",
              "ipv6_native": false,
              "outpost_arn": "",
              "enable_dns64": false,
              "default_for_az": false,
              "ipv6_cidr_block": "",
              "availability_zone": "us-west-2b",
              "availability_zone_id": "usw2-az2",
              "map_public_ip_on_launch": true,
              "customer_owned_ipv4_pool": "",
              "available_ip_address_count": 59,
              "enable_lni_at_device_index": 0,
              "ipv6_cidr_block_association_id": "",
              "assign_ipv6_address_on_creation": false,
              "map_customer_owned_ip_on_launch": false,
              "private_dns_hostname_type_on_launch": "ip-name",
              "enable_resource_name_dns_a_record_on_launch": false,
              "enable_resource_name_dns_aaaa_record_on_launch": false
            },
            "address": "data.aws_subnet.public[\"subnet-07b0abfa248cdf1dc\"]",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "sensitive_values": {
              "tags": {}
            }
          },
          {
            "mode": "data",
            "name": "public",
            "type": "aws_subnet",
            "index": "subnet-08835c2dfd063c6e9",
            "values": {
              "id": "subnet-08835c2dfd063c6e9",
              "arn": "arn:aws:ec2:us-west-2:949309607565:subnet/subnet-08835c2dfd063c6e9",
              "tags": {
                "Name": "inlr2e5a7mf3x9mbkh98p6bhek-public-subnet-az1",
                "visibility": "public",
                "app.nuon.co/id": "appiabcvbgx2tmo7a3hgbjg2ff",
                "org.nuon.co/id": "org4f5hq4tyo44legra6r4nm18",
                "nuon_install_id": "inlr2e5a7mf3x9mbkh98p6bhek",
                "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                "kubernetes.io/role/elb": "1",
                "network.nuon.co/domain": "public",
                "kubernetes.io/cluster/inlr2e5a7mf3x9mbkh98p6bhek": "shared"
              },
              "state": "available",
              "filter": null,
              "vpc_id": "vpc-0a878a1b9409f2d67",
              "owner_id": "949309607565",
              "timeouts": null,
              "cidr_block": "10.128.0.0/26",
              "ipv6_native": false,
              "outpost_arn": "",
              "enable_dns64": false,
              "default_for_az": false,
              "ipv6_cidr_block": "",
              "availability_zone": "us-west-2a",
              "availability_zone_id": "usw2-az1",
              "map_public_ip_on_launch": true,
              "customer_owned_ipv4_pool": "",
              "available_ip_address_count": 58,
              "enable_lni_at_device_index": 0,
              "ipv6_cidr_block_association_id": "",
              "assign_ipv6_address_on_creation": false,
              "map_customer_owned_ip_on_launch": false,
              "private_dns_hostname_type_on_launch": "ip-name",
              "enable_resource_name_dns_a_record_on_launch": false,
              "enable_resource_name_dns_aaaa_record_on_launch": false
            },
            "address": "data.aws_subnet.public[\"subnet-08835c2dfd063c6e9\"]",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "sensitive_values": {
              "tags": {}
            }
          },
          {
            "mode": "data",
            "name": "runner",
            "type": "aws_subnet",
            "index": "subnet-0c4bdda4edea760f7",
            "values": {
              "id": "subnet-0c4bdda4edea760f7",
              "arn": "arn:aws:ec2:us-west-2:949309607565:subnet/subnet-0c4bdda4edea760f7",
              "tags": {
                "Name": "inlr2e5a7mf3x9mbkh98p6bhek-private-runner-subnet-az1",
                "visibility": "private",
                "app.nuon.co/id": "appiabcvbgx2tmo7a3hgbjg2ff",
                "org.nuon.co/id": "org4f5hq4tyo44legra6r4nm18",
                "nuon_install_id": "inlr2e5a7mf3x9mbkh98p6bhek",
                "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                "network.nuon.co/domain": "runner"
              },
              "state": "available",
              "filter": null,
              "vpc_id": "vpc-0a878a1b9409f2d67",
              "owner_id": "949309607565",
              "timeouts": null,
              "cidr_block": "10.128.128.0/24",
              "ipv6_native": false,
              "outpost_arn": "",
              "enable_dns64": false,
              "default_for_az": false,
              "ipv6_cidr_block": "",
              "availability_zone": "us-west-2a",
              "availability_zone_id": "usw2-az1",
              "map_public_ip_on_launch": false,
              "customer_owned_ipv4_pool": "",
              "available_ip_address_count": 250,
              "enable_lni_at_device_index": 0,
              "ipv6_cidr_block_association_id": "",
              "assign_ipv6_address_on_creation": false,
              "map_customer_owned_ip_on_launch": false,
              "private_dns_hostname_type_on_launch": "ip-name",
              "enable_resource_name_dns_a_record_on_launch": false,
              "enable_resource_name_dns_aaaa_record_on_launch": false
            },
            "address": "data.aws_subnet.runner[\"subnet-0c4bdda4edea760f7\"]",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "sensitive_values": {
              "tags": {}
            }
          },
          {
            "mode": "data",
            "name": "private",
            "type": "aws_subnets",
            "values": {
              "id": "us-west-2",
              "ids": [
                "subnet-09c6a3a806aee2f8d",
                "subnet-00adff60c11824aed",
                "subnet-0c81560eb05406dff"
              ],
              "tags": {
                "visibility": "private",
                "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                "network.nuon.co/domain": "internal"
              },
              "filter": [
                {
                  "name": "vpc-id",
                  "values": [
                    "vpc-0a878a1b9409f2d67"
                  ]
                }
              ],
              "timeouts": null
            },
            "address": "data.aws_subnets.private",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "sensitive_values": {
              "ids": [
                false,
                false,
                false
              ],
              "tags": {},
              "filter": [
                {
                  "values": [
                    false
                  ]
                }
              ]
            }
          },
          {
            "mode": "data",
            "name": "public",
            "type": "aws_subnets",
            "values": {
              "id": "us-west-2",
              "ids": [
                "subnet-08835c2dfd063c6e9",
                "subnet-07b0abfa248cdf1dc",
                "subnet-06d314e9e8df480d6"
              ],
              "tags": {
                "visibility": "public",
                "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                "network.nuon.co/domain": "public"
              },
              "filter": [
                {
                  "name": "vpc-id",
                  "values": [
                    "vpc-0a878a1b9409f2d67"
                  ]
                }
              ],
              "timeouts": null
            },
            "address": "data.aws_subnets.public",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "sensitive_values": {
              "ids": [
                false,
                false,
                false
              ],
              "tags": {},
              "filter": [
                {
                  "values": [
                    false
                  ]
                }
              ]
            }
          },
          {
            "mode": "data",
            "name": "runner",
            "type": "aws_subnets",
            "values": {
              "id": "us-west-2",
              "ids": [
                "subnet-0c4bdda4edea760f7"
              ],
              "tags": {
                "visibility": "private",
                "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                "network.nuon.co/domain": "runner"
              },
              "filter": [
                {
                  "name": "vpc-id",
                  "values": [
                    "vpc-0a878a1b9409f2d67"
                  ]
                }
              ],
              "timeouts": null
            },
            "address": "data.aws_subnets.runner",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "sensitive_values": {
              "ids": [
                false
              ],
              "tags": {},
              "filter": [
                {
                  "values": [
                    false
                  ]
                }
              ]
            }
          },
          {
            "mode": "data",
            "name": "vpc",
            "type": "aws_vpc",
            "values": {
              "id": "vpc-0a878a1b9409f2d67",
              "arn": "arn:aws:ec2:us-west-2:949309607565:vpc/vpc-0a878a1b9409f2d67",
              "tags": {
                "Name": "inlr2e5a7mf3x9mbkh98p6bhek",
                "app.nuon.co/id": "appiabcvbgx2tmo7a3hgbjg2ff",
                "org.nuon.co/id": "org4f5hq4tyo44legra6r4nm18",
                "nuon_install_id": "inlr2e5a7mf3x9mbkh98p6bhek",
                "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek"
              },
              "state": null,
              "filter": null,
              "default": false,
              "owner_id": "949309607565",
              "timeouts": null,
              "cidr_block": "10.128.0.0/16",
              "dhcp_options_id": "dopt-0436601a48e024247",
              "ipv6_cidr_block": "",
              "instance_tenancy": "default",
              "enable_dns_support": true,
              "ipv6_association_id": "",
              "main_route_table_id": "rtb-0691323f757b8791d",
              "enable_dns_hostnames": true,
              "cidr_block_associations": [
                {
                  "state": "associated",
                  "cidr_block": "10.128.0.0/16",
                  "association_id": "vpc-cidr-assoc-00eba844b9e9067df"
                }
              ],
              "enable_network_address_usage_metrics": false
            },
            "address": "data.aws_vpc.vpc",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "sensitive_values": {
              "tags": {},
              "cidr_block_associations": [
                {}
              ]
            }
          }
        ],
        "child_modules": [
          {
            "address": "module.ebs_csi_irsa",
            "resources": [
              {
                "mode": "data",
                "name": "current",
                "type": "aws_caller_identity",
                "values": {
                  "id": "949309607565",
                  "arn": "arn:aws:sts::949309607565:assumed-role/inlr2e5a7mf3x9mbkh98p6bhek-provision/sandbox-run-sbrus3y6wvcz477h0fhdflnmmv",
                  "user_id": "AROA52B2DB2G4IGACPG5M:sandbox-run-sbrus3y6wvcz477h0fhdflnmmv",
                  "account_id": "949309607565"
                },
                "address": "module.ebs_csi_irsa.data.aws_caller_identity.current",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "sensitive_values": {}
              },
              {
                "mode": "data",
                "name": "ebs_csi",
                "type": "aws_iam_policy_document",
                "index": 0,
                "values": {
                  "id": "435063099",
                  "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ec2:ModifyVolume\",\n        \"ec2:EnableFastSnapshotRestores\",\n        \"ec2:DetachVolume\",\n        \"ec2:DescribeVolumesModifications\",\n        \"ec2:DescribeVolumes\",\n        \"ec2:DescribeTags\",\n        \"ec2:DescribeSnapshots\",\n        \"ec2:DescribeInstances\",\n        \"ec2:DescribeAvailabilityZones\",\n        \"ec2:CreateSnapshot\",\n        \"ec2:AttachVolume\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"ec2:CreateTags\",\n      \"Resource\": [\n        \"arn:aws:ec2:*:*:volume/*\",\n        \"arn:aws:ec2:*:*:snapshot/*\"\n      ],\n      \"Condition\": {\n        \"StringEquals\": {\n          \"ec2:CreateAction\": [\n            \"CreateVolume\",\n            \"CreateSnapshot\"\n          ]\n        }\n      }\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"ec2:DeleteTags\",\n      \"Resource\": [\n        \"arn:aws:ec2:*:*:volume/*\",\n        \"arn:aws:ec2:*:*:snapshot/*\"\n      ]\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"ec2:CreateVolume\",\n      \"Resource\": \"arn:aws:ec2:*:*:volume/*\",\n      \"Condition\": {\n        \"StringLike\": {\n          \"aws:RequestTag/ebs.csi.aws.com/cluster\": \"true\"\n        }\n      }\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"ec2:CreateVolume\",\n      \"Resource\": \"arn:aws:ec2:*:*:volume/*\",\n      \"Condition\": {\n        \"StringLike\": {\n          \"aws:RequestTag/CSIVolumeName\": \"*\"\n        }\n      }\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"ec2:CreateVolume\",\n      \"Resource\": \"*\",\n      \"Condition\": {\n        \"StringLike\": {\n          \"aws:RequestTag/kubernetes.io/cluster/*\": \"owned\"\n        }\n      }\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"ec2:CreateVolume\",\n      \"Resource\": \"arn:aws:ec2:*:*:snapshot/*\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"ec2:DeleteVolume\",\n      \"Resource\": \"*\",\n      \"Condition\": {\n        \"StringLike\": {\n          \"ec2:ResourceTag/ebs.csi.aws.com/cluster\": \"true\"\n        }\n      }\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"ec2:DeleteVolume\",\n      \"Resource\": \"*\",\n      \"Condition\": {\n        \"StringLike\": {\n          \"ec2:ResourceTag/CSIVolumeName\": \"*\"\n        }\n      }\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"ec2:DeleteVolume\",\n      \"Resource\": \"*\",\n      \"Condition\": {\n        \"StringLike\": {\n          \"ec2:ResourceTag/kubernetes.io/cluster/*\": \"owned\"\n        }\n      }\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"ec2:DeleteVolume\",\n      \"Resource\": \"*\",\n      \"Condition\": {\n        \"StringLike\": {\n          \"ec2:ResourceTag/kubernetes.io/created-for/pvc/name\": \"*\"\n        }\n      }\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"ec2:DeleteSnapshot\",\n      \"Resource\": \"*\",\n      \"Condition\": {\n        \"StringLike\": {\n          \"ec2:ResourceTag/CSIVolumeSnapshotName\": \"*\"\n        }\n      }\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"ec2:DeleteSnapshot\",\n      \"Resource\": \"*\",\n      \"Condition\": {\n        \"StringLike\": {\n          \"ec2:ResourceTag/ebs.csi.aws.com/cluster\": \"true\"\n        }\n      }\n    }\n  ]\n}",
                  "version": "2012-10-17",
                  "policy_id": null,
                  "statement": [
                    {
                      "sid": "",
                      "effect": "Allow",
                      "actions": [
                        "ec2:AttachVolume",
                        "ec2:CreateSnapshot",
                        "ec2:DescribeAvailabilityZones",
                        "ec2:DescribeInstances",
                        "ec2:DescribeSnapshots",
                        "ec2:DescribeTags",
                        "ec2:DescribeVolumes",
                        "ec2:DescribeVolumesModifications",
                        "ec2:DetachVolume",
                        "ec2:EnableFastSnapshotRestores",
                        "ec2:ModifyVolume"
                      ],
                      "condition": [],
                      "resources": [
                        "*"
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    },
                    {
                      "sid": "",
                      "effect": "Allow",
                      "actions": [
                        "ec2:CreateTags"
                      ],
                      "condition": [
                        {
                          "test": "StringEquals",
                          "values": [
                            "CreateVolume",
                            "CreateSnapshot"
                          ],
                          "variable": "ec2:CreateAction"
                        }
                      ],
                      "resources": [
                        "arn:aws:ec2:*:*:snapshot/*",
                        "arn:aws:ec2:*:*:volume/*"
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    },
                    {
                      "sid": "",
                      "effect": "Allow",
                      "actions": [
                        "ec2:DeleteTags"
                      ],
                      "condition": [],
                      "resources": [
                        "arn:aws:ec2:*:*:snapshot/*",
                        "arn:aws:ec2:*:*:volume/*"
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    },
                    {
                      "sid": "",
                      "effect": "Allow",
                      "actions": [
                        "ec2:CreateVolume"
                      ],
                      "condition": [
                        {
                          "test": "StringLike",
                          "values": [
                            "true"
                          ],
                          "variable": "aws:RequestTag/ebs.csi.aws.com/cluster"
                        }
                      ],
                      "resources": [
                        "arn:aws:ec2:*:*:volume/*"
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    },
                    {
                      "sid": "",
                      "effect": "Allow",
                      "actions": [
                        "ec2:CreateVolume"
                      ],
                      "condition": [
                        {
                          "test": "StringLike",
                          "values": [
                            "*"
                          ],
                          "variable": "aws:RequestTag/CSIVolumeName"
                        }
                      ],
                      "resources": [
                        "arn:aws:ec2:*:*:volume/*"
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    },
                    {
                      "sid": "",
                      "effect": "Allow",
                      "actions": [
                        "ec2:CreateVolume"
                      ],
                      "condition": [
                        {
                          "test": "StringLike",
                          "values": [
                            "owned"
                          ],
                          "variable": "aws:RequestTag/kubernetes.io/cluster/*"
                        }
                      ],
                      "resources": [
                        "*"
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    },
                    {
                      "sid": "",
                      "effect": "Allow",
                      "actions": [
                        "ec2:CreateVolume"
                      ],
                      "condition": [],
                      "resources": [
                        "arn:aws:ec2:*:*:snapshot/*"
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    },
                    {
                      "sid": "",
                      "effect": "Allow",
                      "actions": [
                        "ec2:DeleteVolume"
                      ],
                      "condition": [
                        {
                          "test": "StringLike",
                          "values": [
                            "true"
                          ],
                          "variable": "ec2:ResourceTag/ebs.csi.aws.com/cluster"
                        }
                      ],
                      "resources": [
                        "*"
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    },
                    {
                      "sid": "",
                      "effect": "Allow",
                      "actions": [
                        "ec2:DeleteVolume"
                      ],
                      "condition": [
                        {
                          "test": "StringLike",
                          "values": [
                            "*"
                          ],
                          "variable": "ec2:ResourceTag/CSIVolumeName"
                        }
                      ],
                      "resources": [
                        "*"
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    },
                    {
                      "sid": "",
                      "effect": "Allow",
                      "actions": [
                        "ec2:DeleteVolume"
                      ],
                      "condition": [
                        {
                          "test": "StringLike",
                          "values": [
                            "owned"
                          ],
                          "variable": "ec2:ResourceTag/kubernetes.io/cluster/*"
                        }
                      ],
                      "resources": [
                        "*"
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    },
                    {
                      "sid": "",
                      "effect": "Allow",
                      "actions": [
                        "ec2:DeleteVolume"
                      ],
                      "condition": [
                        {
                          "test": "StringLike",
                          "values": [
                            "*"
                          ],
                          "variable": "ec2:ResourceTag/kubernetes.io/created-for/pvc/name"
                        }
                      ],
                      "resources": [
                        "*"
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    },
                    {
                      "sid": "",
                      "effect": "Allow",
                      "actions": [
                        "ec2:DeleteSnapshot"
                      ],
                      "condition": [
                        {
                          "test": "StringLike",
                          "values": [
                            "*"
                          ],
                          "variable": "ec2:ResourceTag/CSIVolumeSnapshotName"
                        }
                      ],
                      "resources": [
                        "*"
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    },
                    {
                      "sid": "",
                      "effect": "Allow",
                      "actions": [
                        "ec2:DeleteSnapshot"
                      ],
                      "condition": [
                        {
                          "test": "StringLike",
                          "values": [
                            "true"
                          ],
                          "variable": "ec2:ResourceTag/ebs.csi.aws.com/cluster"
                        }
                      ],
                      "resources": [
                        "*"
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    }
                  ],
                  "source_json": null,
                  "minified_json": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"ec2:ModifyVolume\",\"ec2:EnableFastSnapshotRestores\",\"ec2:DetachVolume\",\"ec2:DescribeVolumesModifications\",\"ec2:DescribeVolumes\",\"ec2:DescribeTags\",\"ec2:DescribeSnapshots\",\"ec2:DescribeInstances\",\"ec2:DescribeAvailabilityZones\",\"ec2:CreateSnapshot\",\"ec2:AttachVolume\"],\"Resource\":\"*\"},{\"Effect\":\"Allow\",\"Action\":\"ec2:CreateTags\",\"Resource\":[\"arn:aws:ec2:*:*:volume/*\",\"arn:aws:ec2:*:*:snapshot/*\"],\"Condition\":{\"StringEquals\":{\"ec2:CreateAction\":[\"CreateVolume\",\"CreateSnapshot\"]}}},{\"Effect\":\"Allow\",\"Action\":\"ec2:DeleteTags\",\"Resource\":[\"arn:aws:ec2:*:*:volume/*\",\"arn:aws:ec2:*:*:snapshot/*\"]},{\"Effect\":\"Allow\",\"Action\":\"ec2:CreateVolume\",\"Resource\":\"arn:aws:ec2:*:*:volume/*\",\"Condition\":{\"StringLike\":{\"aws:RequestTag/ebs.csi.aws.com/cluster\":\"true\"}}},{\"Effect\":\"Allow\",\"Action\":\"ec2:CreateVolume\",\"Resource\":\"arn:aws:ec2:*:*:volume/*\",\"Condition\":{\"StringLike\":{\"aws:RequestTag/CSIVolumeName\":\"*\"}}},{\"Effect\":\"Allow\",\"Action\":\"ec2:CreateVolume\",\"Resource\":\"*\",\"Condition\":{\"StringLike\":{\"aws:RequestTag/kubernetes.io/cluster/*\":\"owned\"}}},{\"Effect\":\"Allow\",\"Action\":\"ec2:CreateVolume\",\"Resource\":\"arn:aws:ec2:*:*:snapshot/*\"},{\"Effect\":\"Allow\",\"Action\":\"ec2:DeleteVolume\",\"Resource\":\"*\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/ebs.csi.aws.com/cluster\":\"true\"}}},{\"Effect\":\"Allow\",\"Action\":\"ec2:DeleteVolume\",\"Resource\":\"*\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/CSIVolumeName\":\"*\"}}},{\"Effect\":\"Allow\",\"Action\":\"ec2:DeleteVolume\",\"Resource\":\"*\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/kubernetes.io/cluster/*\":\"owned\"}}},{\"Effect\":\"Allow\",\"Action\":\"ec2:DeleteVolume\",\"Resource\":\"*\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/kubernetes.io/created-for/pvc/name\":\"*\"}}},{\"Effect\":\"Allow\",\"Action\":\"ec2:DeleteSnapshot\",\"Resource\":\"*\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/CSIVolumeSnapshotName\":\"*\"}}},{\"Effect\":\"Allow\",\"Action\":\"ec2:DeleteSnapshot\",\"Resource\":\"*\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/ebs.csi.aws.com/cluster\":\"true\"}}}]}",
                  "override_json": null,
                  "source_policy_documents": null,
                  "override_policy_documents": null
                },
                "address": "module.ebs_csi_irsa.data.aws_iam_policy_document.ebs_csi[0]",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "sensitive_values": {
                  "statement": [
                    {
                      "actions": [
                        false,
                        false,
                        false,
                        false,
                        false,
                        false,
                        false,
                        false,
                        false,
                        false,
                        false
                      ],
                      "condition": [],
                      "resources": [
                        false
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    },
                    {
                      "actions": [
                        false
                      ],
                      "condition": [
                        {
                          "values": [
                            false,
                            false
                          ]
                        }
                      ],
                      "resources": [
                        false,
                        false
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    },
                    {
                      "actions": [
                        false
                      ],
                      "condition": [],
                      "resources": [
                        false,
                        false
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    },
                    {
                      "actions": [
                        false
                      ],
                      "condition": [
                        {
                          "values": [
                            false
                          ]
                        }
                      ],
                      "resources": [
                        false
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    },
                    {
                      "actions": [
                        false
                      ],
                      "condition": [
                        {
                          "values": [
                            false
                          ]
                        }
                      ],
                      "resources": [
                        false
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    },
                    {
                      "actions": [
                        false
                      ],
                      "condition": [
                        {
                          "values": [
                            false
                          ]
                        }
                      ],
                      "resources": [
                        false
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    },
                    {
                      "actions": [
                        false
                      ],
                      "condition": [],
                      "resources": [
                        false
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    },
                    {
                      "actions": [
                        false
                      ],
                      "condition": [
                        {
                          "values": [
                            false
                          ]
                        }
                      ],
                      "resources": [
                        false
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    },
                    {
                      "actions": [
                        false
                      ],
                      "condition": [
                        {
                          "values": [
                            false
                          ]
                        }
                      ],
                      "resources": [
                        false
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    },
                    {
                      "actions": [
                        false
                      ],
                      "condition": [
                        {
                          "values": [
                            false
                          ]
                        }
                      ],
                      "resources": [
                        false
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    },
                    {
                      "actions": [
                        false
                      ],
                      "condition": [
                        {
                          "values": [
                            false
                          ]
                        }
                      ],
                      "resources": [
                        false
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    },
                    {
                      "actions": [
                        false
                      ],
                      "condition": [
                        {
                          "values": [
                            false
                          ]
                        }
                      ],
                      "resources": [
                        false
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    },
                    {
                      "actions": [
                        false
                      ],
                      "condition": [
                        {
                          "values": [
                            false
                          ]
                        }
                      ],
                      "resources": [
                        false
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    }
                  ]
                }
              },
              {
                "mode": "data",
                "name": "current",
                "type": "aws_partition",
                "values": {
                  "id": "aws",
                  "partition": "aws",
                  "dns_suffix": "amazonaws.com",
                  "reverse_dns_prefix": "com.amazonaws"
                },
                "address": "module.ebs_csi_irsa.data.aws_partition.current",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "sensitive_values": {}
              },
              {
                "mode": "data",
                "name": "current",
                "type": "aws_region",
                "values": {
                  "id": "us-west-2",
                  "name": "us-west-2",
                  "endpoint": "ec2.us-west-2.amazonaws.com",
                  "description": "US West (Oregon)"
                },
                "address": "module.ebs_csi_irsa.data.aws_region.current",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "sensitive_values": {}
              }
            ]
          },
          {
            "address": "module.ecr",
            "resources": [
              {
                "mode": "data",
                "name": "current",
                "type": "aws_caller_identity",
                "values": {
                  "id": "949309607565",
                  "arn": "arn:aws:sts::949309607565:assumed-role/inlr2e5a7mf3x9mbkh98p6bhek-provision/sandbox-run-sbrus3y6wvcz477h0fhdflnmmv",
                  "user_id": "AROA52B2DB2G4IGACPG5M:sandbox-run-sbrus3y6wvcz477h0fhdflnmmv",
                  "account_id": "949309607565"
                },
                "address": "module.ecr.data.aws_caller_identity.current",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "sensitive_values": {}
              },
              {
                "mode": "data",
                "name": "repository",
                "type": "aws_iam_policy_document",
                "index": 0,
                "values": {
                  "id": "1460501299",
                  "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"PrivateReadOnly\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ecr:ListTagsForResource\",\n        \"ecr:ListImages\",\n        \"ecr:GetRepositoryPolicy\",\n        \"ecr:GetLifecyclePolicyPreview\",\n        \"ecr:GetLifecyclePolicy\",\n        \"ecr:GetDownloadUrlForLayer\",\n        \"ecr:GetAuthorizationToken\",\n        \"ecr:DescribeRepositories\",\n        \"ecr:DescribeImages\",\n        \"ecr:DescribeImageScanFindings\",\n        \"ecr:BatchGetImage\",\n        \"ecr:BatchCheckLayerAvailability\"\n      ],\n      \"Principal\": {\n        \"AWS\": \"arn:aws:iam::949309607565:root\"\n      }\n    }\n  ]\n}",
                  "version": "2012-10-17",
                  "policy_id": null,
                  "statement": [
                    {
                      "sid": "PrivateReadOnly",
                      "effect": "Allow",
                      "actions": [
                        "ecr:BatchCheckLayerAvailability",
                        "ecr:BatchGetImage",
                        "ecr:DescribeImageScanFindings",
                        "ecr:DescribeImages",
                        "ecr:DescribeRepositories",
                        "ecr:GetAuthorizationToken",
                        "ecr:GetDownloadUrlForLayer",
                        "ecr:GetLifecyclePolicy",
                        "ecr:GetLifecyclePolicyPreview",
                        "ecr:GetRepositoryPolicy",
                        "ecr:ListImages",
                        "ecr:ListTagsForResource"
                      ],
                      "condition": [],
                      "resources": [],
                      "principals": [
                        {
                          "type": "AWS",
                          "identifiers": [
                            "arn:aws:iam::949309607565:root"
                          ]
                        }
                      ],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    }
                  ],
                  "source_json": null,
                  "minified_json": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"PrivateReadOnly\",\"Effect\":\"Allow\",\"Action\":[\"ecr:ListTagsForResource\",\"ecr:ListImages\",\"ecr:GetRepositoryPolicy\",\"ecr:GetLifecyclePolicyPreview\",\"ecr:GetLifecyclePolicy\",\"ecr:GetDownloadUrlForLayer\",\"ecr:GetAuthorizationToken\",\"ecr:DescribeRepositories\",\"ecr:DescribeImages\",\"ecr:DescribeImageScanFindings\",\"ecr:BatchGetImage\",\"ecr:BatchCheckLayerAvailability\"],\"Principal\":{\"AWS\":\"arn:aws:iam::949309607565:root\"}}]}",
                  "override_json": null,
                  "source_policy_documents": null,
                  "override_policy_documents": null
                },
                "address": "module.ecr.data.aws_iam_policy_document.repository[0]",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "sensitive_values": {
                  "statement": [
                    {
                      "actions": [
                        false,
                        false,
                        false,
                        false,
                        false,
                        false,
                        false,
                        false,
                        false,
                        false,
                        false,
                        false
                      ],
                      "condition": [],
                      "resources": [],
                      "principals": [
                        {
                          "identifiers": [
                            false
                          ]
                        }
                      ],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    }
                  ]
                }
              },
              {
                "mode": "data",
                "name": "current",
                "type": "aws_partition",
                "values": {
                  "id": "aws",
                  "partition": "aws",
                  "dns_suffix": "amazonaws.com",
                  "reverse_dns_prefix": "com.amazonaws"
                },
                "address": "module.ecr.data.aws_partition.current",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "sensitive_values": {}
              }
            ]
          },
          {
            "address": "module.eks",
            "resources": [
              {
                "mode": "data",
                "name": "current",
                "type": "aws_caller_identity",
                "index": 0,
                "values": {
                  "id": "949309607565",
                  "arn": "arn:aws:sts::949309607565:assumed-role/inlr2e5a7mf3x9mbkh98p6bhek-provision/sandbox-run-sbrus3y6wvcz477h0fhdflnmmv",
                  "user_id": "AROA52B2DB2G4IGACPG5M:sandbox-run-sbrus3y6wvcz477h0fhdflnmmv",
                  "account_id": "949309607565"
                },
                "address": "module.eks.data.aws_caller_identity.current[0]",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "sensitive_values": {}
              },
              {
                "mode": "data",
                "name": "assume_role_policy",
                "type": "aws_iam_policy_document",
                "index": 0,
                "values": {
                  "id": "2830595799",
                  "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"EKSClusterAssumeRole\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"sts:TagSession\",\n        \"sts:AssumeRole\"\n      ],\n      \"Principal\": {\n        \"Service\": \"eks.amazonaws.com\"\n      }\n    }\n  ]\n}",
                  "version": "2012-10-17",
                  "policy_id": null,
                  "statement": [
                    {
                      "sid": "EKSClusterAssumeRole",
                      "effect": "Allow",
                      "actions": [
                        "sts:AssumeRole",
                        "sts:TagSession"
                      ],
                      "condition": [],
                      "resources": [],
                      "principals": [
                        {
                          "type": "Service",
                          "identifiers": [
                            "eks.amazonaws.com"
                          ]
                        }
                      ],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    }
                  ],
                  "source_json": null,
                  "minified_json": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"EKSClusterAssumeRole\",\"Effect\":\"Allow\",\"Action\":[\"sts:TagSession\",\"sts:AssumeRole\"],\"Principal\":{\"Service\":\"eks.amazonaws.com\"}}]}",
                  "override_json": null,
                  "source_policy_documents": null,
                  "override_policy_documents": null
                },
                "address": "module.eks.data.aws_iam_policy_document.assume_role_policy[0]",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "sensitive_values": {
                  "statement": [
                    {
                      "actions": [
                        false,
                        false
                      ],
                      "condition": [],
                      "resources": [],
                      "principals": [
                        {
                          "identifiers": [
                            false
                          ]
                        }
                      ],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    }
                  ]
                }
              },
              {
                "mode": "data",
                "name": "custom",
                "type": "aws_iam_policy_document",
                "index": 0,
                "values": {
                  "id": "513122117",
                  "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"Compute\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ec2:RunInstances\",\n        \"ec2:CreateLaunchTemplate\",\n        \"ec2:CreateFleet\"\n      ],\n      \"Resource\": \"*\",\n      \"Condition\": {\n        \"StringEquals\": {\n          \"aws:RequestTag/eks:eks-cluster-name\": \"${aws:PrincipalTag/eks:eks-cluster-name}\"\n        },\n        \"StringLike\": {\n          \"aws:RequestTag/eks:kubernetes-node-class-name\": \"*\",\n          \"aws:RequestTag/eks:kubernetes-node-pool-name\": \"*\"\n        }\n      }\n    },\n    {\n      \"Sid\": \"Storage\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ec2:CreateVolume\",\n        \"ec2:CreateSnapshot\"\n      ],\n      \"Resource\": [\n        \"arn:aws:ec2:*:*:volume/*\",\n        \"arn:aws:ec2:*:*:snapshot/*\"\n      ],\n      \"Condition\": {\n        \"StringEquals\": {\n          \"aws:RequestTag/eks:eks-cluster-name\": \"${aws:PrincipalTag/eks:eks-cluster-name}\"\n        }\n      }\n    },\n    {\n      \"Sid\": \"Networking\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"ec2:CreateNetworkInterface\",\n      \"Resource\": \"*\",\n      \"Condition\": {\n        \"StringEquals\": {\n          \"aws:RequestTag/eks:eks-cluster-name\": \"${aws:PrincipalTag/eks:eks-cluster-name}\",\n          \"aws:RequestTag/eks:kubernetes-cni-node-name\": \"*\"\n        }\n      }\n    },\n    {\n      \"Sid\": \"LoadBalancer\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"elasticloadbalancing:CreateTargetGroup\",\n        \"elasticloadbalancing:CreateRule\",\n        \"elasticloadbalancing:CreateLoadBalancer\",\n        \"elasticloadbalancing:CreateListener\",\n        \"ec2:CreateSecurityGroup\"\n      ],\n      \"Resource\": \"*\",\n      \"Condition\": {\n        \"StringEquals\": {\n          \"aws:RequestTag/eks:eks-cluster-name\": \"${aws:PrincipalTag/eks:eks-cluster-name}\"\n        }\n      }\n    },\n    {\n      \"Sid\": \"ShieldProtection\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"shield:CreateProtection\",\n      \"Resource\": \"*\",\n      \"Condition\": {\n        \"StringEquals\": {\n          \"aws:RequestTag/eks:eks-cluster-name\": \"${aws:PrincipalTag/eks:eks-cluster-name}\"\n        }\n      }\n    },\n    {\n      \"Sid\": \"ShieldTagResource\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"shield:TagResource\",\n      \"Resource\": \"arn:aws:shield::*:protection/*\",\n      \"Condition\": {\n        \"StringEquals\": {\n          \"aws:RequestTag/eks:eks-cluster-name\": \"${aws:PrincipalTag/eks:eks-cluster-name}\"\n        }\n      }\n    }\n  ]\n}",
                  "version": "2012-10-17",
                  "policy_id": null,
                  "statement": [
                    {
                      "sid": "Compute",
                      "effect": "Allow",
                      "actions": [
                        "ec2:CreateFleet",
                        "ec2:CreateLaunchTemplate",
                        "ec2:RunInstances"
                      ],
                      "condition": [
                        {
                          "test": "StringEquals",
                          "values": [
                            "${aws:PrincipalTag/eks:eks-cluster-name}"
                          ],
                          "variable": "aws:RequestTag/eks:eks-cluster-name"
                        },
                        {
                          "test": "StringLike",
                          "values": [
                            "*"
                          ],
                          "variable": "aws:RequestTag/eks:kubernetes-node-class-name"
                        },
                        {
                          "test": "StringLike",
                          "values": [
                            "*"
                          ],
                          "variable": "aws:RequestTag/eks:kubernetes-node-pool-name"
                        }
                      ],
                      "resources": [
                        "*"
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    },
                    {
                      "sid": "Storage",
                      "effect": "Allow",
                      "actions": [
                        "ec2:CreateSnapshot",
                        "ec2:CreateVolume"
                      ],
                      "condition": [
                        {
                          "test": "StringEquals",
                          "values": [
                            "${aws:PrincipalTag/eks:eks-cluster-name}"
                          ],
                          "variable": "aws:RequestTag/eks:eks-cluster-name"
                        }
                      ],
                      "resources": [
                        "arn:aws:ec2:*:*:snapshot/*",
                        "arn:aws:ec2:*:*:volume/*"
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    },
                    {
                      "sid": "Networking",
                      "effect": "Allow",
                      "actions": [
                        "ec2:CreateNetworkInterface"
                      ],
                      "condition": [
                        {
                          "test": "StringEquals",
                          "values": [
                            "${aws:PrincipalTag/eks:eks-cluster-name}"
                          ],
                          "variable": "aws:RequestTag/eks:eks-cluster-name"
                        },
                        {
                          "test": "StringEquals",
                          "values": [
                            "*"
                          ],
                          "variable": "aws:RequestTag/eks:kubernetes-cni-node-name"
                        }
                      ],
                      "resources": [
                        "*"
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    },
                    {
                      "sid": "LoadBalancer",
                      "effect": "Allow",
                      "actions": [
                        "ec2:CreateSecurityGroup",
                        "elasticloadbalancing:CreateListener",
                        "elasticloadbalancing:CreateLoadBalancer",
                        "elasticloadbalancing:CreateRule",
                        "elasticloadbalancing:CreateTargetGroup"
                      ],
                      "condition": [
                        {
                          "test": "StringEquals",
                          "values": [
                            "${aws:PrincipalTag/eks:eks-cluster-name}"
                          ],
                          "variable": "aws:RequestTag/eks:eks-cluster-name"
                        }
                      ],
                      "resources": [
                        "*"
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    },
                    {
                      "sid": "ShieldProtection",
                      "effect": "Allow",
                      "actions": [
                        "shield:CreateProtection"
                      ],
                      "condition": [
                        {
                          "test": "StringEquals",
                          "values": [
                            "${aws:PrincipalTag/eks:eks-cluster-name}"
                          ],
                          "variable": "aws:RequestTag/eks:eks-cluster-name"
                        }
                      ],
                      "resources": [
                        "*"
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    },
                    {
                      "sid": "ShieldTagResource",
                      "effect": "Allow",
                      "actions": [
                        "shield:TagResource"
                      ],
                      "condition": [
                        {
                          "test": "StringEquals",
                          "values": [
                            "${aws:PrincipalTag/eks:eks-cluster-name}"
                          ],
                          "variable": "aws:RequestTag/eks:eks-cluster-name"
                        }
                      ],
                      "resources": [
                        "arn:aws:shield::*:protection/*"
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    }
                  ],
                  "source_json": null,
                  "minified_json": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"Compute\",\"Effect\":\"Allow\",\"Action\":[\"ec2:RunInstances\",\"ec2:CreateLaunchTemplate\",\"ec2:CreateFleet\"],\"Resource\":\"*\",\"Condition\":{\"StringEquals\":{\"aws:RequestTag/eks:eks-cluster-name\":\"${aws:PrincipalTag/eks:eks-cluster-name}\"},\"StringLike\":{\"aws:RequestTag/eks:kubernetes-node-class-name\":\"*\",\"aws:RequestTag/eks:kubernetes-node-pool-name\":\"*\"}}},{\"Sid\":\"Storage\",\"Effect\":\"Allow\",\"Action\":[\"ec2:CreateVolume\",\"ec2:CreateSnapshot\"],\"Resource\":[\"arn:aws:ec2:*:*:volume/*\",\"arn:aws:ec2:*:*:snapshot/*\"],\"Condition\":{\"StringEquals\":{\"aws:RequestTag/eks:eks-cluster-name\":\"${aws:PrincipalTag/eks:eks-cluster-name}\"}}},{\"Sid\":\"Networking\",\"Effect\":\"Allow\",\"Action\":\"ec2:CreateNetworkInterface\",\"Resource\":\"*\",\"Condition\":{\"StringEquals\":{\"aws:RequestTag/eks:eks-cluster-name\":\"${aws:PrincipalTag/eks:eks-cluster-name}\",\"aws:RequestTag/eks:kubernetes-cni-node-name\":\"*\"}}},{\"Sid\":\"LoadBalancer\",\"Effect\":\"Allow\",\"Action\":[\"elasticloadbalancing:CreateTargetGroup\",\"elasticloadbalancing:CreateRule\",\"elasticloadbalancing:CreateLoadBalancer\",\"elasticloadbalancing:CreateListener\",\"ec2:CreateSecurityGroup\"],\"Resource\":\"*\",\"Condition\":{\"StringEquals\":{\"aws:RequestTag/eks:eks-cluster-name\":\"${aws:PrincipalTag/eks:eks-cluster-name}\"}}},{\"Sid\":\"ShieldProtection\",\"Effect\":\"Allow\",\"Action\":\"shield:CreateProtection\",\"Resource\":\"*\",\"Condition\":{\"StringEquals\":{\"aws:RequestTag/eks:eks-cluster-name\":\"${aws:PrincipalTag/eks:eks-cluster-name}\"}}},{\"Sid\":\"ShieldTagResource\",\"Effect\":\"Allow\",\"Action\":\"shield:TagResource\",\"Resource\":\"arn:aws:shield::*:protection/*\",\"Condition\":{\"StringEquals\":{\"aws:RequestTag/eks:eks-cluster-name\":\"${aws:PrincipalTag/eks:eks-cluster-name}\"}}}]}",
                  "override_json": null,
                  "source_policy_documents": null,
                  "override_policy_documents": null
                },
                "address": "module.eks.data.aws_iam_policy_document.custom[0]",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "sensitive_values": {
                  "statement": [
                    {
                      "actions": [
                        false,
                        false,
                        false
                      ],
                      "condition": [
                        {
                          "values": [
                            false
                          ]
                        },
                        {
                          "values": [
                            false
                          ]
                        },
                        {
                          "values": [
                            false
                          ]
                        }
                      ],
                      "resources": [
                        false
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    },
                    {
                      "actions": [
                        false,
                        false
                      ],
                      "condition": [
                        {
                          "values": [
                            false
                          ]
                        }
                      ],
                      "resources": [
                        false,
                        false
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    },
                    {
                      "actions": [
                        false
                      ],
                      "condition": [
                        {
                          "values": [
                            false
                          ]
                        },
                        {
                          "values": [
                            false
                          ]
                        }
                      ],
                      "resources": [
                        false
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    },
                    {
                      "actions": [
                        false,
                        false,
                        false,
                        false,
                        false
                      ],
                      "condition": [
                        {
                          "values": [
                            false
                          ]
                        }
                      ],
                      "resources": [
                        false
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    },
                    {
                      "actions": [
                        false
                      ],
                      "condition": [
                        {
                          "values": [
                            false
                          ]
                        }
                      ],
                      "resources": [
                        false
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    },
                    {
                      "actions": [
                        false
                      ],
                      "condition": [
                        {
                          "values": [
                            false
                          ]
                        }
                      ],
                      "resources": [
                        false
                      ],
                      "principals": [],
                      "not_actions": [],
                      "not_resources": [],
                      "not_principals": []
                    }
                  ]
                }
              },
              {
                "mode": "data",
                "name": "current",
                "type": "aws_iam_session_context",
                "index": 0,
                "values": {
                  "id": "arn:aws:sts::949309607565:assumed-role/inlr2e5a7mf3x9mbkh98p6bhek-provision/sandbox-run-sbrus3y6wvcz477h0fhdflnmmv",
                  "arn": "arn:aws:sts::949309607565:assumed-role/inlr2e5a7mf3x9mbkh98p6bhek-provision/sandbox-run-sbrus3y6wvcz477h0fhdflnmmv",
                  "issuer_id": "AROA52B2DB2G4IGACPG5M",
                  "issuer_arn": "arn:aws:iam::949309607565:role/inlr2e5a7mf3x9mbkh98p6bhek-provision",
                  "issuer_name": "inlr2e5a7mf3x9mbkh98p6bhek-provision",
                  "session_name": "sandbox-run-sbrus3y6wvcz477h0fhdflnmmv"
                },
                "address": "module.eks.data.aws_iam_session_context.current[0]",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "sensitive_values": {}
              },
              {
                "mode": "data",
                "name": "current",
                "type": "aws_partition",
                "index": 0,
                "values": {
                  "id": "aws",
                  "partition": "aws",
                  "dns_suffix": "amazonaws.com",
                  "reverse_dns_prefix": "com.amazonaws"
                },
                "address": "module.eks.data.aws_partition.current[0]",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "sensitive_values": {}
              }
            ],
            "child_modules": [
              {
                "address": "module.eks.module.eks_managed_node_group[\"karpenter\"]",
                "resources": [
                  {
                    "mode": "data",
                    "name": "current",
                    "type": "aws_caller_identity",
                    "values": {
                      "id": "949309607565",
                      "arn": "arn:aws:sts::949309607565:assumed-role/inlr2e5a7mf3x9mbkh98p6bhek-provision/sandbox-run-sbrus3y6wvcz477h0fhdflnmmv",
                      "user_id": "AROA52B2DB2G4IGACPG5M:sandbox-run-sbrus3y6wvcz477h0fhdflnmmv",
                      "account_id": "949309607565"
                    },
                    "address": "module.eks.module.eks_managed_node_group[\"karpenter\"].data.aws_caller_identity.current",
                    "provider_name": "registry.terraform.io/hashicorp/aws",
                    "schema_version": 0,
                    "sensitive_values": {}
                  },
                  {
                    "mode": "data",
                    "name": "assume_role_policy",
                    "type": "aws_iam_policy_document",
                    "index": 0,
                    "values": {
                      "id": "2560088296",
                      "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"EKSNodeAssumeRole\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ec2.amazonaws.com\"\n      }\n    }\n  ]\n}",
                      "version": "2012-10-17",
                      "policy_id": null,
                      "statement": [
                        {
                          "sid": "EKSNodeAssumeRole",
                          "effect": "Allow",
                          "actions": [
                            "sts:AssumeRole"
                          ],
                          "condition": [],
                          "resources": [],
                          "principals": [
                            {
                              "type": "Service",
                              "identifiers": [
                                "ec2.amazonaws.com"
                              ]
                            }
                          ],
                          "not_actions": [],
                          "not_resources": [],
                          "not_principals": []
                        }
                      ],
                      "source_json": null,
                      "minified_json": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"EKSNodeAssumeRole\",\"Effect\":\"Allow\",\"Action\":\"sts:AssumeRole\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}]}",
                      "override_json": null,
                      "source_policy_documents": null,
                      "override_policy_documents": null
                    },
                    "address": "module.eks.module.eks_managed_node_group[\"karpenter\"].data.aws_iam_policy_document.assume_role_policy[0]",
                    "provider_name": "registry.terraform.io/hashicorp/aws",
                    "schema_version": 0,
                    "sensitive_values": {
                      "statement": [
                        {
                          "actions": [
                            false
                          ],
                          "condition": [],
                          "resources": [],
                          "principals": [
                            {
                              "identifiers": [
                                false
                              ]
                            }
                          ],
                          "not_actions": [],
                          "not_resources": [],
                          "not_principals": []
                        }
                      ]
                    }
                  },
                  {
                    "mode": "data",
                    "name": "current",
                    "type": "aws_partition",
                    "values": {
                      "id": "aws",
                      "partition": "aws",
                      "dns_suffix": "amazonaws.com",
                      "reverse_dns_prefix": "com.amazonaws"
                    },
                    "address": "module.eks.module.eks_managed_node_group[\"karpenter\"].data.aws_partition.current",
                    "provider_name": "registry.terraform.io/hashicorp/aws",
                    "schema_version": 0,
                    "sensitive_values": {}
                  }
                ]
              }
            ]
          }
        ]
      }
    },
    "format_version": "1.0",
    "terraform_version": "1.11.3"
  },
  "configuration": {
    "root_module": {
      "outputs": {
        "ecr": {
          "expression": {
            "references": [
              "module.ecr.repository_url",
              "module.ecr",
              "module.ecr.repository_arn",
              "module.ecr",
              "var.nuon_id",
              "module.ecr.repository_registry_id",
              "module.ecr",
              "data.aws_caller_identity.current.account_id",
              "data.aws_caller_identity.current",
              "var.region"
            ]
          },
          "description": "A map of ECR attributes: repository_url, repository_arn, repository_name, registry_id, registry_url."
        },
        "vpc": {
          "expression": {
            "references": [
              "data.aws_vpc.vpc.id",
              "data.aws_vpc.vpc",
              "data.aws_vpc.vpc.arn",
              "data.aws_vpc.vpc",
              "data.aws_vpc.vpc.cidr_block",
              "data.aws_vpc.vpc",
              "data.aws_availability_zones.available.names",
              "data.aws_availability_zones.available",
              "local.subnets.private.cidrs",
              "local.subnets.private",
              "local.subnets",
              "local.subnets.private.ids",
              "local.subnets.private",
              "local.subnets",
              "local.subnets.public.cidrs",
              "local.subnets.public",
              "local.subnets",
              "local.subnets.public.ids",
              "local.subnets.public",
              "local.subnets",
              "local.subnets.runner.ids[0]",
              "local.subnets.runner.ids",
              "local.subnets.runner",
              "local.subnets",
              "local.subnets.runner.cidrs[0]",
              "local.subnets.runner.cidrs",
              "local.subnets.runner",
              "local.subnets",
              "data.aws_security_group.default.id",
              "data.aws_security_group.default"
            ]
          },
          "description": "A map of vpc attributes: name, id, cidr, azs, private_subnet_cidr_blocks, private_subnet_ids, public_subnet_cidr_blocks, public_subnet_ids, default_security_group_id."
        },
        "account": {
          "expression": {
            "references": [
              "data.aws_caller_identity.current.account_id",
              "data.aws_caller_identity.current",
              "var.region"
            ]
          },
          "description": "A map of AWS account attributes: id, region."
        },
        "cluster": {
          "expression": {
            "references": [
              "module.eks.cluster_arn",
              "module.eks",
              "module.eks.cluster_certificate_authority_data",
              "module.eks",
              "module.eks.cluster_endpoint",
              "module.eks",
              "module.eks.cluster_name",
              "module.eks",
              "module.eks.cluster_platform_version",
              "module.eks",
              "module.eks.cluster_status",
              "module.eks",
              "module.eks.cluster_oidc_issuer_url",
              "module.eks",
              "module.eks.oidc_provider_arn",
              "module.eks",
              "module.eks.oidc_provider",
              "module.eks",
              "module.eks.cluster_security_group_id",
              "module.eks",
              "module.eks.node_security_group_id",
              "module.eks",
              "module.eks.eks_managed_node_groups",
              "module.eks"
            ]
          },
          "description": "A map of EKS cluster attributes: arn, certificate_authority_data, endpoint, name, platform_version, status, oidc_issuer_url, oidc_provider_arn, cluster_security_group_id, node_security_group_id."
        },
        "nuon_dns": {
          "expression": {
            "references": [
              "local.nuon_dns.enabled",
              "local.nuon_dns",
              "local.nuon_dns.enabled",
              "local.nuon_dns",
              "module.nuon_dns[0].public_domain",
              "module.nuon_dns[0]",
              "local.nuon_dns.enabled",
              "local.nuon_dns",
              "module.nuon_dns[0].internal_domain",
              "module.nuon_dns[0]",
              "local.nuon_dns.enabled",
              "local.nuon_dns",
              "local.nuon_dns.enabled",
              "local.nuon_dns",
              "module.nuon_dns[0].alb_ingress_controller.release.id",
              "module.nuon_dns[0].alb_ingress_controller.release",
              "module.nuon_dns[0].alb_ingress_controller",
              "module.nuon_dns[0]",
              "local.nuon_dns.enabled",
              "local.nuon_dns",
              "module.nuon_dns[0].alb_ingress_controller.release.chart",
              "module.nuon_dns[0].alb_ingress_controller.release",
              "module.nuon_dns[0].alb_ingress_controller",
              "module.nuon_dns[0]",
              "local.nuon_dns.enabled",
              "local.nuon_dns",
              "module.nuon_dns[0].alb_ingress_controller.release.revision",
              "module.nuon_dns[0].alb_ingress_controller.release",
              "module.nuon_dns[0].alb_ingress_controller",
              "module.nuon_dns[0]",
              "local.nuon_dns.enabled",
              "local.nuon_dns",
              "local.nuon_dns.enabled",
              "local.nuon_dns",
              "module.nuon_dns[0].external_dns.release.id",
              "module.nuon_dns[0].external_dns.release",
              "module.nuon_dns[0].external_dns",
              "module.nuon_dns[0]",
              "local.nuon_dns.enabled",
              "local.nuon_dns",
              "module.nuon_dns[0].external_dns.release.chart",
              "module.nuon_dns[0].external_dns.release",
              "module.nuon_dns[0].external_dns",
              "module.nuon_dns[0]",
              "local.nuon_dns.enabled",
              "local.nuon_dns",
              "module.nuon_dns[0].external_dns.release.revision",
              "module.nuon_dns[0].external_dns.release",
              "module.nuon_dns[0].external_dns",
              "module.nuon_dns[0]",
              "local.nuon_dns.enabled",
              "local.nuon_dns",
              "local.nuon_dns.enabled",
              "local.nuon_dns",
              "module.nuon_dns[0].cert_manager.release.id",
              "module.nuon_dns[0].cert_manager.release",
              "module.nuon_dns[0].cert_manager",
              "module.nuon_dns[0]",
              "local.nuon_dns.enabled",
              "local.nuon_dns",
              "module.nuon_dns[0].cert_manager.release.chart",
              "module.nuon_dns[0].cert_manager.release",
              "module.nuon_dns[0].cert_manager",
              "module.nuon_dns[0]",
              "local.nuon_dns.enabled",
              "local.nuon_dns",
              "module.nuon_dns[0].cert_manager.release.revision",
              "module.nuon_dns[0].cert_manager.release",
              "module.nuon_dns[0].cert_manager",
              "module.nuon_dns[0]",
              "local.nuon_dns.enabled",
              "local.nuon_dns",
              "local.nuon_dns.enabled",
              "local.nuon_dns",
              "module.nuon_dns[0].ingress_nginx.release.id",
              "module.nuon_dns[0].ingress_nginx.release",
              "module.nuon_dns[0].ingress_nginx",
              "module.nuon_dns[0]",
              "local.nuon_dns.enabled",
              "local.nuon_dns",
              "module.nuon_dns[0].ingress_nginx.release.chart",
              "module.nuon_dns[0].ingress_nginx.release",
              "module.nuon_dns[0].ingress_nginx",
              "module.nuon_dns[0]",
              "local.nuon_dns.enabled",
              "local.nuon_dns",
              "module.nuon_dns[0].ingress_nginx.release.revision",
              "module.nuon_dns[0].ingress_nginx.release",
              "module.nuon_dns[0].ingress_nginx",
              "module.nuon_dns[0]"
            ]
          },
          "description": "A map of Nuon DNS attributes: whether nuon.run has been enabled; AWS Route 53 details for the public_domain and internal_domain; metadata bout the helm charts the module installs on."
        },
        "karpenter": {
          "expression": {
            "references": [
              "aws_iam_instance_profile.karpenter.id",
              "aws_iam_instance_profile.karpenter",
              "aws_iam_instance_profile.karpenter.arn",
              "aws_iam_instance_profile.karpenter",
              "local.karpenter.instance_profile_name",
              "local.karpenter",
              "local.karpenter.discovery_key",
              "local.karpenter",
              "local.karpenter.discovery_value",
              "local.karpenter"
            ]
          }
        },
        "namespaces": {
          "expression": {
            "references": [
              "kubectl_manifest.namespaces"
            ]
          },
          "description": "A list of namespaces that were created by this module."
        },
        "additional_irsa": {
          "expression": {
            "references": [
              "module.additional_irsa"
            ]
          }
        }
      },
      "resources": [
        {
          "mode": "managed",
          "name": "private_subnets_karpenter_tags",
          "type": "aws_ec2_tag",
          "address": "aws_ec2_tag.private_subnets_karpenter_tags",
          "expressions": {
            "key": {
              "references": [
                "local.karpenter.discovery_key",
                "local.karpenter"
              ]
            },
            "value": {
              "references": [
                "local.karpenter.discovery_value",
                "local.karpenter"
              ]
            },
            "resource_id": {
              "references": [
                "each.value"
              ]
            }
          },
          "schema_version": 0,
          "for_each_expression": {
            "references": [
              "local.subnets.private.ids",
              "local.subnets.private",
              "local.subnets"
            ]
          },
          "provider_config_key": "aws"
        },
        {
          "mode": "managed",
          "name": "karpenter",
          "type": "aws_iam_instance_profile",
          "address": "aws_iam_instance_profile.karpenter",
          "expressions": {
            "name": {
              "references": [
                "local.karpenter.instance_profile_name",
                "local.karpenter"
              ]
            },
            "role": {
              "references": [
                "module.eks.eks_managed_node_groups[\"karpenter\"].iam_role_name",
                "module.eks.eks_managed_node_groups[\"karpenter\"]",
                "module.eks.eks_managed_node_groups",
                "module.eks"
              ]
            }
          },
          "schema_version": 0,
          "provider_config_key": "aws"
        },
        {
          "mode": "managed",
          "name": "ecr_access",
          "type": "aws_iam_policy",
          "address": "aws_iam_policy.ecr_access",
          "expressions": {
            "name": {
              "references": [
                "var.nuon_id"
              ]
            },
            "tags": {
              "references": [
                "var.tags"
              ]
            },
            "policy": {
              "references": [
                "data.aws_iam_policy_document.ecr.json",
                "data.aws_iam_policy_document.ecr"
              ]
            }
          },
          "schema_version": 0,
          "provider_config_key": "aws"
        },
        {
          "mode": "managed",
          "name": "ecr_access_deprovision",
          "type": "aws_iam_role_policy_attachment",
          "address": "aws_iam_role_policy_attachment.ecr_access_deprovision",
          "expressions": {
            "role": {
              "references": [
                "local.roles.deprovision_iam_role_name",
                "local.roles"
              ]
            },
            "policy_arn": {
              "references": [
                "aws_iam_policy.ecr_access.arn",
                "aws_iam_policy.ecr_access"
              ]
            }
          },
          "schema_version": 0,
          "provider_config_key": "aws"
        },
        {
          "mode": "managed",
          "name": "ecr_access_maintenance",
          "type": "aws_iam_role_policy_attachment",
          "address": "aws_iam_role_policy_attachment.ecr_access_maintenance",
          "expressions": {
            "role": {
              "references": [
                "local.roles.maintenance_iam_role_name",
                "local.roles"
              ]
            },
            "policy_arn": {
              "references": [
                "aws_iam_policy.ecr_access.arn",
                "aws_iam_policy.ecr_access"
              ]
            }
          },
          "schema_version": 0,
          "provider_config_key": "aws"
        },
        {
          "mode": "managed",
          "name": "ecr_access_provision",
          "type": "aws_iam_role_policy_attachment",
          "address": "aws_iam_role_policy_attachment.ecr_access_provision",
          "expressions": {
            "role": {
              "references": [
                "local.roles.provision_iam_role_name",
                "local.roles"
              ]
            },
            "policy_arn": {
              "references": [
                "aws_iam_policy.ecr_access.arn",
                "aws_iam_policy.ecr_access"
              ]
            }
          },
          "schema_version": 0,
          "provider_config_key": "aws"
        },
        {
          "mode": "managed",
          "name": "eks",
          "type": "aws_kms_key",
          "address": "aws_kms_key.eks",
          "expressions": {
            "description": {
              "references": [
                "local.cluster_name"
              ]
            }
          },
          "schema_version": 0,
          "provider_config_key": "aws"
        },
        {
          "mode": "managed",
          "name": "runner_cluster_access",
          "type": "aws_security_group_rule",
          "address": "aws_security_group_rule.runner_cluster_access",
          "depends_on": [
            "module.eks"
          ],
          "expressions": {
            "type": {
              "constant_value": "ingress"
            },
            "to_port": {
              "constant_value": 0
            },
            "protocol": {
              "constant_value": "-1"
            },
            "from_port": {
              "constant_value": 0
            },
            "description": {
              "constant_value": "Allow ingress traffic from runner."
            },
            "security_group_id": {
              "references": [
                "module.eks.cluster_security_group_id",
                "module.eks"
              ]
            },
            "source_security_group_id": {
              "references": [
                "data.aws_security_groups.runner.ids[0]",
                "data.aws_security_groups.runner.ids",
                "data.aws_security_groups.runner"
              ]
            }
          },
          "schema_version": 2,
          "provider_config_key": "aws"
        },
        {
          "mode": "managed",
          "name": "ebs_csi",
          "type": "helm_release",
          "address": "helm_release.ebs_csi",
          "depends_on": [
            "module.ebs_csi_irsa",
            "module.eks",
            "aws_security_group_rule.runner_cluster_access"
          ],
          "expressions": {
            "name": {
              "references": [
                "local.ebs_csi.name",
                "local.ebs_csi"
              ]
            },
            "chart": {
              "constant_value": "aws-ebs-csi-driver"
            },
            "values": {
              "references": [
                "module.eks.cluster_name",
                "module.eks",
                "module.ebs_csi_irsa.iam_role_arn",
                "module.ebs_csi_irsa"
              ]
            },
            "version": {
              "constant_value": "2.16.0"
            },
            "namespace": {
              "references": [
                "local.ebs_csi.namespace",
                "local.ebs_csi"
              ]
            },
            "repository": {
              "constant_value": "https://kubernetes-sigs.github.io/aws-ebs-csi-driver"
            },
            "create_namespace": {
              "constant_value": true
            }
          },
          "schema_version": 1,
          "provider_config_key": "helm.main"
        },
        {
          "mode": "managed",
          "name": "karpenter",
          "type": "helm_release",
          "address": "helm_release.karpenter",
          "depends_on": [
            "helm_release.karpenter_crd"
          ],
          "expressions": {
            "name": {
              "constant_value": "karpenter"
            },
            "chart": {
              "constant_value": "karpenter"
            },
            "values": {
              "references": [
                "var.karpenter_replica_count",
                "module.eks.cluster_endpoint",
                "module.eks",
                "local.karpenter.cluster_name",
                "local.karpenter",
                "module.karpenter.queue_name",
                "module.karpenter",
                "module.karpenter.iam_role_arn",
                "module.karpenter"
              ]
            },
            "version": {
              "references": [
                "local.karpenter.version",
                "local.karpenter"
              ]
            },
            "namespace": {
              "references": [
                "local.karpenter.namespace",
                "local.karpenter"
              ]
            },
            "repository": {
              "constant_value": "oci://public.ecr.aws/karpenter"
            },
            "create_namespace": {
              "constant_value": false
            }
          },
          "schema_version": 1,
          "provider_config_key": "helm.main"
        },
        {
          "mode": "managed",
          "name": "karpenter_crd",
          "type": "helm_release",
          "address": "helm_release.karpenter_crd",
          "depends_on": [
            "module.karpenter"
          ],
          "expressions": {
            "name": {
              "constant_value": "karpenter-crd"
            },
            "wait": {
              "constant_value": true
            },
            "chart": {
              "constant_value": "karpenter-crd"
            },
            "values": {
              "references": [
                "local.karpenter.namespace",
                "local.karpenter"
              ]
            },
            "version": {
              "references": [
                "local.karpenter.version",
                "local.karpenter"
              ]
            },
            "namespace": {
              "references": [
                "local.karpenter.namespace",
                "local.karpenter"
              ]
            },
            "repository": {
              "constant_value": "oci://public.ecr.aws/karpenter"
            },
            "create_namespace": {
              "constant_value": false
            }
          },
          "schema_version": 1,
          "provider_config_key": "helm.main"
        },
        {
          "mode": "managed",
          "name": "kyverno",
          "type": "helm_release",
          "address": "helm_release.kyverno",
          "depends_on": [
            "module.eks",
            "aws_security_group_rule.runner_cluster_access"
          ],
          "expressions": {
            "name": {
              "constant_value": "kyverno"
            },
            "chart": {
              "constant_value": "kyverno"
            },
            "values": {
              "references": [
                "local.kyverno.value_file",
                "local.kyverno"
              ]
            },
            "version": {
              "constant_value": "3.3.7"
            },
            "namespace": {
              "constant_value": "kyverno"
            },
            "repository": {
              "constant_value": "https://kyverno.github.io/kyverno/"
            },
            "create_namespace": {
              "constant_value": true
            }
          },
          "schema_version": 1,
          "provider_config_key": "helm.main"
        },
        {
          "mode": "managed",
          "name": "metrics_server",
          "type": "helm_release",
          "address": "helm_release.metrics_server",
          "depends_on": [
            "module.eks",
            "aws_security_group_rule.runner_cluster_access"
          ],
          "expressions": {
            "name": {
              "constant_value": "metrics-server"
            },
            "chart": {
              "constant_value": "metrics-server"
            },
            "values": {},
            "version": {
              "constant_value": "3.8.2"
            },
            "namespace": {
              "constant_value": "metrics-server"
            },
            "repository": {
              "constant_value": "https://kubernetes-sigs.github.io/metrics-server/"
            },
            "create_namespace": {
              "constant_value": true
            }
          },
          "schema_version": 1,
          "provider_config_key": "helm.main"
        },
        {
          "mode": "managed",
          "name": "default_policies",
          "type": "kubectl_manifest",
          "address": "kubectl_manifest.default_policies",
          "depends_on": [
            "helm_release.kyverno"
          ],
          "expressions": {
            "yaml_body": {
              "references": [
                "each.value"
              ]
            }
          },
          "schema_version": 1,
          "for_each_expression": {
            "references": [
              "local.kyverno.default_policies",
              "local.kyverno"
            ]
          },
          "provider_config_key": "kubectl.main"
        },
        {
          "mode": "managed",
          "name": "karpenter_ec2nodeclass_default",
          "type": "kubectl_manifest",
          "address": "kubectl_manifest.karpenter_ec2nodeclass_default",
          "depends_on": [
            "helm_release.karpenter"
          ],
          "expressions": {
            "yaml_body": {
              "references": [
                "local.karpenter.cluster_name",
                "local.karpenter",
                "local.default_nodeclass_ami_selector_terms",
                "local.karpenter.discovery_value",
                "local.karpenter",
                "local.karpenter.discovery_value",
                "local.karpenter",
                "local.tags"
              ]
            }
          },
          "schema_version": 1,
          "provider_config_key": "kubectl.main"
        },
        {
          "mode": "managed",
          "name": "karpenter_nodepool_default",
          "type": "kubectl_manifest",
          "address": "kubectl_manifest.karpenter_nodepool_default",
          "depends_on": [
            "kubectl_manifest.karpenter_ec2nodeclass_default",
            "helm_release.karpenter"
          ],
          "expressions": {
            "yaml_body": {
              "references": [
                "local.default_nodepool_spec"
              ]
            }
          },
          "schema_version": 1,
          "provider_config_key": "kubectl.main"
        },
        {
          "mode": "managed",
          "name": "maintenance",
          "type": "kubectl_manifest",
          "address": "kubectl_manifest.maintenance",
          "depends_on": [
            "module.eks",
            "aws_security_group_rule.runner_cluster_access"
          ],
          "expressions": {
            "yaml_body": {
              "references": [
                "local.groups.maintenance.labels",
                "local.groups.maintenance",
                "local.groups",
                "var.maintenance_cluster_role_rules_override",
                "var.maintenance_cluster_role_rules_override",
                "local.groups.maintenance.default_rules",
                "local.groups.maintenance",
                "local.groups"
              ]
            }
          },
          "schema_version": 1,
          "provider_config_key": "kubectl.main"
        },
        {
          "mode": "managed",
          "name": "maintenance_role_binding",
          "type": "kubectl_manifest",
          "address": "kubectl_manifest.maintenance_role_binding",
          "depends_on": [
            "module.eks",
            "aws_security_group_rule.runner_cluster_access"
          ],
          "expressions": {
            "yaml_body": {
              "references": [
                "local.groups.maintenance.role_binding",
                "local.groups.maintenance",
                "local.groups"
              ]
            }
          },
          "schema_version": 1,
          "provider_config_key": "kubectl.main"
        },
        {
          "mode": "managed",
          "name": "namespaces",
          "type": "kubectl_manifest",
          "address": "kubectl_manifest.namespaces",
          "depends_on": [
            "module.eks",
            "aws_security_group_rule.runner_cluster_access"
          ],
          "expressions": {
            "yaml_body": {
              "references": [
                "each.value"
              ]
            }
          },
          "schema_version": 1,
          "for_each_expression": {
            "references": [
              "local.namespaces"
            ]
          },
          "provider_config_key": "kubectl.main"
        },
        {
          "mode": "managed",
          "name": "vendor_policies",
          "type": "kubectl_manifest",
          "address": "kubectl_manifest.vendor_policies",
          "depends_on": [
            "helm_release.kyverno"
          ],
          "expressions": {
            "yaml_body": {
              "references": [
                "var.kyverno_policy_dir",
                "each.key"
              ]
            }
          },
          "schema_version": 1,
          "for_each_expression": {
            "references": [
              "var.kyverno_policy_dir"
            ]
          },
          "provider_config_key": "kubectl.main"
        },
        {
          "mode": "data",
          "name": "available",
          "type": "aws_availability_zones",
          "address": "data.aws_availability_zones.available",
          "expressions": {
            "state": {
              "constant_value": "available"
            }
          },
          "schema_version": 0,
          "provider_config_key": "aws"
        },
        {
          "mode": "data",
          "name": "current",
          "type": "aws_caller_identity",
          "address": "data.aws_caller_identity.current",
          "schema_version": 0,
          "provider_config_key": "aws"
        },
        {
          "mode": "data",
          "name": "ecr",
          "type": "aws_iam_policy_document",
          "address": "data.aws_iam_policy_document.ecr",
          "expressions": {
            "statement": [
              {
                "effect": {
                  "constant_value": "Allow"
                },
                "actions": {
                  "constant_value": [
                    "ecr:*",
                    "cloudtrail:LookupEvents"
                  ]
                },
                "resources": {
                  "references": [
                    "module.ecr.repository_arn",
                    "module.ecr"
                  ]
                }
              },
              {
                "effect": {
                  "constant_value": "Allow"
                },
                "actions": {
                  "constant_value": [
                    "iam:CreateServiceLinkedRole"
                  ]
                },
                "condition": [
                  {
                    "test": {
                      "constant_value": "StringEquals"
                    },
                    "values": {
                      "constant_value": [
                        "replication.ecr.amazonaws.com"
                      ]
                    },
                    "variable": {
                      "constant_value": "iam:AWSServiceName"
                    }
                  }
                ],
                "resources": {
                  "references": [
                    "module.ecr.repository_arn",
                    "module.ecr"
                  ]
                }
              }
            ]
          },
          "schema_version": 0,
          "provider_config_key": "aws"
        },
        {
          "mode": "data",
          "name": "default",
          "type": "aws_security_group",
          "address": "data.aws_security_group.default",
          "expressions": {
            "name": {
              "constant_value": "default"
            },
            "vpc_id": {
              "references": [
                "data.aws_vpc.vpc.id",
                "data.aws_vpc.vpc"
              ]
            }
          },
          "schema_version": 0,
          "provider_config_key": "aws"
        },
        {
          "mode": "data",
          "name": "runner",
          "type": "aws_security_groups",
          "address": "data.aws_security_groups.runner",
          "expressions": {
            "tags": {
              "references": [
                "var.nuon_id"
              ]
            }
          },
          "schema_version": 0,
          "provider_config_key": "aws"
        },
        {
          "mode": "data",
          "name": "private",
          "type": "aws_subnet",
          "address": "data.aws_subnet.private",
          "expressions": {
            "id": {
              "references": [
                "each.key"
              ]
            }
          },
          "schema_version": 0,
          "for_each_expression": {
            "references": [
              "data.aws_subnets.private.ids",
              "data.aws_subnets.private"
            ]
          },
          "provider_config_key": "aws"
        },
        {
          "mode": "data",
          "name": "public",
          "type": "aws_subnet",
          "address": "data.aws_subnet.public",
          "expressions": {
            "id": {
              "references": [
                "each.key"
              ]
            }
          },
          "schema_version": 0,
          "for_each_expression": {
            "references": [
              "data.aws_subnets.public.ids",
              "data.aws_subnets.public"
            ]
          },
          "provider_config_key": "aws"
        },
        {
          "mode": "data",
          "name": "runner",
          "type": "aws_subnet",
          "address": "data.aws_subnet.runner",
          "expressions": {
            "id": {
              "references": [
                "each.key"
              ]
            }
          },
          "schema_version": 0,
          "for_each_expression": {
            "references": [
              "data.aws_subnets.runner.ids",
              "data.aws_subnets.runner"
            ]
          },
          "provider_config_key": "aws"
        },
        {
          "mode": "data",
          "name": "private",
          "type": "aws_subnets",
          "address": "data.aws_subnets.private",
          "expressions": {
            "tags": {
              "references": [
                "var.nuon_id"
              ]
            },
            "filter": [
              {
                "name": {
                  "constant_value": "vpc-id"
                },
                "values": {
                  "references": [
                    "var.vpc_id"
                  ]
                }
              }
            ]
          },
          "schema_version": 0,
          "provider_config_key": "aws"
        },
        {
          "mode": "data",
          "name": "public",
          "type": "aws_subnets",
          "address": "data.aws_subnets.public",
          "expressions": {
            "tags": {
              "references": [
                "var.nuon_id"
              ]
            },
            "filter": [
              {
                "name": {
                  "constant_value": "vpc-id"
                },
                "values": {
                  "references": [
                    "var.vpc_id"
                  ]
                }
              }
            ]
          },
          "schema_version": 0,
          "provider_config_key": "aws"
        },
        {
          "mode": "data",
          "name": "runner",
          "type": "aws_subnets",
          "address": "data.aws_subnets.runner",
          "expressions": {
            "tags": {
              "references": [
                "var.nuon_id"
              ]
            },
            "filter": [
              {
                "name": {
                  "constant_value": "vpc-id"
                },
                "values": {
                  "references": [
                    "var.vpc_id"
                  ]
                }
              }
            ]
          },
          "schema_version": 0,
          "provider_config_key": "aws"
        },
        {
          "mode": "data",
          "name": "vpc",
          "type": "aws_vpc",
          "address": "data.aws_vpc.vpc",
          "expressions": {
            "id": {
              "references": [
                "var.vpc_id"
              ]
            }
          },
          "schema_version": 0,
          "provider_config_key": "aws"
        }
      ],
      "variables": {
        "tags": {
          "description": "List of custom tags to add to the install resources. Used for taxonomic purposes."
        },
        "region": {
          "description": "The region to launch the cluster in."
        },
        "vpc_id": {
          "description": "The ID of the AWS VPC to provision the sandbox in."
        },
        "nuon_id": {
          "description": "The nuon id for this install. Used for naming purposes."
        },
        "max_size": {
          "default": 5,
          "description": "The maximum number of nodes in the managed node group."
        },
        "min_size": {
          "default": 2,
          "description": "The minimum number of nodes in the managed node group."
        },
        "helm_driver": {
          "default": "secret",
          "description": "One of 'configmap' or 'secret'"
        },
        "cluster_name": {
          "default": "",
          "description": "The name of the EKS cluster. If not provided, the install ID will be used by default."
        },
        "desired_size": {
          "default": 3,
          "description": "The desired number of nodes in the managed node group."
        },
        "additional_tags": {
          "default": {},
          "description": "Extra tags to append to the default tags that will be added to install resources."
        },
        "cluster_version": {
          "default": "1.32",
          "description": "The Kubernetes version to use for the EKS cluster."
        },
        "enable_nuon_dns": {
          "default": "false",
          "description": "Whether or not the cluster should use a nuon-provided nuon.run domain. Controls the cert-manager-issuer and the route_53_zone."
        },
        "additional_irsas": {
          "default": [],
          "description": "List of additional IRSA accounts to create."
        },
        "kyverno_policy_dir": {
          "default": "./kyverno-policies",
          "description": "Path to a directory with kyverno policy manifests."
        },
        "public_root_domain": {
          "description": "The public root domain."
        },
        "internal_root_domain": {
          "description": "The internal root domain."
        },
        "additional_namespaces": {
          "default": [],
          "description": "A list of namespaces that should be created on the cluster. The `{{.nuon.install.id}}` namespace is created by default."
        },
        "default_instance_type": {
          "default": "t3a.medium",
          "description": "The EC2 instance type to use for the EKS cluster's default node group."
        },
        "provision_iam_role_arn": {
          "description": "The maintenance IAM Role ARN"
        },
        "additional_access_entry": {
          "default": {},
          "description": "A single access entry. Useful when providing access to an additional role."
        },
        "karpenter_replica_count": {
          "default": 2,
          "description": "The number of replicas for the Karpenter controller."
        },
        "deprovision_iam_role_arn": {
          "description": "The deprovision IAM Role ARN"
        },
        "maintenance_iam_role_arn": {
          "description": "The provision IAM Role ARN"
        },
        "karpenter_default_nodepool_spec": {
          "description": "If specified, override the included `default` nodepool spec."
        },
        "provision_role_eks_kubernetes_groups": {
          "default": [],
          "description": "List of Kubernetes Groups to add this role to. The provision role is assigned to a provision group automatically. These are additional groups."
        },
        "deprovision_role_eks_kubernetes_groups": {
          "default": [],
          "description": "List of Kubernetes Groups to add this role to. The deprovision role is assigned to a deprovision group automatically. These are additional groups."
        },
        "maintenance_role_eks_kubernetes_groups": {
          "default": [],
          "description": "List of Kubernetes Groups to add this role to. The maintenance role is assigned to a maintenance group automatically. These are additional groups."
        },
        "maintenance_cluster_role_rules_override": {
          "default": [],
          "description": "A list of rules for the ClusterRole definition for the maintenance group. If this value is provided, these rules will be used instead."
        },
        "karpenter_default_nodeclass_ami_selector_terms": {
          "description": "If specified, override the included `default` nodeclass AMI selector terms."
        },
        "provision_role_eks_access_entry_policy_associations": {
          "default": {
            "eks_admin": {
              "policy_arn": "arn:aws:eks::aws:cluster-access-policy/AmazonEKSAdminPolicy",
              "access_scope": {
                "type": "cluster"
              }
            },
            "cluster_admin": {
              "policy_arn": "arn:aws:eks::aws:cluster-access-policy/AmazonEKSClusterAdminPolicy",
              "access_scope": {
                "type": "cluster"
              }
            }
          },
          "description": "EKS Cluster Access Entry Policy Associations for provision role."
        },
        "deprovision_role_eks_access_entry_policy_associations": {
          "default": {
            "eks_admin": {
              "policy_arn": "arn:aws:eks::aws:cluster-access-policy/AmazonEKSAdminPolicy",
              "access_scope": {
                "type": "cluster"
              }
            },
            "cluster_admin": {
              "policy_arn": "arn:aws:eks::aws:cluster-access-policy/AmazonEKSClusterAdminPolicy",
              "access_scope": {
                "type": "cluster"
              }
            }
          },
          "description": "EKS Cluster Access Entry Policy Associations for deprovision role."
        },
        "maintenance_role_eks_access_entry_policy_associations": {
          "default": {},
          "description": "EKS Cluster Access Entry Policy Associations for maintenance role. Defaults to none meaning permissions are governed by eponymous RBAC group."
        }
      },
      "module_calls": {
        "ecr": {
          "module": {
            "outputs": {
              "repository_arn": {
                "expression": {
                  "references": [
                    "aws_ecr_repository.this[0].arn",
                    "aws_ecr_repository.this[0]",
                    "aws_ecr_repository.this",
                    "aws_ecrpublic_repository.this[0].arn",
                    "aws_ecrpublic_repository.this[0]",
                    "aws_ecrpublic_repository.this"
                  ]
                },
                "description": "Full ARN of the repository"
              },
              "repository_url": {
                "expression": {
                  "references": [
                    "aws_ecr_repository.this[0].repository_url",
                    "aws_ecr_repository.this[0]",
                    "aws_ecr_repository.this",
                    "aws_ecrpublic_repository.this[0].repository_uri",
                    "aws_ecrpublic_repository.this[0]",
                    "aws_ecrpublic_repository.this"
                  ]
                },
                "description": "The URL of the repository"
              },
              "repository_name": {
                "expression": {
                  "references": [
                    "aws_ecr_repository.this[0].name",
                    "aws_ecr_repository.this[0]",
                    "aws_ecr_repository.this",
                    "aws_ecrpublic_repository.this[0].id",
                    "aws_ecrpublic_repository.this[0]",
                    "aws_ecrpublic_repository.this"
                  ]
                },
                "description": "Name of the repository"
              },
              "repository_registry_id": {
                "expression": {
                  "references": [
                    "aws_ecr_repository.this[0].registry_id",
                    "aws_ecr_repository.this[0]",
                    "aws_ecr_repository.this",
                    "aws_ecrpublic_repository.this[0].registry_id",
                    "aws_ecrpublic_repository.this[0]",
                    "aws_ecrpublic_repository.this"
                  ]
                },
                "description": "The registry ID where the repository was created"
              }
            },
            "resources": [
              {
                "mode": "managed",
                "name": "this",
                "type": "aws_ecr_lifecycle_policy",
                "address": "aws_ecr_lifecycle_policy.this",
                "expressions": {
                  "policy": {
                    "references": [
                      "var.repository_lifecycle_policy"
                    ]
                  },
                  "repository": {
                    "references": [
                      "aws_ecr_repository.this[0].name",
                      "aws_ecr_repository.this[0]",
                      "aws_ecr_repository.this"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_private_repository",
                    "var.create_lifecycle_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "this",
                "type": "aws_ecr_pull_through_cache_rule",
                "address": "aws_ecr_pull_through_cache_rule.this",
                "expressions": {
                  "credential_arn": {
                    "references": [
                      "each.value.credential_arn",
                      "each.value"
                    ]
                  },
                  "custom_role_arn": {
                    "references": [
                      "each.value.custom_role_arn",
                      "each.value"
                    ]
                  },
                  "ecr_repository_prefix": {
                    "references": [
                      "each.value.ecr_repository_prefix",
                      "each.value"
                    ]
                  },
                  "upstream_registry_url": {
                    "references": [
                      "each.value.upstream_registry_url",
                      "each.value"
                    ]
                  },
                  "upstream_repository_prefix": {
                    "references": [
                      "each.value.upstream_repository_prefix",
                      "each.value"
                    ]
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "var.registry_pull_through_cache_rules",
                    "var.create"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "this",
                "type": "aws_ecr_registry_policy",
                "address": "aws_ecr_registry_policy.this",
                "expressions": {
                  "policy": {
                    "references": [
                      "var.registry_policy"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create",
                    "var.create_registry_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "this",
                "type": "aws_ecr_registry_scanning_configuration",
                "address": "aws_ecr_registry_scanning_configuration.this",
                "expressions": {
                  "scan_type": {
                    "references": [
                      "var.registry_scan_type"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create",
                    "var.manage_registry_scanning_configuration"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "this",
                "type": "aws_ecr_replication_configuration",
                "address": "aws_ecr_replication_configuration.this",
                "expressions": {
                  "replication_configuration": [
                    {}
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create",
                    "var.create_registry_replication_configuration"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "this",
                "type": "aws_ecr_repository",
                "address": "aws_ecr_repository.this",
                "expressions": {
                  "name": {
                    "references": [
                      "var.repository_name"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "force_delete": {
                    "references": [
                      "var.repository_force_delete"
                    ]
                  },
                  "image_tag_mutability": {
                    "references": [
                      "var.repository_image_tag_mutability"
                    ]
                  },
                  "encryption_configuration": [
                    {
                      "kms_key": {
                        "references": [
                          "var.repository_kms_key"
                        ]
                      },
                      "encryption_type": {
                        "references": [
                          "var.repository_encryption_type"
                        ]
                      }
                    }
                  ],
                  "image_scanning_configuration": [
                    {
                      "scan_on_push": {
                        "references": [
                          "var.repository_image_scan_on_push"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_private_repository"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "this",
                "type": "aws_ecr_repository_policy",
                "address": "aws_ecr_repository_policy.this",
                "expressions": {
                  "policy": {
                    "references": [
                      "var.create_repository_policy",
                      "data.aws_iam_policy_document.repository[0].json",
                      "data.aws_iam_policy_document.repository[0]",
                      "data.aws_iam_policy_document.repository",
                      "var.repository_policy"
                    ]
                  },
                  "repository": {
                    "references": [
                      "aws_ecr_repository.this[0].name",
                      "aws_ecr_repository.this[0]",
                      "aws_ecr_repository.this"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_private_repository",
                    "var.attach_repository_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "this",
                "type": "aws_ecrpublic_repository",
                "address": "aws_ecrpublic_repository.this",
                "expressions": {
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "repository_name": {
                    "references": [
                      "var.repository_name"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_public_repository"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "example",
                "type": "aws_ecrpublic_repository_policy",
                "address": "aws_ecrpublic_repository_policy.example",
                "expressions": {
                  "policy": {
                    "references": [
                      "var.create_repository_policy",
                      "data.aws_iam_policy_document.repository[0].json",
                      "data.aws_iam_policy_document.repository[0]",
                      "data.aws_iam_policy_document.repository",
                      "var.repository_policy"
                    ]
                  },
                  "repository_name": {
                    "references": [
                      "aws_ecrpublic_repository.this[0].repository_name",
                      "aws_ecrpublic_repository.this[0]",
                      "aws_ecrpublic_repository.this"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_public_repository"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "current",
                "type": "aws_caller_identity",
                "address": "data.aws_caller_identity.current",
                "schema_version": 0,
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "repository",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.repository",
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create",
                    "var.create_repository",
                    "var.create_repository_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "current",
                "type": "aws_partition",
                "address": "data.aws_partition.current",
                "schema_version": 0,
                "provider_config_key": "aws"
              }
            ],
            "variables": {
              "tags": {
                "default": {},
                "description": "A map of tags to add to all resources"
              },
              "create": {
                "default": true,
                "description": "Determines whether resources will be created (affects all resources)"
              },
              "registry_policy": {
                "description": "The policy document. This is a JSON formatted string"
              },
              "repository_name": {
                "default": "",
                "description": "The name of the repository"
              },
              "repository_type": {
                "default": "private",
                "description": "The type of repository to create. Either `public` or `private`"
              },
              "create_repository": {
                "default": true,
                "description": "Determines whether a repository will be created"
              },
              "repository_policy": {
                "description": "The JSON policy to apply to the repository. If not specified, uses the default policy"
              },
              "registry_scan_type": {
                "default": "ENHANCED",
                "description": "the scanning type to set for the registry. Can be either `ENHANCED` or `BASIC`"
              },
              "repository_kms_key": {
                "description": "The ARN of the KMS key to use when encryption_type is `KMS`. If not specified, uses the default AWS managed key for ECR"
              },
              "registry_scan_rules": {
                "default": [],
                "description": "One or multiple blocks specifying scanning rules to determine which repository filters are used and at what frequency scanning will occur"
              },
              "create_registry_policy": {
                "default": false,
                "description": "Determines whether a registry policy will be created"
              },
              "create_lifecycle_policy": {
                "default": true,
                "description": "Determines whether a lifecycle policy will be created"
              },
              "repository_force_delete": {
                "description": "If `true`, will delete the repository even if it contains images. Defaults to `false`"
              },
              "attach_repository_policy": {
                "default": true,
                "description": "Determines whether a repository policy will be attached to the repository"
              },
              "create_repository_policy": {
                "default": true,
                "description": "Determines whether a repository policy will be created"
              },
              "registry_replication_rules": {
                "default": [],
                "description": "The replication rules for a replication configuration. A maximum of 10 are allowed"
              },
              "repository_encryption_type": {
                "description": "The encryption type for the repository. Must be one of: `KMS` or `AES256`. Defaults to `AES256`"
              },
              "repository_lifecycle_policy": {
                "default": "",
                "description": "The policy document. This is a JSON formatted string. See more details about [Policy Parameters](http://docs.aws.amazon.com/AmazonECR/latest/userguide/LifecyclePolicies.html#lifecycle_policy_parameters) in the official AWS docs"
              },
              "repository_read_access_arns": {
                "default": [],
                "description": "The ARNs of the IAM users/roles that have read access to the repository"
              },
              "repository_policy_statements": {
                "default": {},
                "description": "A map of IAM policy [statements](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/iam_policy_document#statement) for custom permission usage"
              },
              "repository_image_scan_on_push": {
                "default": true,
                "description": "Indicates whether images are scanned after being pushed to the repository (`true`) or not scanned (`false`)"
              },
              "public_repository_catalog_data": {
                "default": {},
                "description": "Catalog data configuration for the repository"
              },
              "repository_image_tag_mutability": {
                "default": "IMMUTABLE",
                "description": "The tag mutability setting for the repository. Must be one of: `MUTABLE` or `IMMUTABLE`. Defaults to `IMMUTABLE`"
              },
              "registry_pull_through_cache_rules": {
                "default": {},
                "description": "List of pull through cache rules to create"
              },
              "repository_read_write_access_arns": {
                "default": [],
                "description": "The ARNs of the IAM users/roles that have read/write access to the repository"
              },
              "repository_lambda_read_access_arns": {
                "default": [],
                "description": "The ARNs of the Lambda service roles that have read access to the repository"
              },
              "manage_registry_scanning_configuration": {
                "default": false,
                "description": "Determines whether the registry scanning configuration will be managed"
              },
              "create_registry_replication_configuration": {
                "default": false,
                "description": "Determines whether a registry replication configuration will be created"
              }
            }
          },
          "source": "terraform-aws-modules/ecr/aws",
          "expressions": {
            "tags": {
              "references": [
                "local.tags"
              ]
            },
            "create": {
              "constant_value": true
            },
            "repository_name": {
              "references": [
                "var.nuon_id"
              ]
            },
            "create_repository": {
              "constant_value": true
            },
            "create_lifecycle_policy": {
              "constant_value": false
            },
            "repository_force_delete": {
              "constant_value": true
            },
            "attach_repository_policy": {
              "constant_value": false
            },
            "create_repository_policy": {
              "constant_value": true
            },
            "repository_encryption_type": {
              "constant_value": "KMS"
            },
            "repository_image_scan_on_push": {
              "constant_value": false
            },
            "repository_image_tag_mutability": {
              "constant_value": "MUTABLE"
            },
            "create_registry_replication_configuration": {
              "constant_value": false
            }
          },
          "version_constraint": ">= 2.4.0"
        },
        "eks": {
          "module": {
            "outputs": {
              "cluster_id": {
                "expression": {
                  "references": [
                    "aws_eks_cluster.this[0].cluster_id",
                    "aws_eks_cluster.this[0]",
                    "aws_eks_cluster.this"
                  ]
                },
                "description": "The ID of the EKS cluster. Note: currently a value is returned only for local EKS clusters created on Outposts"
              },
              "kms_key_id": {
                "expression": {
                  "references": [
                    "module.kms.key_id",
                    "module.kms"
                  ]
                },
                "description": "The globally unique identifier for the key"
              },
              "cluster_arn": {
                "depends_on": [
                  "aws_eks_access_entry.this",
                  "aws_eks_access_policy_association.this"
                ],
                "expression": {
                  "references": [
                    "aws_eks_cluster.this[0].arn",
                    "aws_eks_cluster.this[0]",
                    "aws_eks_cluster.this"
                  ]
                },
                "description": "The Amazon Resource Name (ARN) of the cluster"
              },
              "kms_key_arn": {
                "expression": {
                  "references": [
                    "module.kms.key_arn",
                    "module.kms"
                  ]
                },
                "description": "The Amazon Resource Name (ARN) of the key"
              },
              "cluster_name": {
                "depends_on": [
                  "aws_eks_access_entry.this",
                  "aws_eks_access_policy_association.this"
                ],
                "expression": {
                  "references": [
                    "aws_eks_cluster.this[0].name",
                    "aws_eks_cluster.this[0]",
                    "aws_eks_cluster.this"
                  ]
                },
                "description": "The name of the EKS cluster"
              },
              "oidc_provider": {
                "expression": {
                  "references": [
                    "aws_eks_cluster.this[0].identity[0].oidc[0].issuer",
                    "aws_eks_cluster.this[0].identity[0].oidc[0]",
                    "aws_eks_cluster.this[0].identity[0].oidc",
                    "aws_eks_cluster.this[0].identity[0]",
                    "aws_eks_cluster.this[0].identity",
                    "aws_eks_cluster.this[0]",
                    "aws_eks_cluster.this"
                  ]
                },
                "description": "The OpenID Connect identity provider (issuer URL without leading `https://`)"
              },
              "access_entries": {
                "expression": {
                  "references": [
                    "aws_eks_access_entry.this"
                  ]
                },
                "description": "Map of access entries created and their attributes"
              },
              "cluster_addons": {
                "expression": {
                  "references": [
                    "aws_eks_addon.this",
                    "aws_eks_addon.before_compute"
                  ]
                },
                "description": "Map of attribute maps for all EKS cluster addons enabled"
              },
              "cluster_status": {
                "expression": {
                  "references": [
                    "aws_eks_cluster.this[0].status",
                    "aws_eks_cluster.this[0]",
                    "aws_eks_cluster.this"
                  ]
                },
                "description": "Status of the EKS cluster. One of `CREATING`, `ACTIVE`, `DELETING`, `FAILED`"
              },
              "kms_key_policy": {
                "expression": {
                  "references": [
                    "module.kms.key_policy",
                    "module.kms"
                  ]
                },
                "description": "The IAM resource policy set on the key"
              },
              "cluster_version": {
                "expression": {
                  "references": [
                    "aws_eks_cluster.this[0].version",
                    "aws_eks_cluster.this[0]",
                    "aws_eks_cluster.this"
                  ]
                },
                "description": "The Kubernetes version for the cluster"
              },
              "cluster_endpoint": {
                "depends_on": [
                  "aws_eks_access_entry.this",
                  "aws_eks_access_policy_association.this"
                ],
                "expression": {
                  "references": [
                    "aws_eks_cluster.this[0].endpoint",
                    "aws_eks_cluster.this[0]",
                    "aws_eks_cluster.this"
                  ]
                },
                "description": "Endpoint for your Kubernetes API server"
              },
              "fargate_profiles": {
                "expression": {
                  "references": [
                    "module.fargate_profile"
                  ]
                },
                "description": "Map of attribute maps for all EKS Fargate Profiles created"
              },
              "cluster_ip_family": {
                "expression": {
                  "references": [
                    "aws_eks_cluster.this[0].kubernetes_network_config[0].ip_family",
                    "aws_eks_cluster.this[0].kubernetes_network_config[0]",
                    "aws_eks_cluster.this[0].kubernetes_network_config",
                    "aws_eks_cluster.this[0]",
                    "aws_eks_cluster.this"
                  ]
                },
                "description": "The IP family used by the cluster (e.g. `ipv4` or `ipv6`)"
              },
              "node_iam_role_arn": {
                "expression": {
                  "references": [
                    "aws_iam_role.eks_auto[0].arn",
                    "aws_iam_role.eks_auto[0]",
                    "aws_iam_role.eks_auto"
                  ]
                },
                "description": "EKS Auto node IAM role ARN"
              },
              "oidc_provider_arn": {
                "expression": {
                  "references": [
                    "aws_iam_openid_connect_provider.oidc_provider[0].arn",
                    "aws_iam_openid_connect_provider.oidc_provider[0]",
                    "aws_iam_openid_connect_provider.oidc_provider"
                  ]
                },
                "description": "The ARN of the OIDC Provider if `enable_irsa = true`"
              },
              "node_iam_role_name": {
                "expression": {
                  "references": [
                    "aws_iam_role.eks_auto[0].name",
                    "aws_iam_role.eks_auto[0]",
                    "aws_iam_role.eks_auto"
                  ]
                },
                "description": "EKS Auto node IAM role name"
              },
              "cluster_iam_role_arn": {
                "expression": {
                  "references": [
                    "aws_iam_role.this[0].arn",
                    "aws_iam_role.this[0]",
                    "aws_iam_role.this"
                  ]
                },
                "description": "Cluster IAM role ARN"
              },
              "cluster_service_cidr": {
                "expression": {
                  "references": [
                    "var.cluster_ip_family",
                    "aws_eks_cluster.this[0].kubernetes_network_config[0].service_ipv6_cidr",
                    "aws_eks_cluster.this[0].kubernetes_network_config[0]",
                    "aws_eks_cluster.this[0].kubernetes_network_config",
                    "aws_eks_cluster.this[0]",
                    "aws_eks_cluster.this",
                    "aws_eks_cluster.this[0].kubernetes_network_config[0].service_ipv4_cidr",
                    "aws_eks_cluster.this[0].kubernetes_network_config[0]",
                    "aws_eks_cluster.this[0].kubernetes_network_config",
                    "aws_eks_cluster.this[0]",
                    "aws_eks_cluster.this"
                  ]
                },
                "description": "The CIDR block where Kubernetes pod and service IP addresses are assigned from"
              },
              "cluster_iam_role_name": {
                "expression": {
                  "references": [
                    "aws_iam_role.this[0].name",
                    "aws_iam_role.this[0]",
                    "aws_iam_role.this"
                  ]
                },
                "description": "Cluster IAM role name"
              },
              "node_security_group_id": {
                "expression": {
                  "references": [
                    "aws_security_group.node[0].id",
                    "aws_security_group.node[0]",
                    "aws_security_group.node"
                  ]
                },
                "description": "ID of the node shared security group"
              },
              "cluster_oidc_issuer_url": {
                "expression": {
                  "references": [
                    "aws_eks_cluster.this[0].identity[0].oidc[0].issuer",
                    "aws_eks_cluster.this[0].identity[0].oidc[0]",
                    "aws_eks_cluster.this[0].identity[0].oidc",
                    "aws_eks_cluster.this[0].identity[0]",
                    "aws_eks_cluster.this[0].identity",
                    "aws_eks_cluster.this[0]",
                    "aws_eks_cluster.this"
                  ]
                },
                "description": "The URL on the EKS cluster for the OpenID Connect identity provider"
              },
              "eks_managed_node_groups": {
                "expression": {
                  "references": [
                    "module.eks_managed_node_group"
                  ]
                },
                "description": "Map of attribute maps for all EKS managed node groups created"
              },
              "node_iam_role_unique_id": {
                "expression": {
                  "references": [
                    "aws_iam_role.eks_auto[0].unique_id",
                    "aws_iam_role.eks_auto[0]",
                    "aws_iam_role.eks_auto"
                  ]
                },
                "description": "Stable and unique string identifying the IAM role"
              },
              "node_security_group_arn": {
                "expression": {
                  "references": [
                    "aws_security_group.node[0].arn",
                    "aws_security_group.node[0]",
                    "aws_security_group.node"
                  ]
                },
                "description": "Amazon Resource Name (ARN) of the node shared security group"
              },
              "cloudwatch_log_group_arn": {
                "expression": {
                  "references": [
                    "aws_cloudwatch_log_group.this[0].arn",
                    "aws_cloudwatch_log_group.this[0]",
                    "aws_cloudwatch_log_group.this"
                  ]
                },
                "description": "Arn of cloudwatch log group created"
              },
              "cluster_platform_version": {
                "expression": {
                  "references": [
                    "aws_eks_cluster.this[0].platform_version",
                    "aws_eks_cluster.this[0]",
                    "aws_eks_cluster.this"
                  ]
                },
                "description": "Platform version for the cluster"
              },
              "self_managed_node_groups": {
                "expression": {
                  "references": [
                    "module.self_managed_node_group"
                  ]
                },
                "description": "Map of attribute maps for all self managed node groups created"
              },
              "cloudwatch_log_group_name": {
                "expression": {
                  "references": [
                    "aws_cloudwatch_log_group.this[0].name",
                    "aws_cloudwatch_log_group.this[0]",
                    "aws_cloudwatch_log_group.this"
                  ]
                },
                "description": "Name of cloudwatch log group created"
              },
              "cluster_security_group_id": {
                "expression": {
                  "references": [
                    "aws_security_group.cluster[0].id",
                    "aws_security_group.cluster[0]",
                    "aws_security_group.cluster"
                  ]
                },
                "description": "ID of the cluster security group"
              },
              "access_policy_associations": {
                "expression": {
                  "references": [
                    "aws_eks_access_policy_association.this"
                  ]
                },
                "description": "Map of eks cluster access policy associations created and their attributes"
              },
              "cluster_iam_role_unique_id": {
                "expression": {
                  "references": [
                    "aws_iam_role.this[0].unique_id",
                    "aws_iam_role.this[0]",
                    "aws_iam_role.this"
                  ]
                },
                "description": "Stable and unique string identifying the IAM role"
              },
              "cluster_identity_providers": {
                "expression": {
                  "references": [
                    "aws_eks_identity_provider_config.this"
                  ]
                },
                "description": "Map of attribute maps for all EKS identity providers enabled"
              },
              "cluster_security_group_arn": {
                "expression": {
                  "references": [
                    "aws_security_group.cluster[0].arn",
                    "aws_security_group.cluster[0]",
                    "aws_security_group.cluster"
                  ]
                },
                "description": "Amazon Resource Name (ARN) of the cluster security group"
              },
              "cluster_dualstack_oidc_issuer_url": {
                "expression": {
                  "references": [
                    "local.dualstack_oidc_issuer_url"
                  ]
                },
                "description": "Dual-stack compatible URL on the EKS cluster for the OpenID Connect identity provider"
              },
              "cluster_primary_security_group_id": {
                "expression": {
                  "references": [
                    "aws_eks_cluster.this[0].vpc_config[0].cluster_security_group_id",
                    "aws_eks_cluster.this[0].vpc_config[0]",
                    "aws_eks_cluster.this[0].vpc_config",
                    "aws_eks_cluster.this[0]",
                    "aws_eks_cluster.this"
                  ]
                },
                "description": "Cluster security group that was created by Amazon EKS for the cluster. Managed node groups use this security group for control-plane-to-data-plane communication. Referred to as 'Cluster security group' in the EKS console"
              },
              "cluster_certificate_authority_data": {
                "depends_on": [
                  "aws_eks_access_entry.this",
                  "aws_eks_access_policy_association.this"
                ],
                "expression": {
                  "references": [
                    "aws_eks_cluster.this[0].certificate_authority[0].data",
                    "aws_eks_cluster.this[0].certificate_authority[0]",
                    "aws_eks_cluster.this[0].certificate_authority",
                    "aws_eks_cluster.this[0]",
                    "aws_eks_cluster.this"
                  ]
                },
                "description": "Base64 encoded certificate data required to communicate with the cluster"
              },
              "cluster_tls_certificate_sha1_fingerprint": {
                "expression": {
                  "references": [
                    "data.tls_certificate.this[0].certificates[0].sha1_fingerprint",
                    "data.tls_certificate.this[0].certificates[0]",
                    "data.tls_certificate.this[0].certificates",
                    "data.tls_certificate.this[0]",
                    "data.tls_certificate.this"
                  ]
                },
                "description": "The SHA1 fingerprint of the public key of the cluster's certificate"
              },
              "eks_managed_node_groups_autoscaling_group_names": {
                "expression": {
                  "references": [
                    "module.eks_managed_node_group"
                  ]
                },
                "description": "List of the autoscaling group names created by EKS managed node groups"
              },
              "self_managed_node_groups_autoscaling_group_names": {
                "expression": {
                  "references": [
                    "module.self_managed_node_group"
                  ]
                },
                "description": "List of the autoscaling group names created by self-managed node groups"
              }
            },
            "resources": [
              {
                "mode": "managed",
                "name": "this",
                "type": "aws_cloudwatch_log_group",
                "address": "aws_cloudwatch_log_group.this",
                "expressions": {
                  "name": {
                    "references": [
                      "var.cluster_name"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.cloudwatch_log_group_tags",
                      "var.cluster_name"
                    ]
                  },
                  "kms_key_id": {
                    "references": [
                      "var.cloudwatch_log_group_kms_key_id"
                    ]
                  },
                  "log_group_class": {
                    "references": [
                      "var.cloudwatch_log_group_class"
                    ]
                  },
                  "retention_in_days": {
                    "references": [
                      "var.cloudwatch_log_group_retention_in_days"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create",
                    "var.create_cloudwatch_log_group"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "cluster_primary_security_group",
                "type": "aws_ec2_tag",
                "address": "aws_ec2_tag.cluster_primary_security_group",
                "expressions": {
                  "key": {
                    "references": [
                      "each.key"
                    ]
                  },
                  "value": {
                    "references": [
                      "each.value"
                    ]
                  },
                  "resource_id": {
                    "references": [
                      "aws_eks_cluster.this[0].vpc_config[0].cluster_security_group_id",
                      "aws_eks_cluster.this[0].vpc_config[0]",
                      "aws_eks_cluster.this[0].vpc_config",
                      "aws_eks_cluster.this[0]",
                      "aws_eks_cluster.this"
                    ]
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "var.tags",
                    "var.cluster_tags",
                    "local.create",
                    "var.create_cluster_primary_security_group_tags"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "this",
                "type": "aws_eks_access_entry",
                "address": "aws_eks_access_entry.this",
                "expressions": {
                  "tags": {
                    "references": [
                      "var.tags",
                      "each.value.tags",
                      "each.value"
                    ]
                  },
                  "type": {
                    "references": [
                      "each.value.type",
                      "each.value"
                    ]
                  },
                  "user_name": {
                    "references": [
                      "each.value.user_name",
                      "each.value"
                    ]
                  },
                  "cluster_name": {
                    "references": [
                      "aws_eks_cluster.this[0].id",
                      "aws_eks_cluster.this[0]",
                      "aws_eks_cluster.this"
                    ]
                  },
                  "principal_arn": {
                    "references": [
                      "each.value.principal_arn",
                      "each.value"
                    ]
                  },
                  "kubernetes_groups": {
                    "references": [
                      "each.value.kubernetes_groups",
                      "each.value"
                    ]
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "local.merged_access_entries",
                    "local.create"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "this",
                "type": "aws_eks_access_policy_association",
                "address": "aws_eks_access_policy_association.this",
                "depends_on": [
                  "aws_eks_access_entry.this"
                ],
                "expressions": {
                  "policy_arn": {
                    "references": [
                      "each.value.association_policy_arn",
                      "each.value"
                    ]
                  },
                  "access_scope": [
                    {
                      "type": {
                        "references": [
                          "each.value.association_access_scope_type",
                          "each.value"
                        ]
                      },
                      "namespaces": {
                        "references": [
                          "each.value.association_access_scope_namespaces",
                          "each.value"
                        ]
                      }
                    }
                  ],
                  "cluster_name": {
                    "references": [
                      "aws_eks_cluster.this[0].id",
                      "aws_eks_cluster.this[0]",
                      "aws_eks_cluster.this"
                    ]
                  },
                  "principal_arn": {
                    "references": [
                      "each.value.principal_arn",
                      "each.value"
                    ]
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "local.flattened_access_entries",
                    "local.create"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "before_compute",
                "type": "aws_eks_addon",
                "address": "aws_eks_addon.before_compute",
                "expressions": {
                  "tags": {
                    "references": [
                      "var.tags",
                      "each.value.tags",
                      "each.value"
                    ]
                  },
                  "preserve": {
                    "references": [
                      "each.value.preserve",
                      "each.value"
                    ]
                  },
                  "timeouts": {},
                  "addon_name": {
                    "references": [
                      "each.value.name",
                      "each.value",
                      "each.key"
                    ]
                  },
                  "cluster_name": {
                    "references": [
                      "aws_eks_cluster.this[0].id",
                      "aws_eks_cluster.this[0]",
                      "aws_eks_cluster.this"
                    ]
                  },
                  "addon_version": {
                    "references": [
                      "each.value.addon_version",
                      "each.value",
                      "data.aws_eks_addon_version.this",
                      "each.key"
                    ]
                  },
                  "configuration_values": {
                    "references": [
                      "each.value.configuration_values",
                      "each.value"
                    ]
                  },
                  "service_account_role_arn": {
                    "references": [
                      "each.value.service_account_role_arn",
                      "each.value"
                    ]
                  },
                  "resolve_conflicts_on_create": {
                    "references": [
                      "each.value.resolve_conflicts_on_create",
                      "each.value",
                      "local.resolve_conflicts_on_create_default"
                    ]
                  },
                  "resolve_conflicts_on_update": {
                    "references": [
                      "each.value.resolve_conflicts_on_update",
                      "each.value"
                    ]
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "var.cluster_addons",
                    "local.create",
                    "local.create_outposts_local_cluster"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "this",
                "type": "aws_eks_addon",
                "address": "aws_eks_addon.this",
                "depends_on": [
                  "module.fargate_profile",
                  "module.eks_managed_node_group",
                  "module.self_managed_node_group"
                ],
                "expressions": {
                  "tags": {
                    "references": [
                      "var.tags",
                      "each.value.tags",
                      "each.value"
                    ]
                  },
                  "preserve": {
                    "references": [
                      "each.value.preserve",
                      "each.value"
                    ]
                  },
                  "timeouts": {},
                  "addon_name": {
                    "references": [
                      "each.value.name",
                      "each.value",
                      "each.key"
                    ]
                  },
                  "cluster_name": {
                    "references": [
                      "aws_eks_cluster.this[0].id",
                      "aws_eks_cluster.this[0]",
                      "aws_eks_cluster.this"
                    ]
                  },
                  "addon_version": {
                    "references": [
                      "each.value.addon_version",
                      "each.value",
                      "data.aws_eks_addon_version.this",
                      "each.key"
                    ]
                  },
                  "configuration_values": {
                    "references": [
                      "each.value.configuration_values",
                      "each.value"
                    ]
                  },
                  "service_account_role_arn": {
                    "references": [
                      "each.value.service_account_role_arn",
                      "each.value"
                    ]
                  },
                  "resolve_conflicts_on_create": {
                    "references": [
                      "each.value.resolve_conflicts_on_create",
                      "each.value",
                      "local.resolve_conflicts_on_create_default"
                    ]
                  },
                  "resolve_conflicts_on_update": {
                    "references": [
                      "each.value.resolve_conflicts_on_update",
                      "each.value"
                    ]
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "var.cluster_addons",
                    "local.create",
                    "local.create_outposts_local_cluster"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "this",
                "type": "aws_eks_cluster",
                "address": "aws_eks_cluster.this",
                "depends_on": [
                  "aws_iam_role_policy_attachment.this",
                  "aws_security_group_rule.cluster",
                  "aws_security_group_rule.node",
                  "aws_cloudwatch_log_group.this",
                  "aws_iam_policy.cni_ipv6_policy"
                ],
                "expressions": {
                  "name": {
                    "references": [
                      "var.cluster_name"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.cluster_tags"
                    ]
                  },
                  "version": {
                    "references": [
                      "var.cluster_version"
                    ]
                  },
                  "role_arn": {
                    "references": [
                      "local.cluster_role"
                    ]
                  },
                  "timeouts": {},
                  "vpc_config": [
                    {
                      "subnet_ids": {
                        "references": [
                          "var.control_plane_subnet_ids",
                          "var.subnet_ids"
                        ]
                      },
                      "security_group_ids": {
                        "references": [
                          "var.cluster_additional_security_group_ids",
                          "local.cluster_security_group_id"
                        ]
                      },
                      "public_access_cidrs": {
                        "references": [
                          "var.cluster_endpoint_public_access_cidrs"
                        ]
                      },
                      "endpoint_public_access": {
                        "references": [
                          "var.cluster_endpoint_public_access"
                        ]
                      },
                      "endpoint_private_access": {
                        "references": [
                          "var.cluster_endpoint_private_access"
                        ]
                      }
                    }
                  ],
                  "access_config": [
                    {
                      "authentication_mode": {
                        "references": [
                          "var.authentication_mode"
                        ]
                      },
                      "bootstrap_cluster_creator_admin_permissions": {
                        "constant_value": false
                      }
                    }
                  ],
                  "enabled_cluster_log_types": {
                    "references": [
                      "var.cluster_enabled_log_types"
                    ]
                  },
                  "bootstrap_self_managed_addons": {
                    "references": [
                      "local.auto_mode_enabled",
                      "var.bootstrap_self_managed_addons",
                      "var.bootstrap_self_managed_addons"
                    ]
                  }
                },
                "schema_version": 1,
                "count_expression": {
                  "references": [
                    "local.create"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "this",
                "type": "aws_eks_identity_provider_config",
                "address": "aws_eks_identity_provider_config.this",
                "expressions": {
                  "oidc": [
                    {
                      "client_id": {
                        "references": [
                          "each.value.client_id",
                          "each.value"
                        ]
                      },
                      "issuer_url": {
                        "references": [
                          "each.value.issuer_url",
                          "each.value",
                          "local.idpc_issuer_url"
                        ]
                      },
                      "groups_claim": {
                        "references": [
                          "each.value"
                        ]
                      },
                      "groups_prefix": {
                        "references": [
                          "each.value"
                        ]
                      },
                      "username_claim": {
                        "references": [
                          "each.value"
                        ]
                      },
                      "required_claims": {
                        "references": [
                          "each.value"
                        ]
                      },
                      "username_prefix": {
                        "references": [
                          "each.value"
                        ]
                      },
                      "identity_provider_config_name": {
                        "references": [
                          "each.value.identity_provider_config_name",
                          "each.value",
                          "each.key"
                        ]
                      }
                    }
                  ],
                  "tags": {
                    "references": [
                      "var.tags",
                      "each.value.tags",
                      "each.value"
                    ]
                  },
                  "cluster_name": {
                    "references": [
                      "aws_eks_cluster.this[0].id",
                      "aws_eks_cluster.this[0]",
                      "aws_eks_cluster.this"
                    ]
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "var.cluster_identity_providers",
                    "local.create",
                    "local.create_outposts_local_cluster"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "oidc_provider",
                "type": "aws_iam_openid_connect_provider",
                "address": "aws_iam_openid_connect_provider.oidc_provider",
                "expressions": {
                  "url": {
                    "references": [
                      "aws_eks_cluster.this[0].identity[0].oidc[0].issuer",
                      "aws_eks_cluster.this[0].identity[0].oidc[0]",
                      "aws_eks_cluster.this[0].identity[0].oidc",
                      "aws_eks_cluster.this[0].identity[0]",
                      "aws_eks_cluster.this[0].identity",
                      "aws_eks_cluster.this[0]",
                      "aws_eks_cluster.this"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.cluster_name",
                      "var.tags"
                    ]
                  },
                  "client_id_list": {
                    "references": [
                      "var.openid_connect_audiences"
                    ]
                  },
                  "thumbprint_list": {
                    "references": [
                      "local.oidc_root_ca_thumbprint",
                      "var.custom_oidc_thumbprints"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_oidc_provider"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "cluster_encryption",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.cluster_encryption",
                "expressions": {
                  "name": {
                    "references": [
                      "var.cluster_encryption_policy_use_name_prefix",
                      "local.cluster_encryption_policy_name"
                    ]
                  },
                  "path": {
                    "references": [
                      "var.cluster_encryption_policy_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.cluster_encryption_policy_tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "var.create_kms_key",
                      "module.kms.key_arn",
                      "module.kms",
                      "var.cluster_encryption_config.provider_key_arn",
                      "var.cluster_encryption_config"
                    ]
                  },
                  "description": {
                    "references": [
                      "var.cluster_encryption_policy_description"
                    ]
                  },
                  "name_prefix": {
                    "references": [
                      "var.cluster_encryption_policy_use_name_prefix",
                      "local.cluster_encryption_policy_name"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_iam_role",
                    "var.attach_cluster_encryption_policy",
                    "local.enable_cluster_encryption_config"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "cni_ipv6_policy",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.cni_ipv6_policy",
                "expressions": {
                  "name": {
                    "constant_value": "AmazonEKS_CNI_IPv6_Policy"
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.cni_ipv6_policy[0].json",
                      "data.aws_iam_policy_document.cni_ipv6_policy[0]",
                      "data.aws_iam_policy_document.cni_ipv6_policy"
                    ]
                  },
                  "description": {
                    "constant_value": "IAM policy for EKS CNI to assign IPV6 addresses"
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create",
                    "var.create_cni_ipv6_iam_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "custom",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.custom",
                "expressions": {
                  "name": {
                    "references": [
                      "var.iam_role_use_name_prefix",
                      "local.iam_role_name"
                    ]
                  },
                  "path": {
                    "references": [
                      "var.iam_role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.iam_role_tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.custom[0].json",
                      "data.aws_iam_policy_document.custom[0]",
                      "data.aws_iam_policy_document.custom"
                    ]
                  },
                  "description": {
                    "references": [
                      "var.iam_role_description"
                    ]
                  },
                  "name_prefix": {
                    "references": [
                      "var.iam_role_use_name_prefix",
                      "local.iam_role_name"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_iam_role",
                    "var.enable_auto_mode_custom_tags"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "eks_auto",
                "type": "aws_iam_role",
                "address": "aws_iam_role.eks_auto",
                "expressions": {
                  "name": {
                    "references": [
                      "var.node_iam_role_use_name_prefix",
                      "local.node_iam_role_name"
                    ]
                  },
                  "path": {
                    "references": [
                      "var.node_iam_role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.node_iam_role_tags"
                    ]
                  },
                  "description": {
                    "references": [
                      "var.node_iam_role_description"
                    ]
                  },
                  "name_prefix": {
                    "references": [
                      "var.node_iam_role_use_name_prefix",
                      "local.node_iam_role_name"
                    ]
                  },
                  "assume_role_policy": {
                    "references": [
                      "data.aws_iam_policy_document.node_assume_role_policy[0].json",
                      "data.aws_iam_policy_document.node_assume_role_policy[0]",
                      "data.aws_iam_policy_document.node_assume_role_policy"
                    ]
                  },
                  "permissions_boundary": {
                    "references": [
                      "var.node_iam_role_permissions_boundary"
                    ]
                  },
                  "force_detach_policies": {
                    "constant_value": true
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_node_iam_role"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "this",
                "type": "aws_iam_role",
                "address": "aws_iam_role.this",
                "expressions": {
                  "name": {
                    "references": [
                      "var.iam_role_use_name_prefix",
                      "local.iam_role_name"
                    ]
                  },
                  "path": {
                    "references": [
                      "var.iam_role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.iam_role_tags"
                    ]
                  },
                  "description": {
                    "references": [
                      "var.iam_role_description"
                    ]
                  },
                  "name_prefix": {
                    "references": [
                      "var.iam_role_use_name_prefix",
                      "local.iam_role_name",
                      "var.prefix_separator"
                    ]
                  },
                  "assume_role_policy": {
                    "references": [
                      "data.aws_iam_policy_document.assume_role_policy[0].json",
                      "data.aws_iam_policy_document.assume_role_policy[0]",
                      "data.aws_iam_policy_document.assume_role_policy"
                    ]
                  },
                  "permissions_boundary": {
                    "references": [
                      "var.iam_role_permissions_boundary"
                    ]
                  },
                  "force_detach_policies": {
                    "constant_value": true
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_iam_role"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "additional",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.additional",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "each.value"
                    ]
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "var.iam_role_additional_policies",
                    "local.create_iam_role"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "cluster_encryption",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.cluster_encryption",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.cluster_encryption[0].arn",
                      "aws_iam_policy.cluster_encryption[0]",
                      "aws_iam_policy.cluster_encryption"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_iam_role",
                    "var.attach_cluster_encryption_policy",
                    "local.enable_cluster_encryption_config"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "custom",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.custom",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.custom[0].arn",
                      "aws_iam_policy.custom[0]",
                      "aws_iam_policy.custom"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_iam_role",
                    "var.enable_auto_mode_custom_tags"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "eks_auto",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.eks_auto",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.eks_auto[0].name",
                      "aws_iam_role.eks_auto[0]",
                      "aws_iam_role.eks_auto"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "each.value"
                    ]
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "local.iam_role_policy_prefix",
                    "local.iam_role_policy_prefix",
                    "local.create_node_iam_role"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "eks_auto_additional",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.eks_auto_additional",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.eks_auto[0].name",
                      "aws_iam_role.eks_auto[0]",
                      "aws_iam_role.eks_auto"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "each.value"
                    ]
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "var.node_iam_role_additional_policies",
                    "local.create_node_iam_role"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "this",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.this",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "each.value"
                    ]
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "local.eks_standard_iam_role_policies",
                    "local.eks_auto_mode_iam_role_policies",
                    "local.eks_outpost_iam_role_policies",
                    "local.eks_sgpp_iam_role_policies",
                    "local.create_iam_role"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "cluster",
                "type": "aws_security_group",
                "address": "aws_security_group.cluster",
                "expressions": {
                  "name": {
                    "references": [
                      "var.cluster_security_group_use_name_prefix",
                      "local.cluster_sg_name"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "local.cluster_sg_name",
                      "var.cluster_security_group_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "var.vpc_id"
                    ]
                  },
                  "description": {
                    "references": [
                      "var.cluster_security_group_description"
                    ]
                  },
                  "name_prefix": {
                    "references": [
                      "var.cluster_security_group_use_name_prefix",
                      "local.cluster_sg_name",
                      "var.prefix_separator"
                    ]
                  }
                },
                "schema_version": 1,
                "count_expression": {
                  "references": [
                    "local.create_cluster_sg"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "node",
                "type": "aws_security_group",
                "address": "aws_security_group.node",
                "expressions": {
                  "name": {
                    "references": [
                      "var.node_security_group_use_name_prefix",
                      "local.node_sg_name"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "local.node_sg_name",
                      "var.cluster_name",
                      "var.node_security_group_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "var.vpc_id"
                    ]
                  },
                  "description": {
                    "references": [
                      "var.node_security_group_description"
                    ]
                  },
                  "name_prefix": {
                    "references": [
                      "var.node_security_group_use_name_prefix",
                      "local.node_sg_name",
                      "var.prefix_separator"
                    ]
                  }
                },
                "schema_version": 1,
                "count_expression": {
                  "references": [
                    "local.create_node_sg"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "cluster",
                "type": "aws_security_group_rule",
                "address": "aws_security_group_rule.cluster",
                "expressions": {
                  "self": {
                    "references": [
                      "each.value"
                    ]
                  },
                  "type": {
                    "references": [
                      "each.value.type",
                      "each.value"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "each.value.to_port",
                      "each.value"
                    ]
                  },
                  "protocol": {
                    "references": [
                      "each.value.protocol",
                      "each.value"
                    ]
                  },
                  "from_port": {
                    "references": [
                      "each.value.from_port",
                      "each.value"
                    ]
                  },
                  "cidr_blocks": {
                    "references": [
                      "each.value"
                    ]
                  },
                  "description": {
                    "references": [
                      "each.value"
                    ]
                  },
                  "prefix_list_ids": {
                    "references": [
                      "each.value"
                    ]
                  },
                  "ipv6_cidr_blocks": {
                    "references": [
                      "each.value"
                    ]
                  },
                  "security_group_id": {
                    "references": [
                      "aws_security_group.cluster[0].id",
                      "aws_security_group.cluster[0]",
                      "aws_security_group.cluster"
                    ]
                  },
                  "source_security_group_id": {
                    "references": [
                      "each.value.source_node_security_group",
                      "each.value",
                      "local.node_security_group_id",
                      "each.value"
                    ]
                  }
                },
                "schema_version": 2,
                "for_each_expression": {
                  "references": [
                    "local.cluster_security_group_rules",
                    "var.cluster_security_group_additional_rules",
                    "local.create_cluster_sg"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "node",
                "type": "aws_security_group_rule",
                "address": "aws_security_group_rule.node",
                "expressions": {
                  "self": {
                    "references": [
                      "each.value"
                    ]
                  },
                  "type": {
                    "references": [
                      "each.value.type",
                      "each.value"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "each.value.to_port",
                      "each.value"
                    ]
                  },
                  "protocol": {
                    "references": [
                      "each.value.protocol",
                      "each.value"
                    ]
                  },
                  "from_port": {
                    "references": [
                      "each.value.from_port",
                      "each.value"
                    ]
                  },
                  "cidr_blocks": {
                    "references": [
                      "each.value"
                    ]
                  },
                  "description": {
                    "references": [
                      "each.value"
                    ]
                  },
                  "prefix_list_ids": {
                    "references": [
                      "each.value"
                    ]
                  },
                  "ipv6_cidr_blocks": {
                    "references": [
                      "each.value"
                    ]
                  },
                  "security_group_id": {
                    "references": [
                      "aws_security_group.node[0].id",
                      "aws_security_group.node[0]",
                      "aws_security_group.node"
                    ]
                  },
                  "source_security_group_id": {
                    "references": [
                      "each.value.source_cluster_security_group",
                      "each.value",
                      "local.cluster_security_group_id",
                      "each.value"
                    ]
                  }
                },
                "schema_version": 2,
                "for_each_expression": {
                  "references": [
                    "local.efa_security_group_rules",
                    "local.node_security_group_rules",
                    "local.node_security_group_recommended_rules",
                    "var.node_security_group_additional_rules",
                    "local.create_node_sg"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "this",
                "type": "time_sleep",
                "address": "time_sleep.this",
                "expressions": {
                  "triggers": {
                    "references": [
                      "aws_eks_cluster.this[0].id",
                      "aws_eks_cluster.this[0]",
                      "aws_eks_cluster.this",
                      "aws_eks_cluster.this[0].endpoint",
                      "aws_eks_cluster.this[0]",
                      "aws_eks_cluster.this",
                      "aws_eks_cluster.this[0].version",
                      "aws_eks_cluster.this[0]",
                      "aws_eks_cluster.this",
                      "var.cluster_ip_family",
                      "local.kubernetes_network_config.service_ipv6_cidr",
                      "local.kubernetes_network_config",
                      "local.kubernetes_network_config.service_ipv4_cidr",
                      "local.kubernetes_network_config",
                      "aws_eks_cluster.this[0].certificate_authority[0].data",
                      "aws_eks_cluster.this[0].certificate_authority[0]",
                      "aws_eks_cluster.this[0].certificate_authority",
                      "aws_eks_cluster.this[0]",
                      "aws_eks_cluster.this"
                    ]
                  },
                  "create_duration": {
                    "references": [
                      "var.dataplane_wait_duration"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create"
                  ]
                },
                "provider_config_key": "module.eks:time"
              },
              {
                "mode": "data",
                "name": "current",
                "type": "aws_caller_identity",
                "address": "data.aws_caller_identity.current",
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "this",
                "type": "aws_eks_addon_version",
                "address": "data.aws_eks_addon_version.this",
                "expressions": {
                  "addon_name": {
                    "references": [
                      "each.value.name",
                      "each.value",
                      "each.key"
                    ]
                  },
                  "most_recent": {
                    "references": [
                      "each.value.most_recent",
                      "each.value"
                    ]
                  },
                  "kubernetes_version": {
                    "references": [
                      "var.cluster_version",
                      "aws_eks_cluster.this[0].version",
                      "aws_eks_cluster.this[0]",
                      "aws_eks_cluster.this"
                    ]
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "var.cluster_addons",
                    "local.create",
                    "local.create_outposts_local_cluster"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "assume_role_policy",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.assume_role_policy",
                "expressions": {
                  "statement": [
                    {
                      "sid": {
                        "constant_value": "EKSClusterAssumeRole"
                      },
                      "actions": {
                        "constant_value": [
                          "sts:AssumeRole",
                          "sts:TagSession"
                        ]
                      },
                      "principals": [
                        {
                          "type": {
                            "constant_value": "Service"
                          },
                          "identifiers": {
                            "constant_value": [
                              "eks.amazonaws.com"
                            ]
                          }
                        }
                      ]
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create",
                    "var.create_iam_role"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "cni_ipv6_policy",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.cni_ipv6_policy",
                "expressions": {
                  "statement": [
                    {
                      "sid": {
                        "constant_value": "AssignDescribe"
                      },
                      "actions": {
                        "constant_value": [
                          "ec2:AssignIpv6Addresses",
                          "ec2:DescribeInstances",
                          "ec2:DescribeTags",
                          "ec2:DescribeNetworkInterfaces",
                          "ec2:DescribeInstanceTypes"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "sid": {
                        "constant_value": "CreateTags"
                      },
                      "actions": {
                        "constant_value": [
                          "ec2:CreateTags"
                        ]
                      },
                      "resources": {
                        "references": [
                          "local.partition"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create",
                    "var.create_cni_ipv6_iam_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "custom",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.custom",
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_iam_role",
                    "var.enable_auto_mode_custom_tags"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "node_assume_role_policy",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.node_assume_role_policy",
                "expressions": {
                  "statement": [
                    {
                      "sid": {
                        "constant_value": "EKSAutoNodeAssumeRole"
                      },
                      "actions": {
                        "constant_value": [
                          "sts:AssumeRole",
                          "sts:TagSession"
                        ]
                      },
                      "principals": [
                        {
                          "type": {
                            "constant_value": "Service"
                          },
                          "identifiers": {
                            "constant_value": [
                              "ec2.amazonaws.com"
                            ]
                          }
                        }
                      ]
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_node_iam_role"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "current",
                "type": "aws_iam_session_context",
                "address": "data.aws_iam_session_context.current",
                "expressions": {
                  "arn": {
                    "references": [
                      "data.aws_caller_identity.current[0].arn",
                      "data.aws_caller_identity.current[0]",
                      "data.aws_caller_identity.current"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "current",
                "type": "aws_partition",
                "address": "data.aws_partition.current",
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "this",
                "type": "tls_certificate",
                "address": "data.tls_certificate.this",
                "expressions": {
                  "url": {
                    "references": [
                      "aws_eks_cluster.this[0].identity[0].oidc[0].issuer",
                      "aws_eks_cluster.this[0].identity[0].oidc[0]",
                      "aws_eks_cluster.this[0].identity[0].oidc",
                      "aws_eks_cluster.this[0].identity[0]",
                      "aws_eks_cluster.this[0].identity",
                      "aws_eks_cluster.this[0]",
                      "aws_eks_cluster.this"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_oidc_provider",
                    "var.include_oidc_root_ca_thumbprint"
                  ]
                },
                "provider_config_key": "module.eks:tls"
              }
            ],
            "variables": {
              "tags": {
                "default": {},
                "description": "A map of tags to add to all resources"
              },
              "create": {
                "default": true,
                "description": "Controls if resources should be created (affects nearly all resources)"
              },
              "vpc_id": {
                "description": "ID of the VPC where the cluster security group will be provisioned"
              },
              "subnet_ids": {
                "default": [],
                "description": "A list of subnet IDs where the nodes/node groups will be provisioned. If `control_plane_subnet_ids` is not provided, the EKS cluster control plane (ENIs) will be provisioned in these subnets"
              },
              "enable_irsa": {
                "default": true,
                "description": "Determines whether to create an OpenID Connect Provider for EKS to enable IRSA"
              },
              "cluster_name": {
                "default": "",
                "description": "Name of the EKS cluster"
              },
              "cluster_tags": {
                "default": {},
                "description": "A map of additional tags to add to the cluster"
              },
              "iam_role_arn": {
                "description": "Existing IAM role ARN for the cluster. Required if `create_iam_role` is set to `false`"
              },
              "putin_khuylo": {
                "default": true,
                "description": "Do you agree that Putin doesn't respect Ukrainian sovereignty and territorial integrity? More info: https://en.wikipedia.org/wiki/Putin_khuylo!"
              },
              "iam_role_name": {
                "description": "Name to use on IAM role created"
              },
              "iam_role_path": {
                "description": "The IAM role path"
              },
              "iam_role_tags": {
                "default": {},
                "description": "A map of additional tags to add to the IAM role created"
              },
              "kms_key_users": {
                "default": [],
                "description": "A list of IAM ARNs for [key users](https://docs.aws.amazon.com/kms/latest/developerguide/key-policy-default.html#key-policy-default-allow-users)"
              },
              "access_entries": {
                "default": {},
                "description": "Map of access entries to add to the cluster"
              },
              "cluster_addons": {
                "default": {},
                "description": "Map of cluster addon configurations to enable for the cluster. Addon name can be the map keys or set with `name`"
              },
              "create_kms_key": {
                "default": true,
                "description": "Controls if a KMS key for cluster encryption should be created"
              },
              "kms_key_owners": {
                "default": [],
                "description": "A list of IAM ARNs for those who will have full key permissions (`kms:*`)"
              },
              "outpost_config": {
                "default": {},
                "description": "Configuration for the AWS Outpost to provision the cluster on"
              },
              "cluster_version": {
                "description": "Kubernetes `<major>.<minor>` version to use for the EKS cluster (i.e.: `1.27`)"
              },
              "create_iam_role": {
                "default": true,
                "description": "Determines whether an IAM role is created for the cluster"
              },
              "kms_key_aliases": {
                "default": [],
                "description": "A list of aliases to create. Note - due to the use of `toset()`, values must be static strings and not computed values"
              },
              "cluster_timeouts": {
                "default": {},
                "description": "Create, update, and delete timeout configurations for the cluster"
              },
              "fargate_profiles": {
                "default": {},
                "description": "Map of Fargate Profile definitions to create"
              },
              "prefix_separator": {
                "default": "-",
                "description": "The separator to use between the prefix and the generated timestamp for resource names"
              },
              "cluster_ip_family": {
                "default": "ipv4",
                "description": "The IP family used to assign Kubernetes pod and service addresses. Valid values are `ipv4` (default) and `ipv6`. You can only specify an IP family when you create a cluster, changing this value will force a new cluster to be created"
              },
              "enable_efa_support": {
                "default": false,
                "description": "Determines whether to enable Elastic Fabric Adapter (EFA) support"
              },
              "node_iam_role_name": {
                "description": "Name to use on the EKS Auto node IAM role created"
              },
              "node_iam_role_path": {
                "description": "The EKS Auto node IAM role path"
              },
              "node_iam_role_tags": {
                "default": {},
                "description": "A map of additional tags to add to the EKS Auto node IAM role created"
              },
              "authentication_mode": {
                "default": "API_AND_CONFIG_MAP",
                "description": "The authentication mode for the cluster. Valid values are `CONFIG_MAP`, `API` or `API_AND_CONFIG_MAP`"
              },
              "kms_key_description": {
                "description": "The description of the key as viewed in AWS console"
              },
              "create_node_iam_role": {
                "default": true,
                "description": "Determines whether an EKS Auto node IAM role is created"
              },
              "iam_role_description": {
                "description": "Description of the role"
              },
              "kms_key_service_users": {
                "default": [],
                "description": "A list of IAM ARNs for [key service users](https://docs.aws.amazon.com/kms/latest/developerguide/key-policy-default.html#key-policy-service-integration)"
              },
              "cluster_compute_config": {
                "default": {},
                "description": "Configuration block for the cluster compute configuration"
              },
              "cluster_upgrade_policy": {
                "default": {},
                "description": "Configuration block for the cluster upgrade policy"
              },
              "kms_key_administrators": {
                "default": [],
                "description": "A list of IAM ARNs for [key administrators](https://docs.aws.amazon.com/kms/latest/developerguide/key-policy-default.html#key-policy-default-allow-administrators). If no value is provided, the current caller identity is used to ensure at least one key admin is available"
              },
              "node_security_group_id": {
                "default": "",
                "description": "ID of an existing security group to attach to the node groups created"
              },
              "cluster_addons_timeouts": {
                "default": {},
                "description": "Create, update, and delete timeout configurations for the cluster addons"
              },
              "custom_oidc_thumbprints": {
                "default": [],
                "description": "Additional list of server certificate thumbprints for the OpenID Connect (OIDC) identity provider's server certificate(s)"
              },
              "dataplane_wait_duration": {
                "default": "30s",
                "description": "Duration to wait after the EKS cluster has become active before creating the dataplane components (EKS managed node group(s), self-managed node group(s), Fargate profile(s))"
              },
              "eks_managed_node_groups": {
                "default": {},
                "description": "Map of EKS managed node group definitions to create"
              },
              "enable_kms_key_rotation": {
                "default": true,
                "description": "Specifies whether key rotation is enabled"
              },
              "control_plane_subnet_ids": {
                "default": [],
                "description": "A list of subnet IDs where the EKS cluster control plane (ENIs) will be provisioned. Used for expanding the pool of subnets used by nodes/node groups without replacing the EKS control plane"
              },
              "fargate_profile_defaults": {
                "default": {},
                "description": "Map of Fargate Profile default configurations"
              },
              "iam_role_use_name_prefix": {
                "default": true,
                "description": "Determines whether the IAM role name (`iam_role_name`) is used as a prefix"
              },
              "node_security_group_name": {
                "description": "Name to use on node security group created"
              },
              "node_security_group_tags": {
                "default": {},
                "description": "A map of additional tags to add to the node security group created"
              },
              "openid_connect_audiences": {
                "default": [],
                "description": "List of OpenID Connect audience client IDs to add to the IRSA provider"
              },
              "self_managed_node_groups": {
                "default": {},
                "description": "Map of self-managed node group definitions to create"
              },
              "cloudwatch_log_group_tags": {
                "default": {},
                "description": "A map of additional tags to add to the cloudwatch log group created"
              },
              "cluster_enabled_log_types": {
                "default": [
                  "audit",
                  "api",
                  "authenticator"
                ],
                "description": "A list of the desired control plane logs to enable. For more information, see Amazon EKS Control Plane Logging documentation (https://docs.aws.amazon.com/eks/latest/userguide/control-plane-logs.html)"
              },
              "cluster_encryption_config": {
                "default": {
                  "resources": [
                    "secrets"
                  ]
                },
                "description": "Configuration block with encryption configuration for the cluster. To disable secret encryption, set this value to `{}`"
              },
              "cluster_security_group_id": {
                "default": "",
                "description": "Existing security group ID to be attached to the cluster"
              },
              "cluster_service_ipv4_cidr": {
                "description": "The CIDR block to assign Kubernetes service IP addresses from. If you don't specify a block, Kubernetes assigns addresses from either the 10.100.0.0/16 or 172.20.0.0/16 CIDR blocks"
              },
              "cluster_service_ipv6_cidr": {
                "description": "The CIDR block to assign Kubernetes pod and service IP addresses from if `ipv6` was specified when the cluster was created. Kubernetes assigns service addresses from the unique local address range (fc00::/7) because you can't specify a custom IPv6 CIDR block when you create the cluster"
              },
              "node_iam_role_description": {
                "description": "Description of the EKS Auto node IAM role"
              },
              "cloudwatch_log_group_class": {
                "description": "Specified the log class of the log group. Possible values are: `STANDARD` or `INFREQUENT_ACCESS`"
              },
              "cluster_identity_providers": {
                "default": {},
                "description": "Map of cluster identity provider configurations to enable for the cluster. Note - this is different/separate from IRSA"
              },
              "cluster_zonal_shift_config": {
                "default": {},
                "description": "Configuration block for the cluster zonal shift"
              },
              "create_cni_ipv6_iam_policy": {
                "default": false,
                "description": "Determines whether to create an [`AmazonEKS_CNI_IPv6_Policy`](https://docs.aws.amazon.com/eks/latest/userguide/cni-iam-role.html#cni-iam-role-create-ipv6-policy)"
              },
              "create_node_security_group": {
                "default": true,
                "description": "Determines whether to create a security group for the node groups or use the existing `node_security_group_id`"
              },
              "cluster_security_group_name": {
                "description": "Name to use on cluster security group created"
              },
              "cluster_security_group_tags": {
                "default": {},
                "description": "A map of additional tags to add to the cluster security group created"
              },
              "create_cloudwatch_log_group": {
                "default": true,
                "description": "Determines whether a log group is created by this module for the cluster logs. If not, AWS will automatically create one if logging is enabled"
              },
              "enable_auto_mode_custom_tags": {
                "default": true,
                "description": "Determines whether to enable permissions for custom tags resources created by EKS Auto Mode"
              },
              "iam_role_additional_policies": {
                "default": {},
                "description": "Additional policies to be added to the IAM role"
              },
              "bootstrap_self_managed_addons": {
                "description": "Indicates whether or not to bootstrap self-managed addons after the cluster has been created"
              },
              "cluster_remote_network_config": {
                "default": {},
                "description": "Configuration block for the cluster remote network configuration"
              },
              "create_cluster_security_group": {
                "default": true,
                "description": "Determines if a security group is created for the cluster. Note: the EKS service creates a primary security group for the cluster by default"
              },
              "iam_role_permissions_boundary": {
                "description": "ARN of the policy that is used to set the permissions boundary for the IAM role"
              },
              "kms_key_enable_default_policy": {
                "default": true,
                "description": "Specifies whether to enable the default key policy"
              },
              "node_iam_role_use_name_prefix": {
                "default": true,
                "description": "Determines whether the EKS Auto node IAM role name (`node_iam_role_name`) is used as a prefix"
              },
              "cluster_encryption_policy_name": {
                "description": "Name to use on cluster encryption policy created"
              },
              "cluster_encryption_policy_path": {
                "description": "Cluster encryption policy path"
              },
              "cluster_encryption_policy_tags": {
                "default": {},
                "description": "A map of additional tags to add to the cluster encryption policy created"
              },
              "cluster_endpoint_public_access": {
                "default": false,
                "description": "Indicates whether or not the Amazon EKS public API server endpoint is enabled"
              },
              "cloudwatch_log_group_kms_key_id": {
                "description": "If a KMS Key ARN is set, this key will be used to encrypt the corresponding log group. Please be sure that the KMS Key has an appropriate key policy (https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/encrypt-log-data-kms.html)"
              },
              "cluster_endpoint_private_access": {
                "default": true,
                "description": "Indicates whether or not the Amazon EKS private API server endpoint is enabled"
              },
              "eks_managed_node_group_defaults": {
                "default": {},
                "description": "Map of EKS managed node group default configurations"
              },
              "enable_security_groups_for_pods": {
                "default": true,
                "description": "Determines whether to add the necessary IAM permission policy for security groups for pods"
              },
              "include_oidc_root_ca_thumbprint": {
                "default": true,
                "description": "Determines whether to include the root CA thumbprint in the OpenID Connect (OIDC) identity provider's server certificate(s)"
              },
              "kms_key_deletion_window_in_days": {
                "description": "The waiting period, specified in number of days. After the waiting period ends, AWS KMS deletes the KMS key. If you specify a value, it must be between `7` and `30`, inclusive. If you do not specify a value, it defaults to `30`"
              },
              "kms_key_source_policy_documents": {
                "default": [],
                "description": "List of IAM policy documents that are merged together into the exported document. Statements must have unique `sid`s"
              },
              "node_security_group_description": {
                "default": "EKS node shared security group",
                "description": "Description of the node security group created"
              },
              "attach_cluster_encryption_policy": {
                "default": true,
                "description": "Indicates whether or not to attach an additional policy for the cluster IAM role to utilize the encryption key provided"
              },
              "self_managed_node_group_defaults": {
                "default": {},
                "description": "Map of self-managed node group default configurations"
              },
              "kms_key_override_policy_documents": {
                "default": [],
                "description": "List of IAM policy documents that are merged together into the exported document. In merging, statements with non-blank `sid`s will override statements with the same `sid`"
              },
              "node_iam_role_additional_policies": {
                "default": {},
                "description": "Additional policies to be added to the EKS Auto node IAM role"
              },
              "cluster_security_group_description": {
                "default": "EKS cluster security group",
                "description": "Description of the cluster security group created"
              },
              "node_iam_role_permissions_boundary": {
                "description": "ARN of the policy that is used to set the permissions boundary for the EKS Auto node IAM role"
              },
              "node_security_group_use_name_prefix": {
                "default": true,
                "description": "Determines whether node security group name (`node_security_group_name`) is used as a prefix"
              },
              "cluster_endpoint_public_access_cidrs": {
                "default": [
                  "0.0.0.0/0"
                ],
                "description": "List of CIDR blocks which can access the Amazon EKS public API server endpoint"
              },
              "node_security_group_additional_rules": {
                "default": {},
                "description": "List of additional security group rules to add to the node security group created. Set `source_cluster_security_group = true` inside rules to set the `cluster_security_group` as source"
              },
              "cluster_additional_security_group_ids": {
                "default": [],
                "description": "List of additional, externally created security group IDs to attach to the cluster control plane"
              },
              "cluster_encryption_policy_description": {
                "default": "Cluster encryption policy to allow cluster role to utilize CMK provided",
                "description": "Description of the cluster encryption policy created"
              },
              "cloudwatch_log_group_retention_in_days": {
                "default": 90,
                "description": "Number of days to retain log events. Default retention - 90 days"
              },
              "cluster_security_group_use_name_prefix": {
                "default": true,
                "description": "Determines whether cluster security group name (`cluster_security_group_name`) is used as a prefix"
              },
              "cluster_security_group_additional_rules": {
                "default": {},
                "description": "List of additional security group rules to add to the cluster security group created. Set `source_node_security_group = true` inside rules to set the `node_security_group` as source"
              },
              "enable_cluster_creator_admin_permissions": {
                "default": false,
                "description": "Indicates whether or not to add the cluster creator (the identity used by Terraform) as an administrator via access entry"
              },
              "cluster_encryption_policy_use_name_prefix": {
                "default": true,
                "description": "Determines whether cluster encryption policy name (`cluster_encryption_policy_name`) is used as a prefix"
              },
              "create_cluster_primary_security_group_tags": {
                "default": true,
                "description": "Indicates whether or not to tag the cluster's primary security group. This security group is created by the EKS service, not the module, and therefore tagging is handled after cluster creation"
              },
              "node_security_group_enable_recommended_rules": {
                "default": true,
                "description": "Determines whether to enable recommended security group rules for the node security group created. This includes node-to-node TCP ingress on ephemeral ports and allows all egress traffic"
              }
            },
            "module_calls": {
              "kms": {
                "module": {
                  "outputs": {
                    "grants": {
                      "expression": {
                        "references": [
                          "aws_kms_grant.this"
                        ]
                      },
                      "description": "A map of grants created and their attributes"
                    },
                    "key_id": {
                      "expression": {
                        "references": [
                          "aws_kms_key.this[0].key_id",
                          "aws_kms_key.this[0]",
                          "aws_kms_key.this",
                          "aws_kms_external_key.this[0].id",
                          "aws_kms_external_key.this[0]",
                          "aws_kms_external_key.this",
                          "aws_kms_replica_key.this[0].key_id",
                          "aws_kms_replica_key.this[0]",
                          "aws_kms_replica_key.this",
                          "aws_kms_replica_external_key.this[0].key_id",
                          "aws_kms_replica_external_key.this[0]",
                          "aws_kms_replica_external_key.this"
                        ]
                      },
                      "description": "The globally unique identifier for the key"
                    },
                    "aliases": {
                      "expression": {
                        "references": [
                          "aws_kms_alias.this"
                        ]
                      },
                      "description": "A map of aliases created and their attributes"
                    },
                    "key_arn": {
                      "expression": {
                        "references": [
                          "aws_kms_key.this[0].arn",
                          "aws_kms_key.this[0]",
                          "aws_kms_key.this",
                          "aws_kms_external_key.this[0].arn",
                          "aws_kms_external_key.this[0]",
                          "aws_kms_external_key.this",
                          "aws_kms_replica_key.this[0].arn",
                          "aws_kms_replica_key.this[0]",
                          "aws_kms_replica_key.this",
                          "aws_kms_replica_external_key.this[0].arn",
                          "aws_kms_replica_external_key.this[0]",
                          "aws_kms_replica_external_key.this"
                        ]
                      },
                      "description": "The Amazon Resource Name (ARN) of the key"
                    },
                    "key_policy": {
                      "expression": {
                        "references": [
                          "aws_kms_key.this[0].policy",
                          "aws_kms_key.this[0]",
                          "aws_kms_key.this",
                          "aws_kms_external_key.this[0].policy",
                          "aws_kms_external_key.this[0]",
                          "aws_kms_external_key.this",
                          "aws_kms_replica_key.this[0].policy",
                          "aws_kms_replica_key.this[0]",
                          "aws_kms_replica_key.this",
                          "aws_kms_replica_external_key.this[0].policy",
                          "aws_kms_replica_external_key.this[0]",
                          "aws_kms_replica_external_key.this"
                        ]
                      },
                      "description": "The IAM resource policy set on the key"
                    },
                    "external_key_state": {
                      "expression": {
                        "references": [
                          "aws_kms_external_key.this[0].key_state",
                          "aws_kms_external_key.this[0]",
                          "aws_kms_external_key.this",
                          "aws_kms_replica_external_key.this[0].key_state",
                          "aws_kms_replica_external_key.this[0]",
                          "aws_kms_replica_external_key.this"
                        ]
                      },
                      "description": "The state of the CMK"
                    },
                    "external_key_usage": {
                      "expression": {
                        "references": [
                          "aws_kms_external_key.this[0].key_usage",
                          "aws_kms_external_key.this[0]",
                          "aws_kms_external_key.this",
                          "aws_kms_replica_external_key.this[0].key_usage",
                          "aws_kms_replica_external_key.this[0]",
                          "aws_kms_replica_external_key.this"
                        ]
                      },
                      "description": "The cryptographic operations for which you can use the CMK"
                    },
                    "external_key_expiration_model": {
                      "expression": {
                        "references": [
                          "aws_kms_external_key.this[0].expiration_model",
                          "aws_kms_external_key.this[0]",
                          "aws_kms_external_key.this",
                          "aws_kms_replica_external_key.this[0].expiration_model",
                          "aws_kms_replica_external_key.this[0]",
                          "aws_kms_replica_external_key.this"
                        ]
                      },
                      "description": "Whether the key material expires. Empty when pending key material import, otherwise `KEY_MATERIAL_EXPIRES` or `KEY_MATERIAL_DOES_NOT_EXPIRE`"
                    }
                  },
                  "resources": [
                    {
                      "mode": "managed",
                      "name": "this",
                      "type": "aws_kms_alias",
                      "address": "aws_kms_alias.this",
                      "expressions": {
                        "name": {
                          "references": [
                            "var.aliases_use_name_prefix",
                            "each.value.name",
                            "each.value"
                          ]
                        },
                        "name_prefix": {
                          "references": [
                            "var.aliases_use_name_prefix",
                            "each.value.name",
                            "each.value"
                          ]
                        },
                        "target_key_id": {
                          "references": [
                            "aws_kms_key.this[0].key_id",
                            "aws_kms_key.this[0]",
                            "aws_kms_key.this",
                            "aws_kms_external_key.this[0].id",
                            "aws_kms_external_key.this[0]",
                            "aws_kms_external_key.this",
                            "aws_kms_replica_key.this[0].key_id",
                            "aws_kms_replica_key.this[0]",
                            "aws_kms_replica_key.this",
                            "aws_kms_replica_external_key.this[0].key_id",
                            "aws_kms_replica_external_key.this[0]",
                            "aws_kms_replica_external_key.this"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "for_each_expression": {
                        "references": [
                          "local.aliases",
                          "var.computed_aliases",
                          "var.create"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "this",
                      "type": "aws_kms_external_key",
                      "address": "aws_kms_external_key.this",
                      "expressions": {
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "var.policy",
                            "data.aws_iam_policy_document.this[0].json",
                            "data.aws_iam_policy_document.this[0]",
                            "data.aws_iam_policy_document.this"
                          ]
                        },
                        "enabled": {
                          "references": [
                            "var.is_enabled"
                          ]
                        },
                        "valid_to": {
                          "references": [
                            "var.valid_to"
                          ]
                        },
                        "description": {
                          "references": [
                            "var.description"
                          ]
                        },
                        "multi_region": {
                          "references": [
                            "var.multi_region"
                          ]
                        },
                        "key_material_base64": {
                          "references": [
                            "var.key_material_base64"
                          ]
                        },
                        "deletion_window_in_days": {
                          "references": [
                            "var.deletion_window_in_days"
                          ]
                        },
                        "bypass_policy_lockout_safety_check": {
                          "references": [
                            "var.bypass_policy_lockout_safety_check"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create",
                          "var.create_external",
                          "var.create_replica",
                          "var.create_replica_external"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "this",
                      "type": "aws_kms_grant",
                      "address": "aws_kms_grant.this",
                      "expressions": {
                        "name": {
                          "references": [
                            "each.value.name",
                            "each.value",
                            "each.key"
                          ]
                        },
                        "key_id": {
                          "references": [
                            "aws_kms_key.this[0].key_id",
                            "aws_kms_key.this[0]",
                            "aws_kms_key.this",
                            "aws_kms_external_key.this[0].id",
                            "aws_kms_external_key.this[0]",
                            "aws_kms_external_key.this",
                            "aws_kms_replica_key.this[0].key_id",
                            "aws_kms_replica_key.this[0]",
                            "aws_kms_replica_key.this",
                            "aws_kms_replica_external_key.this[0].key_id",
                            "aws_kms_replica_external_key.this[0]",
                            "aws_kms_replica_external_key.this"
                          ]
                        },
                        "operations": {
                          "references": [
                            "each.value.operations",
                            "each.value"
                          ]
                        },
                        "retire_on_delete": {
                          "references": [
                            "each.value.retire_on_delete",
                            "each.value"
                          ]
                        },
                        "grantee_principal": {
                          "references": [
                            "each.value.grantee_principal",
                            "each.value"
                          ]
                        },
                        "retiring_principal": {
                          "references": [
                            "each.value.retiring_principal",
                            "each.value"
                          ]
                        },
                        "grant_creation_tokens": {
                          "references": [
                            "each.value.grant_creation_tokens",
                            "each.value"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "for_each_expression": {
                        "references": [
                          "var.grants",
                          "var.create"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "this",
                      "type": "aws_kms_key",
                      "address": "aws_kms_key.this",
                      "expressions": {
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "var.policy",
                            "data.aws_iam_policy_document.this[0].json",
                            "data.aws_iam_policy_document.this[0]",
                            "data.aws_iam_policy_document.this"
                          ]
                        },
                        "key_usage": {
                          "references": [
                            "var.key_usage"
                          ]
                        },
                        "is_enabled": {
                          "references": [
                            "var.is_enabled"
                          ]
                        },
                        "description": {
                          "references": [
                            "var.description"
                          ]
                        },
                        "multi_region": {
                          "references": [
                            "var.multi_region"
                          ]
                        },
                        "custom_key_store_id": {
                          "references": [
                            "var.custom_key_store_id"
                          ]
                        },
                        "enable_key_rotation": {
                          "references": [
                            "var.enable_key_rotation"
                          ]
                        },
                        "deletion_window_in_days": {
                          "references": [
                            "var.deletion_window_in_days"
                          ]
                        },
                        "customer_master_key_spec": {
                          "references": [
                            "var.customer_master_key_spec"
                          ]
                        },
                        "bypass_policy_lockout_safety_check": {
                          "references": [
                            "var.bypass_policy_lockout_safety_check"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create",
                          "var.create_external",
                          "var.create_replica",
                          "var.create_replica_external"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "this",
                      "type": "aws_kms_replica_external_key",
                      "address": "aws_kms_replica_external_key.this",
                      "expressions": {
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "var.policy",
                            "data.aws_iam_policy_document.this[0].json",
                            "data.aws_iam_policy_document.this[0]",
                            "data.aws_iam_policy_document.this"
                          ]
                        },
                        "enabled": {
                          "references": [
                            "var.is_enabled"
                          ]
                        },
                        "valid_to": {
                          "references": [
                            "var.valid_to"
                          ]
                        },
                        "description": {
                          "references": [
                            "var.description"
                          ]
                        },
                        "primary_key_arn": {
                          "references": [
                            "var.primary_external_key_arn"
                          ]
                        },
                        "key_material_base64": {
                          "references": [
                            "var.key_material_base64"
                          ]
                        },
                        "deletion_window_in_days": {
                          "references": [
                            "var.deletion_window_in_days"
                          ]
                        },
                        "bypass_policy_lockout_safety_check": {
                          "references": [
                            "var.bypass_policy_lockout_safety_check"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create",
                          "var.create_replica",
                          "var.create_external",
                          "var.create_replica_external"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "this",
                      "type": "aws_kms_replica_key",
                      "address": "aws_kms_replica_key.this",
                      "expressions": {
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "var.policy",
                            "data.aws_iam_policy_document.this[0].json",
                            "data.aws_iam_policy_document.this[0]",
                            "data.aws_iam_policy_document.this"
                          ]
                        },
                        "enabled": {
                          "references": [
                            "var.is_enabled"
                          ]
                        },
                        "description": {
                          "references": [
                            "var.description"
                          ]
                        },
                        "primary_key_arn": {
                          "references": [
                            "var.primary_key_arn"
                          ]
                        },
                        "deletion_window_in_days": {
                          "references": [
                            "var.deletion_window_in_days"
                          ]
                        },
                        "bypass_policy_lockout_safety_check": {
                          "references": [
                            "var.bypass_policy_lockout_safety_check"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create",
                          "var.create_replica",
                          "var.create_external",
                          "var.create_replica_external"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "current",
                      "type": "aws_caller_identity",
                      "address": "data.aws_caller_identity.current",
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "this",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.this",
                      "expressions": {
                        "source_policy_documents": {
                          "references": [
                            "var.source_policy_documents"
                          ]
                        },
                        "override_policy_documents": {
                          "references": [
                            "var.override_policy_documents"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "current",
                      "type": "aws_partition",
                      "address": "data.aws_partition.current",
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create"
                        ]
                      },
                      "provider_config_key": "aws"
                    }
                  ],
                  "variables": {
                    "tags": {
                      "default": {},
                      "description": "A map of tags to add to all resources"
                    },
                    "create": {
                      "default": true,
                      "description": "Determines whether resources will be created (affects all resources)"
                    },
                    "grants": {
                      "default": {},
                      "description": "A map of grant definitions to create"
                    },
                    "policy": {
                      "description": "A valid policy JSON document. Although this is a key policy, not an IAM policy, an `aws_iam_policy_document`, in the form that designates a principal, can be used"
                    },
                    "aliases": {
                      "default": [],
                      "description": "A list of aliases to create. Note - due to the use of `toset()`, values must be static strings and not computed values"
                    },
                    "valid_to": {
                      "description": "Time at which the imported key material expires. When the key material expires, AWS KMS deletes the key material and the CMK becomes unusable. If not specified, key material does not expire"
                    },
                    "key_usage": {
                      "description": "Specifies the intended use of the key. Valid values: `ENCRYPT_DECRYPT` or `SIGN_VERIFY`. Defaults to `ENCRYPT_DECRYPT`"
                    },
                    "key_users": {
                      "default": [],
                      "description": "A list of IAM ARNs for [key users](https://docs.aws.amazon.com/kms/latest/developerguide/key-policy-default.html#key-policy-default-allow-users)"
                    },
                    "is_enabled": {
                      "description": "Specifies whether the key is enabled. Defaults to `true`"
                    },
                    "key_owners": {
                      "default": [],
                      "description": "A list of IAM ARNs for those who will have full key permissions (`kms:*`)"
                    },
                    "description": {
                      "description": "The description of the key as viewed in AWS console"
                    },
                    "multi_region": {
                      "default": false,
                      "description": "Indicates whether the KMS key is a multi-Region (`true`) or regional (`false`) key. Defaults to `false`"
                    },
                    "create_replica": {
                      "default": false,
                      "description": "Determines whether a replica standard CMK will be created (AWS provided material)"
                    },
                    "key_hmac_users": {
                      "default": [],
                      "description": "A list of IAM ARNs for [key HMAC users](https://docs.aws.amazon.com/kms/latest/developerguide/key-policy-default.html#key-policy-users-crypto)"
                    },
                    "key_statements": {
                      "default": {},
                      "description": "A map of IAM policy [statements](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/iam_policy_document#statement) for custom permission usage"
                    },
                    "create_external": {
                      "default": false,
                      "description": "Determines whether an external CMK (externally provided material) will be created or a standard CMK (AWS provided material)"
                    },
                    "primary_key_arn": {
                      "description": "The primary key arn of a multi-region replica key"
                    },
                    "computed_aliases": {
                      "default": {},
                      "description": "A map of aliases to create. Values provided via the `name` key of the map can be computed from upstream resources"
                    },
                    "key_service_users": {
                      "default": [],
                      "description": "A list of IAM ARNs for [key service users](https://docs.aws.amazon.com/kms/latest/developerguide/key-policy-default.html#key-policy-service-integration)"
                    },
                    "key_administrators": {
                      "default": [],
                      "description": "A list of IAM ARNs for [key administrators](https://docs.aws.amazon.com/kms/latest/developerguide/key-policy-default.html#key-policy-default-allow-administrators)"
                    },
                    "custom_key_store_id": {
                      "description": "ID of the KMS Custom Key Store where the key will be stored instead of KMS (eg CloudHSM)."
                    },
                    "enable_key_rotation": {
                      "default": true,
                      "description": "Specifies whether key rotation is enabled. Defaults to `true`"
                    },
                    "key_material_base64": {
                      "description": "Base64 encoded 256-bit symmetric encryption key material to import. The CMK is permanently associated with this key material. External key only"
                    },
                    "enable_default_policy": {
                      "default": true,
                      "description": "Specifies whether to enable the default key policy. Defaults to `true`"
                    },
                    "enable_route53_dnssec": {
                      "default": false,
                      "description": "Determines whether the KMS policy used for Route53 DNSSEC signing is enabled"
                    },
                    "route53_dnssec_sources": {
                      "default": [],
                      "description": "A list of maps containing `account_ids` and Route53 `hosted_zone_arn` that will be allowed to sign DNSSEC records"
                    },
                    "aliases_use_name_prefix": {
                      "default": false,
                      "description": "Determines whether the alias name is used as a prefix"
                    },
                    "create_replica_external": {
                      "default": false,
                      "description": "Determines whether a replica external CMK will be created (externally provided material)"
                    },
                    "deletion_window_in_days": {
                      "description": "The waiting period, specified in number of days. After the waiting period ends, AWS KMS deletes the KMS key. If you specify a value, it must be between `7` and `30`, inclusive. If you do not specify a value, it defaults to `30`"
                    },
                    "source_policy_documents": {
                      "default": [],
                      "description": "List of IAM policy documents that are merged together into the exported document. Statements must have unique `sid`s"
                    },
                    "customer_master_key_spec": {
                      "description": "Specifies whether the key contains a symmetric key or an asymmetric key pair and the encryption algorithms or signing algorithms that the key supports. Valid values: `SYMMETRIC_DEFAULT`, `RSA_2048`, `RSA_3072`, `RSA_4096`, `HMAC_256`, `ECC_NIST_P256`, `ECC_NIST_P384`, `ECC_NIST_P521`, or `ECC_SECG_P256K1`. Defaults to `SYMMETRIC_DEFAULT`"
                    },
                    "primary_external_key_arn": {
                      "description": "The primary external key arn of a multi-region replica external key"
                    },
                    "override_policy_documents": {
                      "default": [],
                      "description": "List of IAM policy documents that are merged together into the exported document. In merging, statements with non-blank `sid`s will override statements with the same `sid`"
                    },
                    "key_symmetric_encryption_users": {
                      "default": [],
                      "description": "A list of IAM ARNs for [key symmetric encryption users](https://docs.aws.amazon.com/kms/latest/developerguide/key-policy-default.html#key-policy-users-crypto)"
                    },
                    "key_asymmetric_sign_verify_users": {
                      "default": [],
                      "description": "A list of IAM ARNs for [key asymmetric sign and verify users](https://docs.aws.amazon.com/kms/latest/developerguide/key-policy-default.html#key-policy-users-crypto)"
                    },
                    "key_service_roles_for_autoscaling": {
                      "default": [],
                      "description": "A list of IAM ARNs for [AWSServiceRoleForAutoScaling roles](https://docs.aws.amazon.com/autoscaling/ec2/userguide/key-policy-requirements-EBS-encryption.html#policy-example-cmk-access)"
                    },
                    "bypass_policy_lockout_safety_check": {
                      "description": "A flag to indicate whether to bypass the key policy lockout safety check. Setting this value to true increases the risk that the KMS key becomes unmanageable"
                    },
                    "key_asymmetric_public_encryption_users": {
                      "default": [],
                      "description": "A list of IAM ARNs for [key asymmetric public encryption users](https://docs.aws.amazon.com/kms/latest/developerguide/key-policy-default.html#key-policy-users-crypto)"
                    }
                  }
                },
                "source": "terraform-aws-modules/kms/aws",
                "expressions": {
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "create": {
                    "references": [
                      "local.create",
                      "var.create_kms_key",
                      "local.enable_cluster_encryption_config"
                    ]
                  },
                  "aliases": {
                    "references": [
                      "var.kms_key_aliases"
                    ]
                  },
                  "key_usage": {
                    "constant_value": "ENCRYPT_DECRYPT"
                  },
                  "key_users": {
                    "references": [
                      "local.cluster_role",
                      "var.kms_key_users"
                    ]
                  },
                  "key_owners": {
                    "references": [
                      "var.kms_key_owners"
                    ]
                  },
                  "description": {
                    "references": [
                      "var.kms_key_description",
                      "var.cluster_name"
                    ]
                  },
                  "computed_aliases": {
                    "references": [
                      "var.cluster_name"
                    ]
                  },
                  "key_service_users": {
                    "references": [
                      "var.kms_key_service_users"
                    ]
                  },
                  "key_administrators": {
                    "references": [
                      "var.kms_key_administrators",
                      "data.aws_iam_session_context.current[0].issuer_arn",
                      "data.aws_iam_session_context.current[0]",
                      "data.aws_iam_session_context.current"
                    ]
                  },
                  "enable_key_rotation": {
                    "references": [
                      "var.enable_kms_key_rotation"
                    ]
                  },
                  "enable_default_policy": {
                    "references": [
                      "var.kms_key_enable_default_policy"
                    ]
                  },
                  "deletion_window_in_days": {
                    "references": [
                      "var.kms_key_deletion_window_in_days"
                    ]
                  },
                  "source_policy_documents": {
                    "references": [
                      "var.kms_key_source_policy_documents"
                    ]
                  },
                  "override_policy_documents": {
                    "references": [
                      "var.kms_key_override_policy_documents"
                    ]
                  }
                },
                "version_constraint": "2.1.0"
              },
              "fargate_profile": {
                "module": {
                  "outputs": {
                    "iam_role_arn": {
                      "expression": {
                        "references": [
                          "aws_iam_role.this[0].arn",
                          "aws_iam_role.this[0]",
                          "aws_iam_role.this",
                          "var.iam_role_arn"
                        ]
                      },
                      "description": "The Amazon Resource Name (ARN) specifying the IAM role"
                    },
                    "iam_role_name": {
                      "expression": {
                        "references": [
                          "aws_iam_role.this[0].name",
                          "aws_iam_role.this[0]",
                          "aws_iam_role.this"
                        ]
                      },
                      "description": "The name of the IAM role"
                    },
                    "fargate_profile_id": {
                      "expression": {
                        "references": [
                          "aws_eks_fargate_profile.this[0].id",
                          "aws_eks_fargate_profile.this[0]",
                          "aws_eks_fargate_profile.this"
                        ]
                      },
                      "description": "EKS Cluster name and EKS Fargate Profile name separated by a colon (`:`)"
                    },
                    "iam_role_unique_id": {
                      "expression": {
                        "references": [
                          "aws_iam_role.this[0].unique_id",
                          "aws_iam_role.this[0]",
                          "aws_iam_role.this"
                        ]
                      },
                      "description": "Stable and unique string identifying the IAM role"
                    },
                    "fargate_profile_arn": {
                      "expression": {
                        "references": [
                          "aws_eks_fargate_profile.this[0].arn",
                          "aws_eks_fargate_profile.this[0]",
                          "aws_eks_fargate_profile.this"
                        ]
                      },
                      "description": "Amazon Resource Name (ARN) of the EKS Fargate Profile"
                    },
                    "fargate_profile_status": {
                      "expression": {
                        "references": [
                          "aws_eks_fargate_profile.this[0].status",
                          "aws_eks_fargate_profile.this[0]",
                          "aws_eks_fargate_profile.this"
                        ]
                      },
                      "description": "Status of the EKS Fargate Profile"
                    },
                    "fargate_profile_pod_execution_role_arn": {
                      "expression": {
                        "references": [
                          "aws_eks_fargate_profile.this[0].pod_execution_role_arn",
                          "aws_eks_fargate_profile.this[0]",
                          "aws_eks_fargate_profile.this"
                        ]
                      },
                      "description": "Amazon Resource Name (ARN) of the EKS Fargate Profile Pod execution role ARN"
                    }
                  },
                  "resources": [
                    {
                      "mode": "managed",
                      "name": "this",
                      "type": "aws_eks_fargate_profile",
                      "address": "aws_eks_fargate_profile.this",
                      "expressions": {
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "subnet_ids": {
                          "references": [
                            "var.subnet_ids"
                          ]
                        },
                        "cluster_name": {
                          "references": [
                            "var.cluster_name"
                          ]
                        },
                        "fargate_profile_name": {
                          "references": [
                            "var.name"
                          ]
                        },
                        "pod_execution_role_arn": {
                          "references": [
                            "var.create_iam_role",
                            "aws_iam_role.this[0].arn",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this",
                            "var.iam_role_arn"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "this",
                      "type": "aws_iam_role",
                      "address": "aws_iam_role.this",
                      "expressions": {
                        "name": {
                          "references": [
                            "var.iam_role_use_name_prefix",
                            "local.iam_role_name"
                          ]
                        },
                        "path": {
                          "references": [
                            "var.iam_role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags",
                            "var.iam_role_tags"
                          ]
                        },
                        "description": {
                          "references": [
                            "var.iam_role_description"
                          ]
                        },
                        "name_prefix": {
                          "references": [
                            "var.iam_role_use_name_prefix",
                            "local.iam_role_name"
                          ]
                        },
                        "assume_role_policy": {
                          "references": [
                            "data.aws_iam_policy_document.assume_role_policy[0].json",
                            "data.aws_iam_policy_document.assume_role_policy[0]",
                            "data.aws_iam_policy_document.assume_role_policy"
                          ]
                        },
                        "permissions_boundary": {
                          "references": [
                            "var.iam_role_permissions_boundary"
                          ]
                        },
                        "force_detach_policies": {
                          "constant_value": true
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "local.create_iam_role"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "this",
                      "type": "aws_iam_role_policy",
                      "address": "aws_iam_role_policy.this",
                      "expressions": {
                        "name": {
                          "references": [
                            "var.iam_role_use_name_prefix",
                            "local.iam_role_name"
                          ]
                        },
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].id",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.role[0].json",
                            "data.aws_iam_policy_document.role[0]",
                            "data.aws_iam_policy_document.role"
                          ]
                        },
                        "name_prefix": {
                          "references": [
                            "var.iam_role_use_name_prefix",
                            "local.iam_role_name"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "local.create_iam_role_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "additional",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.additional",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "each.value"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "for_each_expression": {
                        "references": [
                          "var.iam_role_additional_policies",
                          "local.create_iam_role"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "this",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.this",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "each.value"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "for_each_expression": {
                        "references": [
                          "local.iam_role_policy_prefix",
                          "local.ipv4_cni_policy",
                          "local.ipv6_cni_policy",
                          "local.create_iam_role"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "current",
                      "type": "aws_caller_identity",
                      "address": "data.aws_caller_identity.current",
                      "schema_version": 0,
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "assume_role_policy",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.assume_role_policy",
                      "expressions": {
                        "statement": [
                          {
                            "effect": {
                              "constant_value": "Allow"
                            },
                            "actions": {
                              "constant_value": [
                                "sts:AssumeRole"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "ArnLike"
                                },
                                "values": {
                                  "references": [
                                    "data.aws_partition.current.partition",
                                    "data.aws_partition.current",
                                    "data.aws_region.current.name",
                                    "data.aws_region.current",
                                    "data.aws_caller_identity.current.account_id",
                                    "data.aws_caller_identity.current",
                                    "var.cluster_name"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:SourceArn"
                                }
                              }
                            ],
                            "principals": [
                              {
                                "type": {
                                  "constant_value": "Service"
                                },
                                "identifiers": {
                                  "constant_value": [
                                    "eks-fargate-pods.amazonaws.com"
                                  ]
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "local.create_iam_role"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "role",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.role",
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "local.create_iam_role_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "current",
                      "type": "aws_partition",
                      "address": "data.aws_partition.current",
                      "schema_version": 0,
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "current",
                      "type": "aws_region",
                      "address": "data.aws_region.current",
                      "schema_version": 0,
                      "provider_config_key": "aws"
                    }
                  ],
                  "variables": {
                    "name": {
                      "default": "",
                      "description": "Name of the EKS Fargate Profile"
                    },
                    "tags": {
                      "default": {},
                      "description": "A map of tags to add to all resources"
                    },
                    "create": {
                      "default": true,
                      "description": "Determines whether to create Fargate profile or not"
                    },
                    "timeouts": {
                      "default": {},
                      "description": "Create and delete timeout configurations for the Fargate Profile"
                    },
                    "selectors": {
                      "default": [],
                      "description": "Configuration block(s) for selecting Kubernetes Pods to execute with this Fargate Profile"
                    },
                    "subnet_ids": {
                      "default": [],
                      "description": "A list of subnet IDs for the EKS Fargate Profile"
                    },
                    "cluster_name": {
                      "description": "Name of the EKS cluster"
                    },
                    "iam_role_arn": {
                      "description": "Existing IAM role ARN for the Fargate profile. Required if `create_iam_role` is set to `false`"
                    },
                    "iam_role_name": {
                      "default": "",
                      "description": "Name to use on IAM role created"
                    },
                    "iam_role_path": {
                      "description": "IAM role path"
                    },
                    "iam_role_tags": {
                      "default": {},
                      "description": "A map of additional tags to add to the IAM role created"
                    },
                    "create_iam_role": {
                      "default": true,
                      "description": "Determines whether an IAM role is created or to use an existing IAM role"
                    },
                    "cluster_ip_family": {
                      "default": "ipv4",
                      "description": "The IP family used to assign Kubernetes pod and service addresses. Valid values are `ipv4` (default) and `ipv6`"
                    },
                    "iam_role_description": {
                      "description": "Description of the role"
                    },
                    "create_iam_role_policy": {
                      "default": true,
                      "description": "Determines whether an IAM role policy is created or not"
                    },
                    "iam_role_use_name_prefix": {
                      "default": true,
                      "description": "Determines whether the IAM role name (`iam_role_name`) is used as a prefix"
                    },
                    "iam_role_attach_cni_policy": {
                      "default": true,
                      "description": "Whether to attach the `AmazonEKS_CNI_Policy`/`AmazonEKS_CNI_IPv6_Policy` IAM policy to the IAM IAM role. WARNING: If set `false` the permissions must be assigned to the `aws-node` DaemonSet pods via another method or nodes will not be able to join the cluster"
                    },
                    "iam_role_policy_statements": {
                      "default": [],
                      "description": "A list of IAM policy [statements](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/iam_policy_document#statement) - used for adding specific IAM permissions as needed"
                    },
                    "iam_role_additional_policies": {
                      "default": {},
                      "description": "Additional policies to be added to the IAM role"
                    },
                    "iam_role_permissions_boundary": {
                      "description": "ARN of the policy that is used to set the permissions boundary for the IAM role"
                    }
                  }
                },
                "source": "./modules/fargate-profile",
                "expressions": {
                  "name": {
                    "references": [
                      "each.value.name",
                      "each.value",
                      "each.key"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "each.value.tags",
                      "each.value",
                      "var.fargate_profile_defaults.tags",
                      "var.fargate_profile_defaults"
                    ]
                  },
                  "create": {
                    "references": [
                      "each.value.create",
                      "each.value"
                    ]
                  },
                  "timeouts": {
                    "references": [
                      "each.value.timeouts",
                      "each.value",
                      "var.fargate_profile_defaults.timeouts",
                      "var.fargate_profile_defaults"
                    ]
                  },
                  "selectors": {
                    "references": [
                      "each.value.selectors",
                      "each.value",
                      "var.fargate_profile_defaults.selectors",
                      "var.fargate_profile_defaults"
                    ]
                  },
                  "subnet_ids": {
                    "references": [
                      "each.value.subnet_ids",
                      "each.value",
                      "var.fargate_profile_defaults.subnet_ids",
                      "var.fargate_profile_defaults",
                      "var.subnet_ids"
                    ]
                  },
                  "cluster_name": {
                    "references": [
                      "time_sleep.this[0].triggers[\"cluster_name\"]",
                      "time_sleep.this[0].triggers",
                      "time_sleep.this[0]",
                      "time_sleep.this"
                    ]
                  },
                  "iam_role_arn": {
                    "references": [
                      "each.value.iam_role_arn",
                      "each.value",
                      "var.fargate_profile_defaults.iam_role_arn",
                      "var.fargate_profile_defaults"
                    ]
                  },
                  "iam_role_name": {
                    "references": [
                      "each.value.iam_role_name",
                      "each.value",
                      "var.fargate_profile_defaults.iam_role_name",
                      "var.fargate_profile_defaults"
                    ]
                  },
                  "iam_role_path": {
                    "references": [
                      "each.value.iam_role_path",
                      "each.value",
                      "var.fargate_profile_defaults.iam_role_path",
                      "var.fargate_profile_defaults"
                    ]
                  },
                  "iam_role_tags": {
                    "references": [
                      "each.value.iam_role_tags",
                      "each.value",
                      "var.fargate_profile_defaults.iam_role_tags",
                      "var.fargate_profile_defaults"
                    ]
                  },
                  "create_iam_role": {
                    "references": [
                      "each.value.create_iam_role",
                      "each.value",
                      "var.fargate_profile_defaults.create_iam_role",
                      "var.fargate_profile_defaults"
                    ]
                  },
                  "cluster_ip_family": {
                    "references": [
                      "var.cluster_ip_family"
                    ]
                  },
                  "iam_role_description": {
                    "references": [
                      "each.value.iam_role_description",
                      "each.value",
                      "var.fargate_profile_defaults.iam_role_description",
                      "var.fargate_profile_defaults"
                    ]
                  },
                  "create_iam_role_policy": {
                    "references": [
                      "each.value.create_iam_role_policy",
                      "each.value",
                      "var.fargate_profile_defaults.create_iam_role_policy",
                      "var.fargate_profile_defaults"
                    ]
                  },
                  "iam_role_use_name_prefix": {
                    "references": [
                      "each.value.iam_role_use_name_prefix",
                      "each.value",
                      "var.fargate_profile_defaults.iam_role_use_name_prefix",
                      "var.fargate_profile_defaults"
                    ]
                  },
                  "iam_role_attach_cni_policy": {
                    "references": [
                      "each.value.iam_role_attach_cni_policy",
                      "each.value",
                      "var.fargate_profile_defaults.iam_role_attach_cni_policy",
                      "var.fargate_profile_defaults"
                    ]
                  },
                  "iam_role_policy_statements": {
                    "references": [
                      "each.value.iam_role_policy_statements",
                      "each.value",
                      "var.fargate_profile_defaults.iam_role_policy_statements",
                      "var.fargate_profile_defaults"
                    ]
                  },
                  "iam_role_additional_policies": {
                    "references": [
                      "each.value",
                      "var.fargate_profile_defaults"
                    ]
                  },
                  "iam_role_permissions_boundary": {
                    "references": [
                      "each.value.iam_role_permissions_boundary",
                      "each.value",
                      "var.fargate_profile_defaults.iam_role_permissions_boundary",
                      "var.fargate_profile_defaults"
                    ]
                  }
                },
                "for_each_expression": {
                  "references": [
                    "var.fargate_profiles",
                    "var.create",
                    "local.create_outposts_local_cluster"
                  ]
                }
              },
              "eks_managed_node_group": {
                "module": {
                  "outputs": {
                    "platform": {
                      "expression": {
                        "references": [
                          "module.user_data.platform",
                          "module.user_data"
                        ]
                      },
                      "description": "[DEPRECATED - Will be removed in `v21.0`] Identifies the OS platform as `bottlerocket`, `linux` (AL2), `al2023`, or `windows`"
                    },
                    "iam_role_arn": {
                      "expression": {
                        "references": [
                          "aws_iam_role.this[0].arn",
                          "aws_iam_role.this[0]",
                          "aws_iam_role.this",
                          "var.iam_role_arn"
                        ]
                      },
                      "description": "The Amazon Resource Name (ARN) specifying the IAM role"
                    },
                    "iam_role_name": {
                      "expression": {
                        "references": [
                          "aws_iam_role.this[0].name",
                          "aws_iam_role.this[0]",
                          "aws_iam_role.this"
                        ]
                      },
                      "description": "The name of the IAM role"
                    },
                    "node_group_id": {
                      "expression": {
                        "references": [
                          "aws_eks_node_group.this[0].id",
                          "aws_eks_node_group.this[0]",
                          "aws_eks_node_group.this"
                        ]
                      },
                      "description": "EKS Cluster name and EKS Node Group name separated by a colon (`:`)"
                    },
                    "node_group_arn": {
                      "expression": {
                        "references": [
                          "aws_eks_node_group.this[0].arn",
                          "aws_eks_node_group.this[0]",
                          "aws_eks_node_group.this"
                        ]
                      },
                      "description": "Amazon Resource Name (ARN) of the EKS Node Group"
                    },
                    "node_group_labels": {
                      "expression": {
                        "references": [
                          "aws_eks_node_group.this[0].labels",
                          "aws_eks_node_group.this[0]",
                          "aws_eks_node_group.this"
                        ]
                      },
                      "description": "Map of labels applied to the node group"
                    },
                    "node_group_status": {
                      "expression": {
                        "references": [
                          "aws_eks_node_group.this[0].status",
                          "aws_eks_node_group.this[0]",
                          "aws_eks_node_group.this"
                        ]
                      },
                      "description": "Status of the EKS Node Group"
                    },
                    "node_group_taints": {
                      "expression": {
                        "references": [
                          "aws_eks_node_group.this[0].taint",
                          "aws_eks_node_group.this[0]",
                          "aws_eks_node_group.this"
                        ]
                      },
                      "description": "List of objects containing information about taints applied to the node group"
                    },
                    "iam_role_unique_id": {
                      "expression": {
                        "references": [
                          "aws_iam_role.this[0].unique_id",
                          "aws_iam_role.this[0]",
                          "aws_iam_role.this"
                        ]
                      },
                      "description": "Stable and unique string identifying the IAM role"
                    },
                    "launch_template_id": {
                      "expression": {
                        "references": [
                          "aws_launch_template.this[0].id",
                          "aws_launch_template.this[0]",
                          "aws_launch_template.this"
                        ]
                      },
                      "description": "The ID of the launch template"
                    },
                    "launch_template_arn": {
                      "expression": {
                        "references": [
                          "aws_launch_template.this[0].arn",
                          "aws_launch_template.this[0]",
                          "aws_launch_template.this"
                        ]
                      },
                      "description": "The ARN of the launch template"
                    },
                    "launch_template_name": {
                      "expression": {
                        "references": [
                          "aws_launch_template.this[0].name",
                          "aws_launch_template.this[0]",
                          "aws_launch_template.this"
                        ]
                      },
                      "description": "The name of the launch template"
                    },
                    "node_group_resources": {
                      "expression": {
                        "references": [
                          "aws_eks_node_group.this[0].resources",
                          "aws_eks_node_group.this[0]",
                          "aws_eks_node_group.this"
                        ]
                      },
                      "description": "List of objects containing information about underlying resources"
                    },
                    "launch_template_latest_version": {
                      "expression": {
                        "references": [
                          "aws_launch_template.this[0].latest_version",
                          "aws_launch_template.this[0]",
                          "aws_launch_template.this"
                        ]
                      },
                      "description": "The latest version of the launch template"
                    },
                    "autoscaling_group_schedule_arns": {
                      "expression": {
                        "references": [
                          "aws_autoscaling_schedule.this"
                        ]
                      },
                      "description": "ARNs of autoscaling group schedules"
                    },
                    "node_group_autoscaling_group_names": {
                      "expression": {
                        "references": [
                          "aws_eks_node_group.this[0].resources",
                          "aws_eks_node_group.this[0]",
                          "aws_eks_node_group.this"
                        ]
                      },
                      "description": "List of the autoscaling group names"
                    }
                  },
                  "resources": [
                    {
                      "mode": "managed",
                      "name": "this",
                      "type": "aws_autoscaling_schedule",
                      "address": "aws_autoscaling_schedule.this",
                      "expressions": {
                        "end_time": {
                          "references": [
                            "each.value.end_time",
                            "each.value"
                          ]
                        },
                        "max_size": {
                          "references": [
                            "each.value.max_size",
                            "each.value"
                          ]
                        },
                        "min_size": {
                          "references": [
                            "each.value.min_size",
                            "each.value"
                          ]
                        },
                        "time_zone": {
                          "references": [
                            "each.value.time_zone",
                            "each.value"
                          ]
                        },
                        "recurrence": {
                          "references": [
                            "each.value.recurrence",
                            "each.value"
                          ]
                        },
                        "start_time": {
                          "references": [
                            "each.value.start_time",
                            "each.value"
                          ]
                        },
                        "desired_capacity": {
                          "references": [
                            "each.value.desired_size",
                            "each.value"
                          ]
                        },
                        "scheduled_action_name": {
                          "references": [
                            "each.key"
                          ]
                        },
                        "autoscaling_group_name": {
                          "references": [
                            "aws_eks_node_group.this[0].resources[0].autoscaling_groups[0].name",
                            "aws_eks_node_group.this[0].resources[0].autoscaling_groups[0]",
                            "aws_eks_node_group.this[0].resources[0].autoscaling_groups",
                            "aws_eks_node_group.this[0].resources[0]",
                            "aws_eks_node_group.this[0].resources",
                            "aws_eks_node_group.this[0]",
                            "aws_eks_node_group.this"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "for_each_expression": {
                        "references": [
                          "var.schedules",
                          "var.create",
                          "var.create_schedule"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "this",
                      "type": "aws_eks_node_group",
                      "address": "aws_eks_node_group.this",
                      "expressions": {
                        "tags": {
                          "references": [
                            "var.tags",
                            "var.name"
                          ]
                        },
                        "labels": {
                          "references": [
                            "var.labels"
                          ]
                        },
                        "version": {
                          "references": [
                            "var.ami_id",
                            "var.cluster_version"
                          ]
                        },
                        "ami_type": {
                          "references": [
                            "var.ami_id",
                            "var.ami_type"
                          ]
                        },
                        "timeouts": {},
                        "disk_size": {
                          "references": [
                            "var.use_custom_launch_template",
                            "var.disk_size"
                          ]
                        },
                        "subnet_ids": {
                          "references": [
                            "local.create_placement_group",
                            "data.aws_subnets.placement_group[0].ids",
                            "data.aws_subnets.placement_group[0]",
                            "data.aws_subnets.placement_group",
                            "var.subnet_ids"
                          ]
                        },
                        "cluster_name": {
                          "references": [
                            "var.cluster_name"
                          ]
                        },
                        "capacity_type": {
                          "references": [
                            "var.capacity_type"
                          ]
                        },
                        "node_role_arn": {
                          "references": [
                            "var.create_iam_role",
                            "aws_iam_role.this[0].arn",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this",
                            "var.iam_role_arn"
                          ]
                        },
                        "instance_types": {
                          "references": [
                            "var.capacity_type",
                            "var.instance_types"
                          ]
                        },
                        "scaling_config": [
                          {
                            "max_size": {
                              "references": [
                                "var.max_size"
                              ]
                            },
                            "min_size": {
                              "references": [
                                "var.min_size"
                              ]
                            },
                            "desired_size": {
                              "references": [
                                "var.desired_size"
                              ]
                            }
                          }
                        ],
                        "node_group_name": {
                          "references": [
                            "var.use_name_prefix",
                            "var.name"
                          ]
                        },
                        "release_version": {
                          "references": [
                            "var.ami_id",
                            "var.use_latest_ami_release_version",
                            "local.latest_ami_release_version",
                            "var.ami_release_version"
                          ]
                        },
                        "force_update_version": {
                          "references": [
                            "var.force_update_version"
                          ]
                        },
                        "node_group_name_prefix": {
                          "references": [
                            "var.use_name_prefix",
                            "var.name"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "this",
                      "type": "aws_iam_role",
                      "address": "aws_iam_role.this",
                      "expressions": {
                        "name": {
                          "references": [
                            "var.iam_role_use_name_prefix",
                            "local.iam_role_name"
                          ]
                        },
                        "path": {
                          "references": [
                            "var.iam_role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags",
                            "var.iam_role_tags"
                          ]
                        },
                        "description": {
                          "references": [
                            "var.iam_role_description"
                          ]
                        },
                        "name_prefix": {
                          "references": [
                            "var.iam_role_use_name_prefix",
                            "local.iam_role_name"
                          ]
                        },
                        "assume_role_policy": {
                          "references": [
                            "data.aws_iam_policy_document.assume_role_policy[0].json",
                            "data.aws_iam_policy_document.assume_role_policy[0]",
                            "data.aws_iam_policy_document.assume_role_policy"
                          ]
                        },
                        "permissions_boundary": {
                          "references": [
                            "var.iam_role_permissions_boundary"
                          ]
                        },
                        "force_detach_policies": {
                          "constant_value": true
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "local.create_iam_role"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "this",
                      "type": "aws_iam_role_policy",
                      "address": "aws_iam_role_policy.this",
                      "expressions": {
                        "name": {
                          "references": [
                            "var.iam_role_use_name_prefix",
                            "local.iam_role_name"
                          ]
                        },
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].id",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.role[0].json",
                            "data.aws_iam_policy_document.role[0]",
                            "data.aws_iam_policy_document.role"
                          ]
                        },
                        "name_prefix": {
                          "references": [
                            "var.iam_role_use_name_prefix",
                            "local.iam_role_name"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "local.create_iam_role_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "additional",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.additional",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "each.value"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "for_each_expression": {
                        "references": [
                          "var.iam_role_additional_policies",
                          "local.create_iam_role"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "this",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.this",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "each.value"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "for_each_expression": {
                        "references": [
                          "local.iam_role_policy_prefix",
                          "local.iam_role_policy_prefix",
                          "local.ipv4_cni_policy",
                          "local.ipv6_cni_policy",
                          "local.create_iam_role"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "this",
                      "type": "aws_launch_template",
                      "address": "aws_launch_template.this",
                      "depends_on": [
                        "aws_iam_role_policy_attachment.this",
                        "aws_iam_role_policy_attachment.additional"
                      ],
                      "expressions": {
                        "name": {
                          "references": [
                            "var.launch_template_use_name_prefix",
                            "local.launch_template_name"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags",
                            "var.launch_template_tags"
                          ]
                        },
                        "image_id": {
                          "references": [
                            "var.ami_id"
                          ]
                        },
                        "key_name": {
                          "references": [
                            "var.key_name"
                          ]
                        },
                        "kernel_id": {
                          "references": [
                            "var.kernel_id"
                          ]
                        },
                        "user_data": {
                          "references": [
                            "module.user_data.user_data",
                            "module.user_data"
                          ]
                        },
                        "description": {
                          "references": [
                            "var.launch_template_description"
                          ]
                        },
                        "name_prefix": {
                          "references": [
                            "var.launch_template_use_name_prefix",
                            "local.launch_template_name"
                          ]
                        },
                        "ram_disk_id": {
                          "references": [
                            "var.ram_disk_id"
                          ]
                        },
                        "ebs_optimized": {
                          "references": [
                            "var.ebs_optimized"
                          ]
                        },
                        "instance_type": {
                          "references": [
                            "var.capacity_type",
                            "var.instance_types"
                          ]
                        },
                        "default_version": {
                          "references": [
                            "var.launch_template_default_version"
                          ]
                        },
                        "update_default_version": {
                          "references": [
                            "var.update_launch_template_default_version"
                          ]
                        },
                        "vpc_security_group_ids": {
                          "references": [
                            "local.network_interfaces",
                            "local.security_group_ids"
                          ]
                        },
                        "disable_api_termination": {
                          "references": [
                            "var.disable_api_termination"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create",
                          "var.create_launch_template",
                          "var.use_custom_launch_template"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "this",
                      "type": "aws_placement_group",
                      "address": "aws_placement_group.this",
                      "expressions": {
                        "name": {
                          "references": [
                            "var.cluster_name",
                            "var.name"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "strategy": {
                          "references": [
                            "var.placement_group_strategy"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "local.create_placement_group"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "current",
                      "type": "aws_caller_identity",
                      "address": "data.aws_caller_identity.current",
                      "schema_version": 0,
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "this",
                      "type": "aws_ec2_instance_type",
                      "address": "data.aws_ec2_instance_type.this",
                      "expressions": {
                        "instance_type": {
                          "references": [
                            "local.efa_instance_type"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create",
                          "var.enable_efa_support"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "this",
                      "type": "aws_ec2_instance_type_offerings",
                      "address": "data.aws_ec2_instance_type_offerings.this",
                      "expressions": {
                        "filter": [
                          {
                            "name": {
                              "constant_value": "instance-type"
                            },
                            "values": {
                              "references": [
                                "local.efa_instance_type"
                              ]
                            }
                          }
                        ],
                        "location_type": {
                          "constant_value": "availability-zone-id"
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "local.enable_efa_support"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "assume_role_policy",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.assume_role_policy",
                      "expressions": {
                        "statement": [
                          {
                            "sid": {
                              "constant_value": "EKSNodeAssumeRole"
                            },
                            "actions": {
                              "constant_value": [
                                "sts:AssumeRole"
                              ]
                            },
                            "principals": [
                              {
                                "type": {
                                  "constant_value": "Service"
                                },
                                "identifiers": {
                                  "constant_value": [
                                    "ec2.amazonaws.com"
                                  ]
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "local.create_iam_role"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "role",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.role",
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "local.create_iam_role_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "current",
                      "type": "aws_partition",
                      "address": "data.aws_partition.current",
                      "schema_version": 0,
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "ami",
                      "type": "aws_ssm_parameter",
                      "address": "data.aws_ssm_parameter.ami",
                      "expressions": {
                        "name": {
                          "references": [
                            "local.ssm_ami_type_to_ssm_param",
                            "var.ami_type"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create",
                          "var.use_latest_ami_release_version"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "placement_group",
                      "type": "aws_subnets",
                      "address": "data.aws_subnets.placement_group",
                      "expressions": {
                        "filter": [
                          {
                            "name": {
                              "constant_value": "subnet-id"
                            },
                            "values": {
                              "references": [
                                "var.subnet_ids"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "local.create_placement_group"
                        ]
                      },
                      "provider_config_key": "aws"
                    }
                  ],
                  "variables": {
                    "name": {
                      "default": "",
                      "description": "Name of the EKS managed node group"
                    },
                    "tags": {
                      "default": {},
                      "description": "A map of tags to add to all resources"
                    },
                    "ami_id": {
                      "default": "",
                      "description": "The AMI from which to launch the instance. If not supplied, EKS will use its own default image"
                    },
                    "create": {
                      "default": true,
                      "description": "Determines whether to create EKS managed node group or not"
                    },
                    "labels": {
                      "description": "Key-value map of Kubernetes labels. Only labels that are applied with the EKS API are managed by this argument. Other Kubernetes labels applied to the EKS Node Group will not be managed"
                    },
                    "taints": {
                      "default": {},
                      "description": "The Kubernetes taints to be applied to the nodes in the node group. Maximum of 50 taints per node group"
                    },
                    "ami_type": {
                      "description": "Type of Amazon Machine Image (AMI) associated with the EKS Node Group. See the [AWS documentation](https://docs.aws.amazon.com/eks/latest/APIReference/API_Nodegroup.html#AmazonEKS-Type-Nodegroup-amiType) for valid values"
                    },
                    "key_name": {
                      "description": "The key name that should be used for the instance(s)"
                    },
                    "max_size": {
                      "default": 3,
                      "description": "Maximum number of instances/nodes"
                    },
                    "min_size": {
                      "default": 0,
                      "description": "Minimum number of instances/nodes"
                    },
                    "platform": {
                      "default": "linux",
                      "description": "[DEPRECATED - use `ami_type` instead. Will be removed in `v21.0`] Identifies the OS platform as `bottlerocket`, `linux` (AL2), `al2023`, or `windows`"
                    },
                    "timeouts": {
                      "default": {},
                      "description": "Create, update, and delete timeout configurations for the node group"
                    },
                    "disk_size": {
                      "description": "Disk size in GiB for nodes. Defaults to `20`. Only valid when `use_custom_launch_template` = `false`"
                    },
                    "kernel_id": {
                      "description": "The kernel ID"
                    },
                    "placement": {
                      "default": {},
                      "description": "The placement of the instance"
                    },
                    "schedules": {
                      "default": {},
                      "description": "Map of autoscaling group schedule to create"
                    },
                    "subnet_ids": {
                      "description": "Identifiers of EC2 Subnets to associate with the EKS Node Group. These subnets must have the following resource tag: `kubernetes.io/cluster/CLUSTER_NAME`"
                    },
                    "cpu_options": {
                      "default": {},
                      "description": "The CPU options for the instance"
                    },
                    "efa_indices": {
                      "default": [
                        0
                      ],
                      "description": "The indices of the network interfaces that should be EFA-enabled. Only valid when `enable_efa_support` = `true`"
                    },
                    "ram_disk_id": {
                      "description": "The ID of the ram disk"
                    },
                    "cluster_name": {
                      "description": "Name of associated EKS cluster"
                    },
                    "desired_size": {
                      "default": 1,
                      "description": "Desired number of instances/nodes"
                    },
                    "iam_role_arn": {
                      "description": "Existing IAM role ARN for the node group. Required if `create_iam_role` is set to `false`"
                    },
                    "capacity_type": {
                      "default": "ON_DEMAND",
                      "description": "Type of capacity associated with the EKS Node Group. Valid values: `ON_DEMAND`, `SPOT`"
                    },
                    "ebs_optimized": {
                      "description": "If true, the launched EC2 instance(s) will be EBS-optimized"
                    },
                    "iam_role_name": {
                      "description": "Name to use on IAM role created"
                    },
                    "iam_role_path": {
                      "description": "IAM role path"
                    },
                    "iam_role_tags": {
                      "default": {},
                      "description": "A map of additional tags to add to the IAM role created"
                    },
                    "remote_access": {
                      "default": {},
                      "description": "Configuration block with remote access settings. Only valid when `use_custom_launch_template` = `false`"
                    },
                    "update_config": {
                      "default": {
                        "max_unavailable_percentage": "33"
                      },
                      "description": "Configuration block of settings for max unavailable resources during node group updates"
                    },
                    "instance_types": {
                      "description": "Set of instance types associated with the EKS Node Group. Defaults to `[\"t3.medium\"]`"
                    },
                    "cluster_version": {
                      "description": "Kubernetes version. Defaults to EKS Cluster Kubernetes version"
                    },
                    "create_iam_role": {
                      "default": true,
                      "description": "Determines whether an IAM role is created or to use an existing IAM role"
                    },
                    "create_schedule": {
                      "default": true,
                      "description": "Determines whether to create autoscaling group schedule or not"
                    },
                    "enable_efa_only": {
                      "default": false,
                      "description": "Determines whether to enable EFA (`false`, default) or EFA and EFA-only (`true`) network interfaces. Note: requires vpc-cni version `v1.18.4` or later"
                    },
                    "enclave_options": {
                      "default": {},
                      "description": "Enable Nitro Enclaves on launched instances"
                    },
                    "use_name_prefix": {
                      "default": true,
                      "description": "Determines whether to use `name` as is or create a unique name beginning with the `name` as the prefix"
                    },
                    "cluster_endpoint": {
                      "default": "",
                      "description": "Endpoint of associated EKS cluster"
                    },
                    "metadata_options": {
                      "default": {
                        "http_tokens": "required",
                        "http_endpoint": "enabled",
                        "http_put_response_hop_limit": "2"
                      },
                      "description": "Customize the metadata options for the instance"
                    },
                    "cluster_ip_family": {
                      "default": "ipv4",
                      "description": "The IP family used to assign Kubernetes pod and service addresses. Valid values are `ipv4` (default) and `ipv6`"
                    },
                    "enable_monitoring": {
                      "default": true,
                      "description": "Enables/disables detailed monitoring"
                    },
                    "enable_efa_support": {
                      "default": false,
                      "description": "Determines whether to enable Elastic Fabric Adapter (EFA) support"
                    },
                    "launch_template_id": {
                      "default": "",
                      "description": "The ID of an existing launch template to use. Required when `create_launch_template` = `false` and `use_custom_launch_template` = `true`"
                    },
                    "network_interfaces": {
                      "default": [],
                      "description": "Customize network interfaces to be attached at instance boot time"
                    },
                    "node_repair_config": {
                      "description": "The node auto repair configuration for the node group"
                    },
                    "placement_group_az": {
                      "description": "Availability zone where placement group is created (ex. `eu-west-1c`)"
                    },
                    "tag_specifications": {
                      "default": [
                        "instance",
                        "volume",
                        "network-interface"
                      ],
                      "description": "The tags to apply to the resources during launch"
                    },
                    "ami_release_version": {
                      "description": "The AMI version. Defaults to latest AMI release version for the given Kubernetes version and AMI type"
                    },
                    "cluster_auth_base64": {
                      "default": "",
                      "description": "Base64 encoded CA of associated EKS cluster"
                    },
                    "maintenance_options": {
                      "default": {},
                      "description": "The maintenance options for the instance"
                    },
                    "bootstrap_extra_args": {
                      "default": "",
                      "description": "Additional arguments passed to the bootstrap script. When `ami_type` = `BOTTLEROCKET_*`; these are additional [settings](https://github.com/bottlerocket-os/bottlerocket#settings) that are provided to the Bottlerocket user data"
                    },
                    "cluster_service_cidr": {
                      "default": "",
                      "description": "The CIDR block (IPv4 or IPv6) used by the cluster to assign Kubernetes service IP addresses. This is derived from the cluster itself"
                    },
                    "credit_specification": {
                      "default": {},
                      "description": "Customize the credit specification of the instance"
                    },
                    "force_update_version": {
                      "description": "Force version update if existing pods are unable to be drained due to a pod disruption budget issue"
                    },
                    "iam_role_description": {
                      "description": "Description of the role"
                    },
                    "launch_template_name": {
                      "description": "Name of launch template to be created"
                    },
                    "launch_template_tags": {
                      "default": {},
                      "description": "A map of additional tags to add to the tag_specifications of launch template created"
                    },
                    "block_device_mappings": {
                      "default": {},
                      "description": "Specify volumes to attach to the instance besides the volumes specified by the AMI"
                    },
                    "cloudinit_pre_nodeadm": {
                      "default": [],
                      "description": "Array of cloud-init document parts that are created before the nodeadm document part"
                    },
                    "cloudinit_post_nodeadm": {
                      "default": [],
                      "description": "Array of cloud-init document parts that are created after the nodeadm document part"
                    },
                    "create_iam_role_policy": {
                      "default": true,
                      "description": "Determines whether an IAM role policy is created or not"
                    },
                    "create_launch_template": {
                      "default": true,
                      "description": "Determines whether to create a launch template or not. If set to `false`, EKS will use its own default launch template"
                    },
                    "create_placement_group": {
                      "default": false,
                      "description": "Determines whether a placement group is created & used by the node group"
                    },
                    "license_specifications": {
                      "default": {},
                      "description": "A map of license specifications to associate with"
                    },
                    "vpc_security_group_ids": {
                      "default": [],
                      "description": "A list of security group IDs to associate"
                    },
                    "disable_api_termination": {
                      "description": "If true, enables EC2 instance termination protection"
                    },
                    "instance_market_options": {
                      "default": {},
                      "description": "The market (purchasing) option for the instance"
                    },
                    "launch_template_version": {
                      "description": "Launch template version number. The default is `$Default`"
                    },
                    "pre_bootstrap_user_data": {
                      "default": "",
                      "description": "User data that is injected into the user data script ahead of the EKS bootstrap script. Not used when `ami_type` = `BOTTLEROCKET_*`"
                    },
                    "user_data_template_path": {
                      "default": "",
                      "description": "Path to a local, custom user data template file to use when rendering user data"
                    },
                    "iam_role_use_name_prefix": {
                      "default": true,
                      "description": "Determines whether the IAM role name (`iam_role_name`) is used as a prefix"
                    },
                    "placement_group_strategy": {
                      "default": "cluster",
                      "description": "The placement group strategy"
                    },
                    "post_bootstrap_user_data": {
                      "default": "",
                      "description": "User data that is appended to the user data script after of the EKS bootstrap script. Not used when `ami_type` = `BOTTLEROCKET_*`"
                    },
                    "private_dns_name_options": {
                      "default": {},
                      "description": "The options for the instance hostname. The default values are inherited from the subnet"
                    },
                    "cluster_service_ipv4_cidr": {
                      "description": "[Deprecated] The CIDR block to assign Kubernetes service IP addresses from. If you don't specify a block, Kubernetes assigns addresses from either the 10.100.0.0/16 or 172.20.0.0/16 CIDR blocks"
                    },
                    "elastic_gpu_specifications": {
                      "default": {},
                      "description": "The elastic GPU to attach to the instance"
                    },
                    "enable_bootstrap_user_data": {
                      "default": false,
                      "description": "Determines whether the bootstrap configurations are populated within the user data template. Only valid when using a custom AMI via `ami_id`"
                    },
                    "iam_role_attach_cni_policy": {
                      "default": true,
                      "description": "Whether to attach the `AmazonEKS_CNI_Policy`/`AmazonEKS_CNI_IPv6_Policy` IAM policy to the IAM IAM role. WARNING: If set `false` the permissions must be assigned to the `aws-node` DaemonSet pods via another method or nodes will not be able to join the cluster"
                    },
                    "iam_role_policy_statements": {
                      "default": [],
                      "description": "A list of IAM policy [statements](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/iam_policy_document#statement) - used for adding specific IAM permissions as needed"
                    },
                    "use_custom_launch_template": {
                      "default": true,
                      "description": "Determines whether to use a custom launch template or not. If set to `false`, EKS will use its own default launch template"
                    },
                    "launch_template_description": {
                      "description": "Description of the launch template"
                    },
                    "iam_role_additional_policies": {
                      "default": {},
                      "description": "Additional policies to be added to the IAM role"
                    },
                    "elastic_inference_accelerator": {
                      "default": {},
                      "description": "Configuration block containing an Elastic Inference Accelerator to attach to the instance"
                    },
                    "iam_role_permissions_boundary": {
                      "description": "ARN of the policy that is used to set the permissions boundary for the IAM role"
                    },
                    "use_latest_ami_release_version": {
                      "default": false,
                      "description": "Determines whether to use the latest AMI release version for the given `ami_type` (except for `CUSTOM`). Note: `ami_type` and `cluster_version` must be supplied in order to enable this feature"
                    },
                    "launch_template_default_version": {
                      "description": "Default version of the launch template"
                    },
                    "launch_template_use_name_prefix": {
                      "default": true,
                      "description": "Determines whether to use `launch_template_name` as is or create a unique name beginning with the `launch_template_name` as the prefix"
                    },
                    "cluster_primary_security_group_id": {
                      "description": "The ID of the EKS cluster primary security group to associate with the instance(s). This is the security group that is automatically created by the EKS service"
                    },
                    "capacity_reservation_specification": {
                      "default": {},
                      "description": "Targeting for EC2 capacity reservations"
                    },
                    "update_launch_template_default_version": {
                      "default": true,
                      "description": "Whether to update the launch templates default version on each update. Conflicts with `launch_template_default_version`"
                    }
                  },
                  "module_calls": {
                    "user_data": {
                      "module": {
                        "outputs": {
                          "platform": {
                            "expression": {
                              "references": [
                                "local.user_data_type"
                              ]
                            },
                            "description": "[DEPRECATED - Will be removed in `v21.0`] Identifies the OS platform as `bottlerocket`, `linux` (AL2), `al2023, or `windows`"
                          },
                          "user_data": {
                            "expression": {
                              "references": [
                                "local.user_data_type_to_rendered",
                                "local.user_data_type"
                              ]
                            },
                            "description": "Base64 encoded user data rendered for the provided inputs"
                          }
                        },
                        "resources": [
                          {
                            "mode": "managed",
                            "name": "validate_cluster_service_cidr",
                            "type": "null_resource",
                            "address": "null_resource.validate_cluster_service_cidr",
                            "schema_version": 0,
                            "provider_config_key": "module.eks.module.eks_managed_node_group.module.user_data:null"
                          },
                          {
                            "mode": "data",
                            "name": "al2023_eks_managed_node_group",
                            "type": "cloudinit_config",
                            "address": "data.cloudinit_config.al2023_eks_managed_node_group",
                            "expressions": {
                              "gzip": {
                                "constant_value": false
                              },
                              "boundary": {
                                "constant_value": "MIMEBOUNDARY"
                              },
                              "base64_encode": {
                                "constant_value": true
                              }
                            },
                            "schema_version": 0,
                            "count_expression": {
                              "references": [
                                "var.create",
                                "local.user_data_type",
                                "local.nodeadm_cloudinit"
                              ]
                            },
                            "provider_config_key": "module.eks.module.eks_managed_node_group.module.user_data:cloudinit"
                          },
                          {
                            "mode": "data",
                            "name": "linux_eks_managed_node_group",
                            "type": "cloudinit_config",
                            "address": "data.cloudinit_config.linux_eks_managed_node_group",
                            "expressions": {
                              "gzip": {
                                "constant_value": false
                              },
                              "part": [
                                {
                                  "content": {
                                    "references": [
                                      "var.pre_bootstrap_user_data"
                                    ]
                                  },
                                  "content_type": {
                                    "constant_value": "text/x-shellscript"
                                  }
                                }
                              ],
                              "boundary": {
                                "constant_value": "//"
                              },
                              "base64_encode": {
                                "constant_value": true
                              }
                            },
                            "schema_version": 0,
                            "count_expression": {
                              "references": [
                                "var.create",
                                "local.user_data_type",
                                "var.is_eks_managed_node_group",
                                "var.enable_bootstrap_user_data",
                                "var.pre_bootstrap_user_data",
                                "var.user_data_template_path"
                              ]
                            },
                            "provider_config_key": "module.eks.module.eks_managed_node_group.module.user_data:cloudinit"
                          }
                        ],
                        "variables": {
                          "create": {
                            "default": true,
                            "description": "Determines whether to create user-data or not"
                          },
                          "ami_type": {
                            "description": "Type of Amazon Machine Image (AMI) associated with the EKS Node Group. See the [AWS documentation](https://docs.aws.amazon.com/eks/latest/APIReference/API_Nodegroup.html#AmazonEKS-Type-Nodegroup-amiType) for valid values"
                          },
                          "platform": {
                            "default": "linux",
                            "description": "[DEPRECATED - use `ami_type` instead. Will be removed in `v21.0`] Identifies the OS platform as `bottlerocket`, `linux` (AL2), `al2023`, or `windows`"
                          },
                          "cluster_name": {
                            "default": "",
                            "description": "Name of the EKS cluster"
                          },
                          "cluster_endpoint": {
                            "default": "",
                            "description": "Endpoint of associated EKS cluster"
                          },
                          "cluster_ip_family": {
                            "default": "ipv4",
                            "description": "The IP family used to assign Kubernetes pod and service addresses. Valid values are `ipv4` (default) and `ipv6`"
                          },
                          "cluster_auth_base64": {
                            "default": "",
                            "description": "Base64 encoded CA of associated EKS cluster"
                          },
                          "bootstrap_extra_args": {
                            "default": "",
                            "description": "Additional arguments passed to the bootstrap script. When `ami_type` = `BOTTLEROCKET_*`; these are additional [settings](https://github.com/bottlerocket-os/bottlerocket#settings) that are provided to the Bottlerocket user data"
                          },
                          "cluster_service_cidr": {
                            "default": "",
                            "description": "The CIDR block (IPv4 or IPv6) used by the cluster to assign Kubernetes service IP addresses. This is derived from the cluster itself"
                          },
                          "cloudinit_pre_nodeadm": {
                            "default": [],
                            "description": "Array of cloud-init document parts that are created before the nodeadm document part"
                          },
                          "cloudinit_post_nodeadm": {
                            "default": [],
                            "description": "Array of cloud-init document parts that are created after the nodeadm document part"
                          },
                          "pre_bootstrap_user_data": {
                            "default": "",
                            "description": "User data that is injected into the user data script ahead of the EKS bootstrap script. Not used when `ami_type` = `BOTTLEROCKET_*`"
                          },
                          "user_data_template_path": {
                            "default": "",
                            "description": "Path to a local, custom user data template file to use when rendering user data"
                          },
                          "post_bootstrap_user_data": {
                            "default": "",
                            "description": "User data that is appended to the user data script after of the EKS bootstrap script. Not used when `ami_type` = `BOTTLEROCKET_*`"
                          },
                          "cluster_service_ipv4_cidr": {
                            "description": "[Deprecated] The CIDR block to assign Kubernetes service IP addresses from. If you don't specify a block, Kubernetes assigns addresses from either the 10.100.0.0/16 or 172.20.0.0/16 CIDR blocks"
                          },
                          "is_eks_managed_node_group": {
                            "default": true,
                            "description": "Determines whether the user data is used on nodes in an EKS managed node group. Used to determine if user data will be appended or not"
                          },
                          "additional_cluster_dns_ips": {
                            "default": [],
                            "description": "Additional DNS IP addresses to use for the cluster. Only used when `ami_type` = `BOTTLEROCKET_*`"
                          },
                          "enable_bootstrap_user_data": {
                            "default": false,
                            "description": "Determines whether the bootstrap configurations are populated within the user data template"
                          }
                        }
                      },
                      "source": "../_user_data",
                      "expressions": {
                        "create": {
                          "references": [
                            "var.create"
                          ]
                        },
                        "ami_type": {
                          "references": [
                            "var.ami_type"
                          ]
                        },
                        "platform": {
                          "references": [
                            "var.platform"
                          ]
                        },
                        "cluster_name": {
                          "references": [
                            "var.cluster_name"
                          ]
                        },
                        "cluster_endpoint": {
                          "references": [
                            "var.cluster_endpoint"
                          ]
                        },
                        "cluster_ip_family": {
                          "references": [
                            "var.cluster_ip_family"
                          ]
                        },
                        "cluster_auth_base64": {
                          "references": [
                            "var.cluster_auth_base64"
                          ]
                        },
                        "bootstrap_extra_args": {
                          "references": [
                            "var.bootstrap_extra_args"
                          ]
                        },
                        "cluster_service_cidr": {
                          "references": [
                            "var.cluster_service_cidr",
                            "var.cluster_service_ipv4_cidr"
                          ]
                        },
                        "cloudinit_pre_nodeadm": {
                          "references": [
                            "var.cloudinit_pre_nodeadm"
                          ]
                        },
                        "cloudinit_post_nodeadm": {
                          "references": [
                            "var.cloudinit_post_nodeadm"
                          ]
                        },
                        "pre_bootstrap_user_data": {
                          "references": [
                            "var.pre_bootstrap_user_data"
                          ]
                        },
                        "user_data_template_path": {
                          "references": [
                            "var.user_data_template_path"
                          ]
                        },
                        "post_bootstrap_user_data": {
                          "references": [
                            "var.post_bootstrap_user_data"
                          ]
                        },
                        "enable_bootstrap_user_data": {
                          "references": [
                            "var.enable_bootstrap_user_data"
                          ]
                        }
                      }
                    }
                  }
                },
                "source": "./modules/eks-managed-node-group",
                "expressions": {
                  "name": {
                    "references": [
                      "each.value.name",
                      "each.value",
                      "each.key"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "each.value.tags",
                      "each.value",
                      "var.eks_managed_node_group_defaults.tags",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "ami_id": {
                    "references": [
                      "each.value.ami_id",
                      "each.value",
                      "var.eks_managed_node_group_defaults.ami_id",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "create": {
                    "references": [
                      "each.value.create",
                      "each.value"
                    ]
                  },
                  "labels": {
                    "references": [
                      "each.value.labels",
                      "each.value",
                      "var.eks_managed_node_group_defaults.labels",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "taints": {
                    "references": [
                      "each.value.taints",
                      "each.value",
                      "var.eks_managed_node_group_defaults.taints",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "ami_type": {
                    "references": [
                      "each.value.ami_type",
                      "each.value",
                      "var.eks_managed_node_group_defaults.ami_type",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "key_name": {
                    "references": [
                      "each.value.key_name",
                      "each.value",
                      "var.eks_managed_node_group_defaults.key_name",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "max_size": {
                    "references": [
                      "each.value.max_size",
                      "each.value",
                      "var.eks_managed_node_group_defaults.max_size",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "min_size": {
                    "references": [
                      "each.value.min_size",
                      "each.value",
                      "var.eks_managed_node_group_defaults.min_size",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "platform": {
                    "references": [
                      "each.value.platform",
                      "each.value",
                      "var.eks_managed_node_group_defaults.platform",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "timeouts": {
                    "references": [
                      "each.value.timeouts",
                      "each.value",
                      "var.eks_managed_node_group_defaults.timeouts",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "disk_size": {
                    "references": [
                      "each.value.disk_size",
                      "each.value",
                      "var.eks_managed_node_group_defaults.disk_size",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "kernel_id": {
                    "references": [
                      "each.value.kernel_id",
                      "each.value",
                      "var.eks_managed_node_group_defaults.kernel_id",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "placement": {
                    "references": [
                      "each.value.placement",
                      "each.value",
                      "var.eks_managed_node_group_defaults.placement",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "schedules": {
                    "references": [
                      "each.value.schedules",
                      "each.value",
                      "var.eks_managed_node_group_defaults.schedules",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "subnet_ids": {
                    "references": [
                      "each.value.subnet_ids",
                      "each.value",
                      "var.eks_managed_node_group_defaults.subnet_ids",
                      "var.eks_managed_node_group_defaults",
                      "var.subnet_ids"
                    ]
                  },
                  "cpu_options": {
                    "references": [
                      "each.value.cpu_options",
                      "each.value",
                      "var.eks_managed_node_group_defaults.cpu_options",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "efa_indices": {
                    "references": [
                      "each.value.efa_indices",
                      "each.value",
                      "var.eks_managed_node_group_defaults.efa_indices",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "ram_disk_id": {
                    "references": [
                      "each.value.ram_disk_id",
                      "each.value",
                      "var.eks_managed_node_group_defaults.ram_disk_id",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "cluster_name": {
                    "references": [
                      "time_sleep.this[0].triggers[\"cluster_name\"]",
                      "time_sleep.this[0].triggers",
                      "time_sleep.this[0]",
                      "time_sleep.this"
                    ]
                  },
                  "desired_size": {
                    "references": [
                      "each.value.desired_size",
                      "each.value",
                      "var.eks_managed_node_group_defaults.desired_size",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "iam_role_arn": {
                    "references": [
                      "each.value.iam_role_arn",
                      "each.value",
                      "var.eks_managed_node_group_defaults.iam_role_arn",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "capacity_type": {
                    "references": [
                      "each.value.capacity_type",
                      "each.value",
                      "var.eks_managed_node_group_defaults.capacity_type",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "ebs_optimized": {
                    "references": [
                      "each.value.ebs_optimized",
                      "each.value",
                      "var.eks_managed_node_group_defaults.ebs_optimized",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "iam_role_name": {
                    "references": [
                      "each.value.iam_role_name",
                      "each.value",
                      "var.eks_managed_node_group_defaults.iam_role_name",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "iam_role_path": {
                    "references": [
                      "each.value.iam_role_path",
                      "each.value",
                      "var.eks_managed_node_group_defaults.iam_role_path",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "iam_role_tags": {
                    "references": [
                      "each.value.iam_role_tags",
                      "each.value",
                      "var.eks_managed_node_group_defaults.iam_role_tags",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "remote_access": {
                    "references": [
                      "each.value.remote_access",
                      "each.value",
                      "var.eks_managed_node_group_defaults.remote_access",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "update_config": {
                    "references": [
                      "each.value.update_config",
                      "each.value",
                      "var.eks_managed_node_group_defaults.update_config",
                      "var.eks_managed_node_group_defaults",
                      "local.default_update_config"
                    ]
                  },
                  "instance_types": {
                    "references": [
                      "each.value.instance_types",
                      "each.value",
                      "var.eks_managed_node_group_defaults.instance_types",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "cluster_version": {
                    "references": [
                      "each.value.cluster_version",
                      "each.value",
                      "var.eks_managed_node_group_defaults.cluster_version",
                      "var.eks_managed_node_group_defaults",
                      "time_sleep.this[0].triggers[\"cluster_version\"]",
                      "time_sleep.this[0].triggers",
                      "time_sleep.this[0]",
                      "time_sleep.this"
                    ]
                  },
                  "create_iam_role": {
                    "references": [
                      "each.value.create_iam_role",
                      "each.value",
                      "var.eks_managed_node_group_defaults.create_iam_role",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "create_schedule": {
                    "references": [
                      "each.value.create_schedule",
                      "each.value",
                      "var.eks_managed_node_group_defaults.create_schedule",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "enable_efa_only": {
                    "references": [
                      "each.value.enable_efa_only",
                      "each.value",
                      "var.eks_managed_node_group_defaults.enable_efa_only",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "enclave_options": {
                    "references": [
                      "each.value.enclave_options",
                      "each.value",
                      "var.eks_managed_node_group_defaults.enclave_options",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "use_name_prefix": {
                    "references": [
                      "each.value.use_name_prefix",
                      "each.value",
                      "var.eks_managed_node_group_defaults.use_name_prefix",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "cluster_endpoint": {
                    "references": [
                      "time_sleep.this[0].triggers[\"cluster_endpoint\"]",
                      "time_sleep.this[0].triggers",
                      "time_sleep.this[0]",
                      "time_sleep.this"
                    ]
                  },
                  "metadata_options": {
                    "references": [
                      "each.value.metadata_options",
                      "each.value",
                      "var.eks_managed_node_group_defaults.metadata_options",
                      "var.eks_managed_node_group_defaults",
                      "local.metadata_options"
                    ]
                  },
                  "cluster_ip_family": {
                    "references": [
                      "var.cluster_ip_family"
                    ]
                  },
                  "enable_monitoring": {
                    "references": [
                      "each.value.enable_monitoring",
                      "each.value",
                      "var.eks_managed_node_group_defaults.enable_monitoring",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "enable_efa_support": {
                    "references": [
                      "each.value.enable_efa_support",
                      "each.value",
                      "var.eks_managed_node_group_defaults.enable_efa_support",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "launch_template_id": {
                    "references": [
                      "each.value.launch_template_id",
                      "each.value",
                      "var.eks_managed_node_group_defaults.launch_template_id",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "network_interfaces": {
                    "references": [
                      "each.value.network_interfaces",
                      "each.value",
                      "var.eks_managed_node_group_defaults.network_interfaces",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "node_repair_config": {
                    "references": [
                      "each.value.node_repair_config",
                      "each.value",
                      "var.eks_managed_node_group_defaults.node_repair_config",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "placement_group_az": {
                    "references": [
                      "each.value.placement_group_az",
                      "each.value",
                      "var.eks_managed_node_group_defaults.placement_group_az",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "tag_specifications": {
                    "references": [
                      "each.value.tag_specifications",
                      "each.value",
                      "var.eks_managed_node_group_defaults.tag_specifications",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "ami_release_version": {
                    "references": [
                      "each.value.ami_release_version",
                      "each.value",
                      "var.eks_managed_node_group_defaults.ami_release_version",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "cluster_auth_base64": {
                    "references": [
                      "time_sleep.this[0].triggers[\"cluster_certificate_authority_data\"]",
                      "time_sleep.this[0].triggers",
                      "time_sleep.this[0]",
                      "time_sleep.this"
                    ]
                  },
                  "maintenance_options": {
                    "references": [
                      "each.value.maintenance_options",
                      "each.value",
                      "var.eks_managed_node_group_defaults.maintenance_options",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "bootstrap_extra_args": {
                    "references": [
                      "each.value.bootstrap_extra_args",
                      "each.value",
                      "var.eks_managed_node_group_defaults.bootstrap_extra_args",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "cluster_service_cidr": {
                    "references": [
                      "time_sleep.this[0].triggers[\"cluster_service_cidr\"]",
                      "time_sleep.this[0].triggers",
                      "time_sleep.this[0]",
                      "time_sleep.this"
                    ]
                  },
                  "credit_specification": {
                    "references": [
                      "each.value.credit_specification",
                      "each.value",
                      "var.eks_managed_node_group_defaults.credit_specification",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "force_update_version": {
                    "references": [
                      "each.value.force_update_version",
                      "each.value",
                      "var.eks_managed_node_group_defaults.force_update_version",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "iam_role_description": {
                    "references": [
                      "each.value.iam_role_description",
                      "each.value",
                      "var.eks_managed_node_group_defaults.iam_role_description",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "launch_template_name": {
                    "references": [
                      "each.value.launch_template_name",
                      "each.value",
                      "var.eks_managed_node_group_defaults.launch_template_name",
                      "var.eks_managed_node_group_defaults",
                      "each.key"
                    ]
                  },
                  "launch_template_tags": {
                    "references": [
                      "each.value.launch_template_tags",
                      "each.value",
                      "var.eks_managed_node_group_defaults.launch_template_tags",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "block_device_mappings": {
                    "references": [
                      "each.value.block_device_mappings",
                      "each.value",
                      "var.eks_managed_node_group_defaults.block_device_mappings",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "cloudinit_pre_nodeadm": {
                    "references": [
                      "each.value.cloudinit_pre_nodeadm",
                      "each.value",
                      "var.eks_managed_node_group_defaults.cloudinit_pre_nodeadm",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "cloudinit_post_nodeadm": {
                    "references": [
                      "each.value.cloudinit_post_nodeadm",
                      "each.value",
                      "var.eks_managed_node_group_defaults.cloudinit_post_nodeadm",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "create_iam_role_policy": {
                    "references": [
                      "each.value.create_iam_role_policy",
                      "each.value",
                      "var.eks_managed_node_group_defaults.create_iam_role_policy",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "create_launch_template": {
                    "references": [
                      "each.value.create_launch_template",
                      "each.value",
                      "var.eks_managed_node_group_defaults.create_launch_template",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "create_placement_group": {
                    "references": [
                      "each.value.create_placement_group",
                      "each.value",
                      "var.eks_managed_node_group_defaults.create_placement_group",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "license_specifications": {
                    "references": [
                      "each.value.license_specifications",
                      "each.value",
                      "var.eks_managed_node_group_defaults.license_specifications",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "vpc_security_group_ids": {
                    "references": [
                      "local.node_security_group_id",
                      "each.value.vpc_security_group_ids",
                      "each.value",
                      "var.eks_managed_node_group_defaults.vpc_security_group_ids",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "disable_api_termination": {
                    "references": [
                      "each.value.disable_api_termination",
                      "each.value",
                      "var.eks_managed_node_group_defaults.disable_api_termination",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "instance_market_options": {
                    "references": [
                      "each.value.instance_market_options",
                      "each.value",
                      "var.eks_managed_node_group_defaults.instance_market_options",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "launch_template_version": {
                    "references": [
                      "each.value.launch_template_version",
                      "each.value",
                      "var.eks_managed_node_group_defaults.launch_template_version",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "pre_bootstrap_user_data": {
                    "references": [
                      "each.value.pre_bootstrap_user_data",
                      "each.value",
                      "var.eks_managed_node_group_defaults.pre_bootstrap_user_data",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "user_data_template_path": {
                    "references": [
                      "each.value.user_data_template_path",
                      "each.value",
                      "var.eks_managed_node_group_defaults.user_data_template_path",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "iam_role_use_name_prefix": {
                    "references": [
                      "each.value.iam_role_use_name_prefix",
                      "each.value",
                      "var.eks_managed_node_group_defaults.iam_role_use_name_prefix",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "placement_group_strategy": {
                    "references": [
                      "each.value.placement_group_strategy",
                      "each.value",
                      "var.eks_managed_node_group_defaults.placement_group_strategy",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "post_bootstrap_user_data": {
                    "references": [
                      "each.value.post_bootstrap_user_data",
                      "each.value",
                      "var.eks_managed_node_group_defaults.post_bootstrap_user_data",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "private_dns_name_options": {
                    "references": [
                      "each.value.private_dns_name_options",
                      "each.value",
                      "var.eks_managed_node_group_defaults.private_dns_name_options",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "cluster_service_ipv4_cidr": {
                    "references": [
                      "var.cluster_service_ipv4_cidr"
                    ]
                  },
                  "elastic_gpu_specifications": {
                    "references": [
                      "each.value.elastic_gpu_specifications",
                      "each.value",
                      "var.eks_managed_node_group_defaults.elastic_gpu_specifications",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "enable_bootstrap_user_data": {
                    "references": [
                      "each.value.enable_bootstrap_user_data",
                      "each.value",
                      "var.eks_managed_node_group_defaults.enable_bootstrap_user_data",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "iam_role_attach_cni_policy": {
                    "references": [
                      "each.value.iam_role_attach_cni_policy",
                      "each.value",
                      "var.eks_managed_node_group_defaults.iam_role_attach_cni_policy",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "iam_role_policy_statements": {
                    "references": [
                      "each.value.iam_role_policy_statements",
                      "each.value",
                      "var.eks_managed_node_group_defaults.iam_role_policy_statements",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "use_custom_launch_template": {
                    "references": [
                      "each.value.use_custom_launch_template",
                      "each.value",
                      "var.eks_managed_node_group_defaults.use_custom_launch_template",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "launch_template_description": {
                    "references": [
                      "each.value.launch_template_description",
                      "each.value",
                      "var.eks_managed_node_group_defaults.launch_template_description",
                      "var.eks_managed_node_group_defaults",
                      "each.value.name",
                      "each.value",
                      "each.key"
                    ]
                  },
                  "iam_role_additional_policies": {
                    "references": [
                      "each.value",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "elastic_inference_accelerator": {
                    "references": [
                      "each.value.elastic_inference_accelerator",
                      "each.value",
                      "var.eks_managed_node_group_defaults.elastic_inference_accelerator",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "iam_role_permissions_boundary": {
                    "references": [
                      "each.value.iam_role_permissions_boundary",
                      "each.value",
                      "var.eks_managed_node_group_defaults.iam_role_permissions_boundary",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "use_latest_ami_release_version": {
                    "references": [
                      "each.value.use_latest_ami_release_version",
                      "each.value",
                      "var.eks_managed_node_group_defaults.use_latest_ami_release_version",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "launch_template_default_version": {
                    "references": [
                      "each.value.launch_template_default_version",
                      "each.value",
                      "var.eks_managed_node_group_defaults.launch_template_default_version",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "launch_template_use_name_prefix": {
                    "references": [
                      "each.value.launch_template_use_name_prefix",
                      "each.value",
                      "var.eks_managed_node_group_defaults.launch_template_use_name_prefix",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "cluster_primary_security_group_id": {
                    "references": [
                      "each.value.attach_cluster_primary_security_group",
                      "each.value",
                      "var.eks_managed_node_group_defaults.attach_cluster_primary_security_group",
                      "var.eks_managed_node_group_defaults",
                      "aws_eks_cluster.this[0].vpc_config[0].cluster_security_group_id",
                      "aws_eks_cluster.this[0].vpc_config[0]",
                      "aws_eks_cluster.this[0].vpc_config",
                      "aws_eks_cluster.this[0]",
                      "aws_eks_cluster.this"
                    ]
                  },
                  "capacity_reservation_specification": {
                    "references": [
                      "each.value.capacity_reservation_specification",
                      "each.value",
                      "var.eks_managed_node_group_defaults.capacity_reservation_specification",
                      "var.eks_managed_node_group_defaults"
                    ]
                  },
                  "update_launch_template_default_version": {
                    "references": [
                      "each.value.update_launch_template_default_version",
                      "each.value",
                      "var.eks_managed_node_group_defaults.update_launch_template_default_version",
                      "var.eks_managed_node_group_defaults"
                    ]
                  }
                },
                "for_each_expression": {
                  "references": [
                    "var.eks_managed_node_groups",
                    "var.create",
                    "local.create_outposts_local_cluster"
                  ]
                }
              },
              "self_managed_node_group": {
                "module": {
                  "outputs": {
                    "image_id": {
                      "expression": {
                        "references": [
                          "aws_launch_template.this[0].image_id",
                          "aws_launch_template.this[0]",
                          "aws_launch_template.this"
                        ]
                      },
                      "description": "ID of the image"
                    },
                    "platform": {
                      "expression": {
                        "references": [
                          "module.user_data.platform",
                          "module.user_data"
                        ]
                      },
                      "description": "[DEPRECATED - Will be removed in `v21.0`] Identifies the OS platform as `bottlerocket`, `linux` (AL2), `al2023`, or `windows`"
                    },
                    "user_data": {
                      "expression": {
                        "references": [
                          "module.user_data.user_data",
                          "module.user_data"
                        ]
                      },
                      "description": "Base64 encoded user data"
                    },
                    "iam_role_arn": {
                      "expression": {
                        "references": [
                          "aws_iam_role.this[0].arn",
                          "aws_iam_role.this[0]",
                          "aws_iam_role.this"
                        ]
                      },
                      "description": "The Amazon Resource Name (ARN) specifying the IAM role"
                    },
                    "iam_role_name": {
                      "expression": {
                        "references": [
                          "aws_iam_role.this[0].name",
                          "aws_iam_role.this[0]",
                          "aws_iam_role.this"
                        ]
                      },
                      "description": "The name of the IAM role"
                    },
                    "access_entry_arn": {
                      "expression": {
                        "references": [
                          "aws_eks_access_entry.this[0].access_entry_arn",
                          "aws_eks_access_entry.this[0]",
                          "aws_eks_access_entry.this"
                        ]
                      },
                      "description": "Amazon Resource Name (ARN) of the Access Entry"
                    },
                    "iam_role_unique_id": {
                      "expression": {
                        "references": [
                          "aws_iam_role.this[0].unique_id",
                          "aws_iam_role.this[0]",
                          "aws_iam_role.this"
                        ]
                      },
                      "description": "Stable and unique string identifying the IAM role"
                    },
                    "launch_template_id": {
                      "expression": {
                        "references": [
                          "aws_launch_template.this[0].id",
                          "aws_launch_template.this[0]",
                          "aws_launch_template.this"
                        ]
                      },
                      "description": "The ID of the launch template"
                    },
                    "launch_template_arn": {
                      "expression": {
                        "references": [
                          "aws_launch_template.this[0].arn",
                          "aws_launch_template.this[0]",
                          "aws_launch_template.this"
                        ]
                      },
                      "description": "The ARN of the launch template"
                    },
                    "autoscaling_group_id": {
                      "expression": {
                        "references": [
                          "aws_autoscaling_group.this[0].id",
                          "aws_autoscaling_group.this[0]",
                          "aws_autoscaling_group.this"
                        ]
                      },
                      "description": "The autoscaling group id"
                    },
                    "launch_template_name": {
                      "expression": {
                        "references": [
                          "aws_launch_template.this[0].name",
                          "aws_launch_template.this[0]",
                          "aws_launch_template.this"
                        ]
                      },
                      "description": "The name of the launch template"
                    },
                    "autoscaling_group_arn": {
                      "expression": {
                        "references": [
                          "aws_autoscaling_group.this[0].arn",
                          "aws_autoscaling_group.this[0]",
                          "aws_autoscaling_group.this"
                        ]
                      },
                      "description": "The ARN for this autoscaling group"
                    },
                    "autoscaling_group_name": {
                      "expression": {
                        "references": [
                          "aws_autoscaling_group.this[0].name",
                          "aws_autoscaling_group.this[0]",
                          "aws_autoscaling_group.this"
                        ]
                      },
                      "description": "The autoscaling group name"
                    },
                    "iam_instance_profile_id": {
                      "expression": {
                        "references": [
                          "aws_iam_instance_profile.this[0].id",
                          "aws_iam_instance_profile.this[0]",
                          "aws_iam_instance_profile.this"
                        ]
                      },
                      "description": "Instance profile's ID"
                    },
                    "iam_instance_profile_arn": {
                      "expression": {
                        "references": [
                          "aws_iam_instance_profile.this[0].arn",
                          "aws_iam_instance_profile.this[0]",
                          "aws_iam_instance_profile.this",
                          "var.iam_instance_profile_arn"
                        ]
                      },
                      "description": "ARN assigned by AWS to the instance profile"
                    },
                    "autoscaling_group_max_size": {
                      "expression": {
                        "references": [
                          "aws_autoscaling_group.this[0].max_size",
                          "aws_autoscaling_group.this[0]",
                          "aws_autoscaling_group.this"
                        ]
                      },
                      "description": "The maximum size of the autoscaling group"
                    },
                    "autoscaling_group_min_size": {
                      "expression": {
                        "references": [
                          "aws_autoscaling_group.this[0].min_size",
                          "aws_autoscaling_group.this[0]",
                          "aws_autoscaling_group.this"
                        ]
                      },
                      "description": "The minimum size of the autoscaling group"
                    },
                    "iam_instance_profile_unique": {
                      "expression": {
                        "references": [
                          "aws_iam_instance_profile.this[0].unique_id",
                          "aws_iam_instance_profile.this[0]",
                          "aws_iam_instance_profile.this"
                        ]
                      },
                      "description": "Stable and unique string identifying the IAM instance profile"
                    },
                    "launch_template_latest_version": {
                      "expression": {
                        "references": [
                          "aws_launch_template.this[0].latest_version",
                          "aws_launch_template.this[0]",
                          "aws_launch_template.this"
                        ]
                      },
                      "description": "The latest version of the launch template"
                    },
                    "autoscaling_group_schedule_arns": {
                      "expression": {
                        "references": [
                          "aws_autoscaling_schedule.this"
                        ]
                      },
                      "description": "ARNs of autoscaling group schedules"
                    },
                    "autoscaling_group_default_cooldown": {
                      "expression": {
                        "references": [
                          "aws_autoscaling_group.this[0].default_cooldown",
                          "aws_autoscaling_group.this[0]",
                          "aws_autoscaling_group.this"
                        ]
                      },
                      "description": "Time between a scaling activity and the succeeding scaling activity"
                    },
                    "autoscaling_group_desired_capacity": {
                      "expression": {
                        "references": [
                          "aws_autoscaling_group.this[0].desired_capacity",
                          "aws_autoscaling_group.this[0]",
                          "aws_autoscaling_group.this"
                        ]
                      },
                      "description": "The number of Amazon EC2 instances that should be running in the group"
                    },
                    "autoscaling_group_health_check_type": {
                      "expression": {
                        "references": [
                          "aws_autoscaling_group.this[0].health_check_type",
                          "aws_autoscaling_group.this[0]",
                          "aws_autoscaling_group.this"
                        ]
                      },
                      "description": "EC2 or ELB. Controls how health checking is done"
                    },
                    "autoscaling_group_availability_zones": {
                      "expression": {
                        "references": [
                          "aws_autoscaling_group.this[0].availability_zones",
                          "aws_autoscaling_group.this[0]",
                          "aws_autoscaling_group.this"
                        ]
                      },
                      "description": "The availability zones of the autoscaling group"
                    },
                    "autoscaling_group_vpc_zone_identifier": {
                      "expression": {
                        "references": [
                          "aws_autoscaling_group.this[0].vpc_zone_identifier",
                          "aws_autoscaling_group.this[0]",
                          "aws_autoscaling_group.this"
                        ]
                      },
                      "description": "The VPC zone identifier"
                    },
                    "autoscaling_group_health_check_grace_period": {
                      "expression": {
                        "references": [
                          "aws_autoscaling_group.this[0].health_check_grace_period",
                          "aws_autoscaling_group.this[0]",
                          "aws_autoscaling_group.this"
                        ]
                      },
                      "description": "Time after instance comes into service before checking health"
                    }
                  },
                  "resources": [
                    {
                      "mode": "managed",
                      "name": "this",
                      "type": "aws_autoscaling_group",
                      "address": "aws_autoscaling_group.this",
                      "expressions": {
                        "name": {
                          "references": [
                            "var.use_name_prefix",
                            "var.name"
                          ]
                        },
                        "context": {
                          "references": [
                            "var.context"
                          ]
                        },
                        "max_size": {
                          "references": [
                            "var.max_size"
                          ]
                        },
                        "min_size": {
                          "references": [
                            "var.min_size"
                          ]
                        },
                        "timeouts": {},
                        "name_prefix": {
                          "references": [
                            "var.use_name_prefix",
                            "var.name"
                          ]
                        },
                        "force_delete": {
                          "references": [
                            "var.force_delete"
                          ]
                        },
                        "enabled_metrics": {
                          "references": [
                            "var.enabled_metrics"
                          ]
                        },
                        "placement_group": {
                          "references": [
                            "var.placement_group"
                          ]
                        },
                        "default_cooldown": {
                          "references": [
                            "var.default_cooldown"
                          ]
                        },
                        "desired_capacity": {
                          "references": [
                            "var.desired_size"
                          ]
                        },
                        "min_elb_capacity": {
                          "references": [
                            "var.min_elb_capacity"
                          ]
                        },
                        "health_check_type": {
                          "references": [
                            "var.health_check_type"
                          ]
                        },
                        "target_group_arns": {
                          "references": [
                            "var.target_group_arns"
                          ]
                        },
                        "availability_zones": {
                          "references": [
                            "var.availability_zones"
                          ]
                        },
                        "capacity_rebalance": {
                          "references": [
                            "var.capacity_rebalance"
                          ]
                        },
                        "metrics_granularity": {
                          "references": [
                            "var.metrics_granularity"
                          ]
                        },
                        "suspended_processes": {
                          "references": [
                            "var.suspended_processes"
                          ]
                        },
                        "vpc_zone_identifier": {
                          "references": [
                            "local.enable_efa_support",
                            "data.aws_subnets.placement_group[0].ids",
                            "data.aws_subnets.placement_group[0]",
                            "data.aws_subnets.placement_group",
                            "var.subnet_ids"
                          ]
                        },
                        "termination_policies": {
                          "references": [
                            "var.termination_policies"
                          ]
                        },
                        "desired_capacity_type": {
                          "references": [
                            "var.desired_size_type"
                          ]
                        },
                        "max_instance_lifetime": {
                          "references": [
                            "var.max_instance_lifetime"
                          ]
                        },
                        "protect_from_scale_in": {
                          "references": [
                            "var.protect_from_scale_in"
                          ]
                        },
                        "wait_for_elb_capacity": {
                          "references": [
                            "var.wait_for_elb_capacity"
                          ]
                        },
                        "force_delete_warm_pool": {
                          "references": [
                            "var.force_delete_warm_pool"
                          ]
                        },
                        "default_instance_warmup": {
                          "references": [
                            "var.default_instance_warmup"
                          ]
                        },
                        "service_linked_role_arn": {
                          "references": [
                            "var.service_linked_role_arn"
                          ]
                        },
                        "health_check_grace_period": {
                          "references": [
                            "var.health_check_grace_period"
                          ]
                        },
                        "wait_for_capacity_timeout": {
                          "references": [
                            "var.wait_for_capacity_timeout"
                          ]
                        },
                        "ignore_failed_scaling_activities": {
                          "references": [
                            "var.ignore_failed_scaling_activities"
                          ]
                        }
                      },
                      "schema_version": 1,
                      "count_expression": {
                        "references": [
                          "var.create",
                          "var.create_autoscaling_group"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "this",
                      "type": "aws_autoscaling_schedule",
                      "address": "aws_autoscaling_schedule.this",
                      "expressions": {
                        "end_time": {
                          "references": [
                            "each.value.end_time",
                            "each.value"
                          ]
                        },
                        "max_size": {
                          "references": [
                            "each.value.max_size",
                            "each.value"
                          ]
                        },
                        "min_size": {
                          "references": [
                            "each.value.min_size",
                            "each.value"
                          ]
                        },
                        "time_zone": {
                          "references": [
                            "each.value.time_zone",
                            "each.value"
                          ]
                        },
                        "recurrence": {
                          "references": [
                            "each.value.recurrence",
                            "each.value"
                          ]
                        },
                        "start_time": {
                          "references": [
                            "each.value.start_time",
                            "each.value"
                          ]
                        },
                        "desired_capacity": {
                          "references": [
                            "each.value.desired_size",
                            "each.value"
                          ]
                        },
                        "scheduled_action_name": {
                          "references": [
                            "each.key"
                          ]
                        },
                        "autoscaling_group_name": {
                          "references": [
                            "aws_autoscaling_group.this[0].name",
                            "aws_autoscaling_group.this[0]",
                            "aws_autoscaling_group.this"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "for_each_expression": {
                        "references": [
                          "var.schedules",
                          "var.create",
                          "var.create_schedule"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "this",
                      "type": "aws_eks_access_entry",
                      "address": "aws_eks_access_entry.this",
                      "expressions": {
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "type": {
                          "references": [
                            "local.user_data_type"
                          ]
                        },
                        "cluster_name": {
                          "references": [
                            "var.cluster_name"
                          ]
                        },
                        "principal_arn": {
                          "references": [
                            "var.create_iam_instance_profile",
                            "aws_iam_role.this[0].arn",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this",
                            "var.iam_role_arn"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create",
                          "var.create_access_entry"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "this",
                      "type": "aws_iam_instance_profile",
                      "address": "aws_iam_instance_profile.this",
                      "expressions": {
                        "name": {
                          "references": [
                            "var.iam_role_use_name_prefix",
                            "local.iam_role_name"
                          ]
                        },
                        "path": {
                          "references": [
                            "var.iam_role_path"
                          ]
                        },
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags",
                            "var.iam_role_tags"
                          ]
                        },
                        "name_prefix": {
                          "references": [
                            "var.iam_role_use_name_prefix",
                            "local.iam_role_name"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "local.create_iam_instance_profile"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "this",
                      "type": "aws_iam_role",
                      "address": "aws_iam_role.this",
                      "expressions": {
                        "name": {
                          "references": [
                            "var.iam_role_use_name_prefix",
                            "local.iam_role_name"
                          ]
                        },
                        "path": {
                          "references": [
                            "var.iam_role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags",
                            "var.iam_role_tags"
                          ]
                        },
                        "description": {
                          "references": [
                            "var.iam_role_description"
                          ]
                        },
                        "name_prefix": {
                          "references": [
                            "var.iam_role_use_name_prefix",
                            "local.iam_role_name"
                          ]
                        },
                        "assume_role_policy": {
                          "references": [
                            "data.aws_iam_policy_document.assume_role_policy[0].json",
                            "data.aws_iam_policy_document.assume_role_policy[0]",
                            "data.aws_iam_policy_document.assume_role_policy"
                          ]
                        },
                        "permissions_boundary": {
                          "references": [
                            "var.iam_role_permissions_boundary"
                          ]
                        },
                        "force_detach_policies": {
                          "constant_value": true
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "local.create_iam_instance_profile"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "this",
                      "type": "aws_iam_role_policy",
                      "address": "aws_iam_role_policy.this",
                      "expressions": {
                        "name": {
                          "references": [
                            "var.iam_role_use_name_prefix",
                            "local.iam_role_name"
                          ]
                        },
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].id",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.role[0].json",
                            "data.aws_iam_policy_document.role[0]",
                            "data.aws_iam_policy_document.role"
                          ]
                        },
                        "name_prefix": {
                          "references": [
                            "var.iam_role_use_name_prefix",
                            "local.iam_role_name"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "local.create_iam_role_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "additional",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.additional",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "each.value"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "for_each_expression": {
                        "references": [
                          "var.iam_role_additional_policies",
                          "local.create_iam_instance_profile"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "this",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.this",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "each.value"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "for_each_expression": {
                        "references": [
                          "local.iam_role_policy_prefix",
                          "local.iam_role_policy_prefix",
                          "local.ipv4_cni_policy",
                          "local.ipv6_cni_policy",
                          "local.create_iam_instance_profile"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "this",
                      "type": "aws_launch_template",
                      "address": "aws_launch_template.this",
                      "depends_on": [
                        "aws_iam_role_policy_attachment.this",
                        "aws_iam_role_policy_attachment.additional"
                      ],
                      "expressions": {
                        "name": {
                          "references": [
                            "var.launch_template_use_name_prefix",
                            "local.launch_template_name"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "image_id": {
                          "references": [
                            "var.ami_id",
                            "data.aws_ssm_parameter.ami[0].value",
                            "data.aws_ssm_parameter.ami[0]",
                            "data.aws_ssm_parameter.ami"
                          ]
                        },
                        "key_name": {
                          "references": [
                            "var.key_name"
                          ]
                        },
                        "kernel_id": {
                          "references": [
                            "var.kernel_id"
                          ]
                        },
                        "user_data": {
                          "references": [
                            "module.user_data.user_data",
                            "module.user_data"
                          ]
                        },
                        "description": {
                          "references": [
                            "var.launch_template_description"
                          ]
                        },
                        "name_prefix": {
                          "references": [
                            "var.launch_template_use_name_prefix",
                            "local.launch_template_name"
                          ]
                        },
                        "ram_disk_id": {
                          "references": [
                            "var.ram_disk_id"
                          ]
                        },
                        "ebs_optimized": {
                          "references": [
                            "var.ebs_optimized"
                          ]
                        },
                        "instance_type": {
                          "references": [
                            "var.instance_type"
                          ]
                        },
                        "default_version": {
                          "references": [
                            "var.launch_template_default_version"
                          ]
                        },
                        "iam_instance_profile": [
                          {
                            "arn": {
                              "references": [
                                "var.create_iam_instance_profile",
                                "aws_iam_instance_profile.this[0].arn",
                                "aws_iam_instance_profile.this[0]",
                                "aws_iam_instance_profile.this",
                                "var.iam_instance_profile_arn"
                              ]
                            }
                          }
                        ],
                        "update_default_version": {
                          "references": [
                            "var.update_launch_template_default_version"
                          ]
                        },
                        "vpc_security_group_ids": {
                          "references": [
                            "local.network_interfaces",
                            "local.security_group_ids"
                          ]
                        },
                        "disable_api_termination": {
                          "references": [
                            "var.disable_api_termination"
                          ]
                        },
                        "instance_initiated_shutdown_behavior": {
                          "references": [
                            "var.instance_initiated_shutdown_behavior"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create",
                          "var.create_launch_template"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "this",
                      "type": "aws_placement_group",
                      "address": "aws_placement_group.this",
                      "expressions": {
                        "name": {
                          "references": [
                            "var.cluster_name",
                            "var.name"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "strategy": {
                          "constant_value": "cluster"
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "local.create_placement_group"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "current",
                      "type": "aws_caller_identity",
                      "address": "data.aws_caller_identity.current",
                      "schema_version": 0,
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "this",
                      "type": "aws_ec2_instance_type",
                      "address": "data.aws_ec2_instance_type.this",
                      "expressions": {
                        "instance_type": {
                          "references": [
                            "var.instance_type"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create",
                          "var.enable_efa_support"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "this",
                      "type": "aws_ec2_instance_type_offerings",
                      "address": "data.aws_ec2_instance_type_offerings.this",
                      "expressions": {
                        "filter": [
                          {
                            "name": {
                              "constant_value": "instance-type"
                            },
                            "values": {
                              "references": [
                                "var.instance_type"
                              ]
                            }
                          }
                        ],
                        "location_type": {
                          "constant_value": "availability-zone-id"
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "local.enable_efa_support"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "assume_role_policy",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.assume_role_policy",
                      "expressions": {
                        "statement": [
                          {
                            "sid": {
                              "constant_value": "EKSNodeAssumeRole"
                            },
                            "actions": {
                              "constant_value": [
                                "sts:AssumeRole"
                              ]
                            },
                            "principals": [
                              {
                                "type": {
                                  "constant_value": "Service"
                                },
                                "identifiers": {
                                  "constant_value": [
                                    "ec2.amazonaws.com"
                                  ]
                                }
                              }
                            ]
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "local.create_iam_instance_profile"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "role",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.role",
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "local.create_iam_role_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "current",
                      "type": "aws_partition",
                      "address": "data.aws_partition.current",
                      "schema_version": 0,
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "ami",
                      "type": "aws_ssm_parameter",
                      "address": "data.aws_ssm_parameter.ami",
                      "expressions": {
                        "name": {
                          "references": [
                            "local.ami_type_to_ssm_param",
                            "var.ami_type"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "placement_group",
                      "type": "aws_subnets",
                      "address": "data.aws_subnets.placement_group",
                      "expressions": {
                        "filter": [
                          {
                            "name": {
                              "constant_value": "subnet-id"
                            },
                            "values": {
                              "references": [
                                "var.subnet_ids"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "local.create_placement_group"
                        ]
                      },
                      "provider_config_key": "aws"
                    }
                  ],
                  "variables": {
                    "name": {
                      "default": "",
                      "description": "Name of the Self managed Node Group"
                    },
                    "tags": {
                      "default": {},
                      "description": "A map of tags to add to all resources"
                    },
                    "ami_id": {
                      "default": "",
                      "description": "The AMI from which to launch the instance"
                    },
                    "create": {
                      "default": true,
                      "description": "Determines whether to create self managed node group or not"
                    },
                    "context": {
                      "description": "Reserved"
                    },
                    "ami_type": {
                      "default": "AL2_x86_64",
                      "description": "Type of Amazon Machine Image (AMI) associated with the node group. See the [AWS documentation](https://docs.aws.amazon.com/eks/latest/APIReference/API_Nodegroup.html#AmazonEKS-Type-Nodegroup-amiType) for valid values"
                    },
                    "key_name": {
                      "description": "The key name that should be used for the instance"
                    },
                    "max_size": {
                      "default": 3,
                      "description": "The maximum size of the autoscaling group"
                    },
                    "min_size": {
                      "default": 0,
                      "description": "The minimum size of the autoscaling group"
                    },
                    "platform": {
                      "description": "[DEPRECATED - must use `ami_type` instead. Will be removed in `v21.0`]"
                    },
                    "kernel_id": {
                      "description": "The kernel ID"
                    },
                    "placement": {
                      "default": {},
                      "description": "The placement of the instance"
                    },
                    "schedules": {
                      "default": {},
                      "description": "Map of autoscaling group schedule to create"
                    },
                    "warm_pool": {
                      "default": {},
                      "description": "If this block is configured, add a Warm Pool to the specified Auto Scaling group"
                    },
                    "subnet_ids": {
                      "description": "A list of subnet IDs to launch resources in. Subnets automatically determine which availability zones the group will reside. Conflicts with `availability_zones`"
                    },
                    "cpu_options": {
                      "default": {},
                      "description": "The CPU options for the instance"
                    },
                    "efa_indices": {
                      "default": [
                        0
                      ],
                      "description": "The indices of the network interfaces that should be EFA-enabled. Only valid when `enable_efa_support` = `true`"
                    },
                    "ram_disk_id": {
                      "description": "The ID of the ram disk"
                    },
                    "cluster_name": {
                      "default": "",
                      "description": "Name of associated EKS cluster"
                    },
                    "desired_size": {
                      "default": 1,
                      "description": "The number of Amazon EC2 instances that should be running in the autoscaling group"
                    },
                    "force_delete": {
                      "description": "Allows deleting the Auto Scaling Group without waiting for all instances in the pool to terminate. You can force an Auto Scaling Group to delete even if it's in the process of scaling a resource. Normally, Terraform drains all the instances before deleting the group. This bypasses that behavior and potentially leaves resources dangling"
                    },
                    "iam_role_arn": {
                      "description": "ARN of the IAM role used by the instance profile. Required when `create_access_entry = true` and `create_iam_instance_profile = false`"
                    },
                    "ebs_optimized": {
                      "description": "If true, the launched EC2 instance will be EBS-optimized"
                    },
                    "iam_role_name": {
                      "description": "Name to use on IAM role created"
                    },
                    "iam_role_path": {
                      "description": "IAM role path"
                    },
                    "iam_role_tags": {
                      "default": {},
                      "description": "A map of additional tags to add to the IAM role created"
                    },
                    "instance_type": {
                      "default": "",
                      "description": "The type of the instance to launch"
                    },
                    "delete_timeout": {
                      "description": "Delete timeout to wait for destroying autoscaling group"
                    },
                    "cluster_version": {
                      "description": "Kubernetes cluster version - used to lookup default AMI ID if one is not provided"
                    },
                    "create_schedule": {
                      "default": true,
                      "description": "Determines whether to create autoscaling group schedule or not"
                    },
                    "enable_efa_only": {
                      "default": false,
                      "description": "Determines whether to enable EFA (`false`, default) or EFA and EFA-only (`true`) network interfaces. Note: requires vpc-cni version `v1.18.4` or later"
                    },
                    "enabled_metrics": {
                      "default": [],
                      "description": "A list of metrics to collect. The allowed values are `GroupDesiredCapacity`, `GroupInServiceCapacity`, `GroupPendingCapacity`, `GroupMinSize`, `GroupMaxSize`, `GroupInServiceInstances`, `GroupPendingInstances`, `GroupStandbyInstances`, `GroupStandbyCapacity`, `GroupTerminatingCapacity`, `GroupTerminatingInstances`, `GroupTotalCapacity`, `GroupTotalInstances`"
                    },
                    "enclave_options": {
                      "default": {},
                      "description": "Enable Nitro Enclaves on launched instances"
                    },
                    "placement_group": {
                      "description": "The name of the placement group into which you'll launch your instances, if any"
                    },
                    "use_name_prefix": {
                      "default": true,
                      "description": "Determines whether to use `name` as is or create a unique name beginning with the `name` as the prefix"
                    },
                    "cluster_endpoint": {
                      "default": "",
                      "description": "Endpoint of associated EKS cluster"
                    },
                    "default_cooldown": {
                      "description": "The amount of time, in seconds, after a scaling activity completes before another scaling activity can start"
                    },
                    "instance_refresh": {
                      "default": {
                        "strategy": "Rolling",
                        "preferences": {
                          "min_healthy_percentage": 66
                        }
                      },
                      "description": "If this block is configured, start an Instance Refresh when this Auto Scaling Group is updated"
                    },
                    "metadata_options": {
                      "default": {
                        "http_tokens": "required",
                        "http_endpoint": "enabled",
                        "http_put_response_hop_limit": "2"
                      },
                      "description": "Customize the metadata options for the instance"
                    },
                    "min_elb_capacity": {
                      "description": "Setting this causes Terraform to wait for this number of instances to show up healthy in the ELB only on creation. Updates will not wait on ELB instance number changes"
                    },
                    "cluster_ip_family": {
                      "default": "ipv4",
                      "description": "The IP family used to assign Kubernetes pod and service addresses. Valid values are `ipv4` (default) and `ipv6`"
                    },
                    "desired_size_type": {
                      "description": "The unit of measurement for the value specified for `desired_size`. Supported for attribute-based instance type selection only. Valid values: `units`, `vcpu`, `memory-mib`"
                    },
                    "enable_monitoring": {
                      "default": true,
                      "description": "Enables/disables detailed monitoring"
                    },
                    "health_check_type": {
                      "description": "`EC2` or `ELB`. Controls how health checking is done"
                    },
                    "target_group_arns": {
                      "default": [],
                      "description": "A set of `aws_alb_target_group` ARNs, for use with Application or Network Load Balancing"
                    },
                    "availability_zones": {
                      "description": "A list of one or more availability zones for the group. Used for EC2-Classic and default subnets when not specified with `subnet_ids` argument. Conflicts with `subnet_ids`"
                    },
                    "capacity_rebalance": {
                      "description": "Indicates whether capacity rebalance is enabled"
                    },
                    "enable_efa_support": {
                      "default": false,
                      "description": "Determines whether to enable Elastic Fabric Adapter (EFA) support"
                    },
                    "launch_template_id": {
                      "default": "",
                      "description": "The ID of an existing launch template to use. Required when `create_launch_template` = `false`"
                    },
                    "network_interfaces": {
                      "default": [],
                      "description": "Customize network interfaces to be attached at instance boot time"
                    },
                    "placement_group_az": {
                      "description": "Availability zone where placement group is created (ex. `eu-west-1c`)"
                    },
                    "tag_specifications": {
                      "default": [
                        "instance",
                        "volume",
                        "network-interface"
                      ],
                      "description": "The tags to apply to the resources during launch"
                    },
                    "cluster_auth_base64": {
                      "default": "",
                      "description": "Base64 encoded CA of associated EKS cluster"
                    },
                    "create_access_entry": {
                      "default": true,
                      "description": "Determines whether an access entry is created for the IAM role used by the node group"
                    },
                    "hibernation_options": {
                      "default": {},
                      "description": "The hibernation options for the instance"
                    },
                    "maintenance_options": {
                      "default": {},
                      "description": "The maintenance options for the instance"
                    },
                    "metrics_granularity": {
                      "description": "The granularity to associate with the metrics to collect. The only valid value is `1Minute`"
                    },
                    "suspended_processes": {
                      "default": [],
                      "description": "A list of processes to suspend for the Auto Scaling Group. The allowed values are `Launch`, `Terminate`, `HealthCheck`, `ReplaceUnhealthy`, `AZRebalance`, `AlarmNotification`, `ScheduledActions`, `AddToLoadBalancer`. Note that if you suspend either the `Launch` or `Terminate` process types, it can prevent your Auto Scaling Group from functioning properly"
                    },
                    "bootstrap_extra_args": {
                      "default": "",
                      "description": "Additional arguments passed to the bootstrap script. When `ami_type` = `BOTTLEROCKET_*`; these are additional [settings](https://github.com/bottlerocket-os/bottlerocket#settings) that are provided to the Bottlerocket user data"
                    },
                    "cluster_service_cidr": {
                      "default": "",
                      "description": "The CIDR block (IPv4 or IPv6) used by the cluster to assign Kubernetes service IP addresses. This is derived from the cluster itself"
                    },
                    "credit_specification": {
                      "default": {},
                      "description": "Customize the credit specification of the instance"
                    },
                    "iam_role_description": {
                      "description": "Description of the role"
                    },
                    "launch_template_name": {
                      "description": "Name of launch template to be created"
                    },
                    "launch_template_tags": {
                      "default": {},
                      "description": "A map of additional tags to add to the tag_specifications of launch template created"
                    },
                    "termination_policies": {
                      "default": [],
                      "description": "A list of policies to decide how the instances in the Auto Scaling Group should be terminated. The allowed values are `OldestInstance`, `NewestInstance`, `OldestLaunchConfiguration`, `ClosestToNextInstanceHour`, `OldestLaunchTemplate`, `AllocationStrategy`, `Default`"
                    },
                    "block_device_mappings": {
                      "default": {},
                      "description": "Specify volumes to attach to the instance besides the volumes specified by the AMI"
                    },
                    "cloudinit_pre_nodeadm": {
                      "default": [],
                      "description": "Array of cloud-init document parts that are created before the nodeadm document part"
                    },
                    "instance_requirements": {
                      "default": {},
                      "description": "The attribute requirements for the type of instance. If present then `instance_type` cannot be present"
                    },
                    "max_instance_lifetime": {
                      "description": "The maximum amount of time, in seconds, that an instance can be in service, values must be either equal to 0 or between 604800 and 31536000 seconds"
                    },
                    "protect_from_scale_in": {
                      "default": false,
                      "description": "Allows setting instance protection. The autoscaling group will not select instances with this setting for termination during scale in events."
                    },
                    "wait_for_elb_capacity": {
                      "description": "Setting this will cause Terraform to wait for exactly this number of healthy instances in all attached load balancers on both create and update operations. Takes precedence over `min_elb_capacity` behavior."
                    },
                    "autoscaling_group_tags": {
                      "default": {},
                      "description": "A map of additional tags to add to the autoscaling group created. Tags are applied to the autoscaling group only and are NOT propagated to instances"
                    },
                    "cloudinit_post_nodeadm": {
                      "default": [],
                      "description": "Array of cloud-init document parts that are created after the nodeadm document part"
                    },
                    "create_iam_role_policy": {
                      "default": true,
                      "description": "Determines whether an IAM role policy is created or not"
                    },
                    "create_launch_template": {
                      "default": true,
                      "description": "Determines whether to create launch template or not"
                    },
                    "create_placement_group": {
                      "default": false,
                      "description": "Determines whether a placement group is created & used by the node group"
                    },
                    "force_delete_warm_pool": {
                      "description": "Allows deleting the Auto Scaling Group without waiting for all instances in the warm pool to terminate"
                    },
                    "license_specifications": {
                      "default": {},
                      "description": "A map of license specifications to associate with"
                    },
                    "mixed_instances_policy": {
                      "description": "Configuration block containing settings to define launch targets for Auto Scaling groups"
                    },
                    "vpc_security_group_ids": {
                      "default": [],
                      "description": "A list of security group IDs to associate"
                    },
                    "default_instance_warmup": {
                      "description": "Amount of time, in seconds, until a newly launched instance can contribute to the Amazon CloudWatch metrics. This delay lets an instance finish initializing before Amazon EC2 Auto Scaling aggregates instance metrics, resulting in more reliable usage data"
                    },
                    "disable_api_termination": {
                      "description": "If true, enables EC2 instance termination protection"
                    },
                    "initial_lifecycle_hooks": {
                      "default": [],
                      "description": "One or more Lifecycle Hooks to attach to the Auto Scaling Group before instances are launched. The syntax is exactly the same as the separate `aws_autoscaling_lifecycle_hook` resource, without the `autoscaling_group_name` attribute. Please note that this will only work when creating a new Auto Scaling Group. For all other use-cases, please use `aws_autoscaling_lifecycle_hook` resource"
                    },
                    "instance_market_options": {
                      "default": {},
                      "description": "The market (purchasing) option for the instance"
                    },
                    "launch_template_version": {
                      "description": "Launch template version. Can be version number, `$Latest`, or `$Default`"
                    },
                    "pre_bootstrap_user_data": {
                      "default": "",
                      "description": "User data that is injected into the user data script ahead of the EKS bootstrap script. Not used when `ami_type` = `BOTTLEROCKET_*`"
                    },
                    "service_linked_role_arn": {
                      "description": "The ARN of the service-linked role that the ASG will use to call other AWS services"
                    },
                    "user_data_template_path": {
                      "default": "",
                      "description": "Path to a local, custom user data template file to use when rendering user data"
                    },
                    "create_autoscaling_group": {
                      "default": true,
                      "description": "Determines whether to create autoscaling group or not"
                    },
                    "iam_instance_profile_arn": {
                      "description": "Amazon Resource Name (ARN) of an existing IAM instance profile that provides permissions for the node group. Required if `create_iam_instance_profile` = `false`"
                    },
                    "iam_role_use_name_prefix": {
                      "default": true,
                      "description": "Determines whether cluster IAM role name (`iam_role_name`) is used as a prefix"
                    },
                    "post_bootstrap_user_data": {
                      "default": "",
                      "description": "User data that is appended to the user data script after of the EKS bootstrap script. Not used when `ami_type` = `BOTTLEROCKET_*`"
                    },
                    "private_dns_name_options": {
                      "default": {},
                      "description": "The options for the instance hostname. The default values are inherited from the subnet"
                    },
                    "health_check_grace_period": {
                      "description": "Time (in seconds) after instance comes into service before checking health"
                    },
                    "wait_for_capacity_timeout": {
                      "description": "A maximum duration that Terraform should wait for ASG instances to be healthy before timing out. (See also Waiting for Capacity below.) Setting this to '0' causes Terraform to skip all Capacity Waiting behavior."
                    },
                    "additional_cluster_dns_ips": {
                      "default": [],
                      "description": "Additional DNS IP addresses to use for the cluster. Only used when `ami_type` = `BOTTLEROCKET_*`"
                    },
                    "elastic_gpu_specifications": {
                      "default": {},
                      "description": "The elastic GPU to attach to the instance"
                    },
                    "iam_role_attach_cni_policy": {
                      "default": true,
                      "description": "Whether to attach the `AmazonEKS_CNI_Policy`/`AmazonEKS_CNI_IPv6_Policy` IAM policy to the IAM IAM role. WARNING: If set `false` the permissions must be assigned to the `aws-node` DaemonSet pods via another method or nodes will not be able to join the cluster"
                    },
                    "iam_role_policy_statements": {
                      "default": [],
                      "description": "A list of IAM policy [statements](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/iam_policy_document#statement) - used for adding specific IAM permissions as needed"
                    },
                    "use_mixed_instances_policy": {
                      "default": false,
                      "description": "Determines whether to use a mixed instances policy in the autoscaling group or not"
                    },
                    "create_iam_instance_profile": {
                      "default": true,
                      "description": "Determines whether an IAM instance profile is created or to use an existing IAM instance profile"
                    },
                    "instance_maintenance_policy": {
                      "default": {},
                      "description": "If this block is configured, add a instance maintenance policy to the specified Auto Scaling group"
                    },
                    "launch_template_description": {
                      "description": "Description of the launch template"
                    },
                    "iam_role_additional_policies": {
                      "default": {},
                      "description": "Additional policies to be added to the IAM role"
                    },
                    "elastic_inference_accelerator": {
                      "default": {},
                      "description": "Configuration block containing an Elastic Inference Accelerator to attach to the instance"
                    },
                    "iam_role_permissions_boundary": {
                      "description": "ARN of the policy that is used to set the permissions boundary for the IAM role"
                    },
                    "launch_template_default_version": {
                      "description": "Default Version of the launch template"
                    },
                    "launch_template_use_name_prefix": {
                      "default": true,
                      "description": "Determines whether to use `launch_template_name` as is or create a unique name beginning with the `launch_template_name` as the prefix"
                    },
                    "ignore_failed_scaling_activities": {
                      "description": "Whether to ignore failed Auto Scaling scaling activities while waiting for capacity."
                    },
                    "cluster_primary_security_group_id": {
                      "description": "The ID of the EKS cluster primary security group to associate with the instance(s). This is the security group that is automatically created by the EKS service"
                    },
                    "capacity_reservation_specification": {
                      "default": {},
                      "description": "Targeting for EC2 capacity reservations"
                    },
                    "instance_initiated_shutdown_behavior": {
                      "description": "Shutdown behavior for the instance. Can be `stop` or `terminate`. (Default: `stop`)"
                    },
                    "update_launch_template_default_version": {
                      "default": true,
                      "description": "Whether to update Default Version each update. Conflicts with `launch_template_default_version`"
                    }
                  },
                  "module_calls": {
                    "user_data": {
                      "module": {
                        "outputs": {
                          "platform": {
                            "expression": {
                              "references": [
                                "local.user_data_type"
                              ]
                            },
                            "description": "[DEPRECATED - Will be removed in `v21.0`] Identifies the OS platform as `bottlerocket`, `linux` (AL2), `al2023, or `windows`"
                          },
                          "user_data": {
                            "expression": {
                              "references": [
                                "local.user_data_type_to_rendered",
                                "local.user_data_type"
                              ]
                            },
                            "description": "Base64 encoded user data rendered for the provided inputs"
                          }
                        },
                        "resources": [
                          {
                            "mode": "managed",
                            "name": "validate_cluster_service_cidr",
                            "type": "null_resource",
                            "address": "null_resource.validate_cluster_service_cidr",
                            "schema_version": 0,
                            "provider_config_key": "module.eks.module.self_managed_node_group.module.user_data:null"
                          },
                          {
                            "mode": "data",
                            "name": "al2023_eks_managed_node_group",
                            "type": "cloudinit_config",
                            "address": "data.cloudinit_config.al2023_eks_managed_node_group",
                            "expressions": {
                              "gzip": {
                                "constant_value": false
                              },
                              "boundary": {
                                "constant_value": "MIMEBOUNDARY"
                              },
                              "base64_encode": {
                                "constant_value": true
                              }
                            },
                            "schema_version": 0,
                            "count_expression": {
                              "references": [
                                "var.create",
                                "local.user_data_type",
                                "local.nodeadm_cloudinit"
                              ]
                            },
                            "provider_config_key": "module.eks.module.self_managed_node_group.module.user_data:cloudinit"
                          },
                          {
                            "mode": "data",
                            "name": "linux_eks_managed_node_group",
                            "type": "cloudinit_config",
                            "address": "data.cloudinit_config.linux_eks_managed_node_group",
                            "expressions": {
                              "gzip": {
                                "constant_value": false
                              },
                              "part": [
                                {
                                  "content": {
                                    "references": [
                                      "var.pre_bootstrap_user_data"
                                    ]
                                  },
                                  "content_type": {
                                    "constant_value": "text/x-shellscript"
                                  }
                                }
                              ],
                              "boundary": {
                                "constant_value": "//"
                              },
                              "base64_encode": {
                                "constant_value": true
                              }
                            },
                            "schema_version": 0,
                            "count_expression": {
                              "references": [
                                "var.create",
                                "local.user_data_type",
                                "var.is_eks_managed_node_group",
                                "var.enable_bootstrap_user_data",
                                "var.pre_bootstrap_user_data",
                                "var.user_data_template_path"
                              ]
                            },
                            "provider_config_key": "module.eks.module.self_managed_node_group.module.user_data:cloudinit"
                          }
                        ],
                        "variables": {
                          "create": {
                            "default": true,
                            "description": "Determines whether to create user-data or not"
                          },
                          "ami_type": {
                            "description": "Type of Amazon Machine Image (AMI) associated with the EKS Node Group. See the [AWS documentation](https://docs.aws.amazon.com/eks/latest/APIReference/API_Nodegroup.html#AmazonEKS-Type-Nodegroup-amiType) for valid values"
                          },
                          "platform": {
                            "default": "linux",
                            "description": "[DEPRECATED - use `ami_type` instead. Will be removed in `v21.0`] Identifies the OS platform as `bottlerocket`, `linux` (AL2), `al2023`, or `windows`"
                          },
                          "cluster_name": {
                            "default": "",
                            "description": "Name of the EKS cluster"
                          },
                          "cluster_endpoint": {
                            "default": "",
                            "description": "Endpoint of associated EKS cluster"
                          },
                          "cluster_ip_family": {
                            "default": "ipv4",
                            "description": "The IP family used to assign Kubernetes pod and service addresses. Valid values are `ipv4` (default) and `ipv6`"
                          },
                          "cluster_auth_base64": {
                            "default": "",
                            "description": "Base64 encoded CA of associated EKS cluster"
                          },
                          "bootstrap_extra_args": {
                            "default": "",
                            "description": "Additional arguments passed to the bootstrap script. When `ami_type` = `BOTTLEROCKET_*`; these are additional [settings](https://github.com/bottlerocket-os/bottlerocket#settings) that are provided to the Bottlerocket user data"
                          },
                          "cluster_service_cidr": {
                            "default": "",
                            "description": "The CIDR block (IPv4 or IPv6) used by the cluster to assign Kubernetes service IP addresses. This is derived from the cluster itself"
                          },
                          "cloudinit_pre_nodeadm": {
                            "default": [],
                            "description": "Array of cloud-init document parts that are created before the nodeadm document part"
                          },
                          "cloudinit_post_nodeadm": {
                            "default": [],
                            "description": "Array of cloud-init document parts that are created after the nodeadm document part"
                          },
                          "pre_bootstrap_user_data": {
                            "default": "",
                            "description": "User data that is injected into the user data script ahead of the EKS bootstrap script. Not used when `ami_type` = `BOTTLEROCKET_*`"
                          },
                          "user_data_template_path": {
                            "default": "",
                            "description": "Path to a local, custom user data template file to use when rendering user data"
                          },
                          "post_bootstrap_user_data": {
                            "default": "",
                            "description": "User data that is appended to the user data script after of the EKS bootstrap script. Not used when `ami_type` = `BOTTLEROCKET_*`"
                          },
                          "cluster_service_ipv4_cidr": {
                            "description": "[Deprecated] The CIDR block to assign Kubernetes service IP addresses from. If you don't specify a block, Kubernetes assigns addresses from either the 10.100.0.0/16 or 172.20.0.0/16 CIDR blocks"
                          },
                          "is_eks_managed_node_group": {
                            "default": true,
                            "description": "Determines whether the user data is used on nodes in an EKS managed node group. Used to determine if user data will be appended or not"
                          },
                          "additional_cluster_dns_ips": {
                            "default": [],
                            "description": "Additional DNS IP addresses to use for the cluster. Only used when `ami_type` = `BOTTLEROCKET_*`"
                          },
                          "enable_bootstrap_user_data": {
                            "default": false,
                            "description": "Determines whether the bootstrap configurations are populated within the user data template"
                          }
                        }
                      },
                      "source": "../_user_data",
                      "expressions": {
                        "create": {
                          "references": [
                            "var.create"
                          ]
                        },
                        "ami_type": {
                          "references": [
                            "var.ami_type"
                          ]
                        },
                        "platform": {
                          "references": [
                            "local.user_data_type"
                          ]
                        },
                        "cluster_name": {
                          "references": [
                            "var.cluster_name"
                          ]
                        },
                        "cluster_endpoint": {
                          "references": [
                            "var.cluster_endpoint"
                          ]
                        },
                        "cluster_ip_family": {
                          "references": [
                            "var.cluster_ip_family"
                          ]
                        },
                        "cluster_auth_base64": {
                          "references": [
                            "var.cluster_auth_base64"
                          ]
                        },
                        "bootstrap_extra_args": {
                          "references": [
                            "var.bootstrap_extra_args"
                          ]
                        },
                        "cluster_service_cidr": {
                          "references": [
                            "var.cluster_service_cidr"
                          ]
                        },
                        "cloudinit_pre_nodeadm": {
                          "references": [
                            "var.cloudinit_pre_nodeadm"
                          ]
                        },
                        "cloudinit_post_nodeadm": {
                          "references": [
                            "var.cloudinit_post_nodeadm"
                          ]
                        },
                        "pre_bootstrap_user_data": {
                          "references": [
                            "var.pre_bootstrap_user_data"
                          ]
                        },
                        "user_data_template_path": {
                          "references": [
                            "var.user_data_template_path"
                          ]
                        },
                        "post_bootstrap_user_data": {
                          "references": [
                            "var.post_bootstrap_user_data"
                          ]
                        },
                        "is_eks_managed_node_group": {
                          "constant_value": false
                        },
                        "additional_cluster_dns_ips": {
                          "references": [
                            "var.additional_cluster_dns_ips"
                          ]
                        },
                        "enable_bootstrap_user_data": {
                          "constant_value": true
                        }
                      }
                    }
                  }
                },
                "source": "./modules/self-managed-node-group",
                "expressions": {
                  "name": {
                    "references": [
                      "each.value.name",
                      "each.value",
                      "each.key"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "each.value.tags",
                      "each.value",
                      "var.self_managed_node_group_defaults.tags",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "ami_id": {
                    "references": [
                      "each.value.ami_id",
                      "each.value",
                      "var.self_managed_node_group_defaults.ami_id",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "create": {
                    "references": [
                      "each.value.create",
                      "each.value"
                    ]
                  },
                  "context": {
                    "references": [
                      "each.value.context",
                      "each.value",
                      "var.self_managed_node_group_defaults.context",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "ami_type": {
                    "references": [
                      "each.value.ami_type",
                      "each.value",
                      "var.self_managed_node_group_defaults.ami_type",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "key_name": {
                    "references": [
                      "each.value.key_name",
                      "each.value",
                      "var.self_managed_node_group_defaults.key_name",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "max_size": {
                    "references": [
                      "each.value.max_size",
                      "each.value",
                      "var.self_managed_node_group_defaults.max_size",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "min_size": {
                    "references": [
                      "each.value.min_size",
                      "each.value",
                      "var.self_managed_node_group_defaults.min_size",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "platform": {
                    "references": [
                      "each.value.platform",
                      "each.value",
                      "var.self_managed_node_group_defaults.platform",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "kernel_id": {
                    "references": [
                      "each.value.kernel_id",
                      "each.value",
                      "var.self_managed_node_group_defaults.kernel_id",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "placement": {
                    "references": [
                      "each.value.placement",
                      "each.value",
                      "var.self_managed_node_group_defaults.placement",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "schedules": {
                    "references": [
                      "each.value.schedules",
                      "each.value",
                      "var.self_managed_node_group_defaults.schedules",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "warm_pool": {
                    "references": [
                      "each.value.warm_pool",
                      "each.value",
                      "var.self_managed_node_group_defaults.warm_pool",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "subnet_ids": {
                    "references": [
                      "each.value.subnet_ids",
                      "each.value",
                      "var.self_managed_node_group_defaults.subnet_ids",
                      "var.self_managed_node_group_defaults",
                      "var.subnet_ids"
                    ]
                  },
                  "cpu_options": {
                    "references": [
                      "each.value.cpu_options",
                      "each.value",
                      "var.self_managed_node_group_defaults.cpu_options",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "efa_indices": {
                    "references": [
                      "each.value.efa_indices",
                      "each.value",
                      "var.self_managed_node_group_defaults.efa_indices",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "ram_disk_id": {
                    "references": [
                      "each.value.ram_disk_id",
                      "each.value",
                      "var.self_managed_node_group_defaults.ram_disk_id",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "cluster_name": {
                    "references": [
                      "time_sleep.this[0].triggers[\"cluster_name\"]",
                      "time_sleep.this[0].triggers",
                      "time_sleep.this[0]",
                      "time_sleep.this"
                    ]
                  },
                  "desired_size": {
                    "references": [
                      "each.value.desired_size",
                      "each.value",
                      "var.self_managed_node_group_defaults.desired_size",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "force_delete": {
                    "references": [
                      "each.value.force_delete",
                      "each.value",
                      "var.self_managed_node_group_defaults.force_delete",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "iam_role_arn": {
                    "references": [
                      "each.value.iam_role_arn",
                      "each.value",
                      "var.self_managed_node_group_defaults.iam_role_arn",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "ebs_optimized": {
                    "references": [
                      "each.value.ebs_optimized",
                      "each.value",
                      "var.self_managed_node_group_defaults.ebs_optimized",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "iam_role_name": {
                    "references": [
                      "each.value.iam_role_name",
                      "each.value",
                      "var.self_managed_node_group_defaults.iam_role_name",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "iam_role_path": {
                    "references": [
                      "each.value.iam_role_path",
                      "each.value",
                      "var.self_managed_node_group_defaults.iam_role_path",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "iam_role_tags": {
                    "references": [
                      "each.value.iam_role_tags",
                      "each.value",
                      "var.self_managed_node_group_defaults.iam_role_tags",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "instance_type": {
                    "references": [
                      "each.value.instance_type",
                      "each.value",
                      "var.self_managed_node_group_defaults.instance_type",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "delete_timeout": {
                    "references": [
                      "each.value.delete_timeout",
                      "each.value",
                      "var.self_managed_node_group_defaults.delete_timeout",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "cluster_version": {
                    "references": [
                      "each.value.cluster_version",
                      "each.value",
                      "var.self_managed_node_group_defaults.cluster_version",
                      "var.self_managed_node_group_defaults",
                      "time_sleep.this[0].triggers[\"cluster_version\"]",
                      "time_sleep.this[0].triggers",
                      "time_sleep.this[0]",
                      "time_sleep.this"
                    ]
                  },
                  "create_schedule": {
                    "references": [
                      "each.value.create_schedule",
                      "each.value",
                      "var.self_managed_node_group_defaults.create_schedule",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "enable_efa_only": {
                    "references": [
                      "each.value.enable_efa_only",
                      "each.value",
                      "var.self_managed_node_group_defaults.enable_efa_only",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "enabled_metrics": {
                    "references": [
                      "each.value.enabled_metrics",
                      "each.value",
                      "var.self_managed_node_group_defaults.enabled_metrics",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "enclave_options": {
                    "references": [
                      "each.value.enclave_options",
                      "each.value",
                      "var.self_managed_node_group_defaults.enclave_options",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "placement_group": {
                    "references": [
                      "each.value.placement_group",
                      "each.value",
                      "var.self_managed_node_group_defaults.placement_group",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "use_name_prefix": {
                    "references": [
                      "each.value.use_name_prefix",
                      "each.value",
                      "var.self_managed_node_group_defaults.use_name_prefix",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "cluster_endpoint": {
                    "references": [
                      "time_sleep.this[0].triggers[\"cluster_endpoint\"]",
                      "time_sleep.this[0].triggers",
                      "time_sleep.this[0]",
                      "time_sleep.this"
                    ]
                  },
                  "default_cooldown": {
                    "references": [
                      "each.value.default_cooldown",
                      "each.value",
                      "var.self_managed_node_group_defaults.default_cooldown",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "instance_refresh": {
                    "references": [
                      "each.value.instance_refresh",
                      "each.value",
                      "var.self_managed_node_group_defaults.instance_refresh",
                      "var.self_managed_node_group_defaults",
                      "local.default_instance_refresh"
                    ]
                  },
                  "metadata_options": {
                    "references": [
                      "each.value.metadata_options",
                      "each.value",
                      "var.self_managed_node_group_defaults.metadata_options",
                      "var.self_managed_node_group_defaults",
                      "local.metadata_options"
                    ]
                  },
                  "min_elb_capacity": {
                    "references": [
                      "each.value.min_elb_capacity",
                      "each.value",
                      "var.self_managed_node_group_defaults.min_elb_capacity",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "cluster_ip_family": {
                    "references": [
                      "var.cluster_ip_family"
                    ]
                  },
                  "desired_size_type": {
                    "references": [
                      "each.value.desired_size_type",
                      "each.value",
                      "var.self_managed_node_group_defaults.desired_size_type",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "enable_monitoring": {
                    "references": [
                      "each.value.enable_monitoring",
                      "each.value",
                      "var.self_managed_node_group_defaults.enable_monitoring",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "health_check_type": {
                    "references": [
                      "each.value.health_check_type",
                      "each.value",
                      "var.self_managed_node_group_defaults.health_check_type",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "target_group_arns": {
                    "references": [
                      "each.value.target_group_arns",
                      "each.value",
                      "var.self_managed_node_group_defaults.target_group_arns",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "availability_zones": {
                    "references": [
                      "each.value.availability_zones",
                      "each.value",
                      "var.self_managed_node_group_defaults.availability_zones",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "capacity_rebalance": {
                    "references": [
                      "each.value.capacity_rebalance",
                      "each.value",
                      "var.self_managed_node_group_defaults.capacity_rebalance",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "enable_efa_support": {
                    "references": [
                      "each.value.enable_efa_support",
                      "each.value",
                      "var.self_managed_node_group_defaults.enable_efa_support",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "launch_template_id": {
                    "references": [
                      "each.value.launch_template_id",
                      "each.value",
                      "var.self_managed_node_group_defaults.launch_template_id",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "network_interfaces": {
                    "references": [
                      "each.value.network_interfaces",
                      "each.value",
                      "var.self_managed_node_group_defaults.network_interfaces",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "placement_group_az": {
                    "references": [
                      "each.value.placement_group_az",
                      "each.value",
                      "var.self_managed_node_group_defaults.placement_group_az",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "tag_specifications": {
                    "references": [
                      "each.value.tag_specifications",
                      "each.value",
                      "var.self_managed_node_group_defaults.tag_specifications",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "cluster_auth_base64": {
                    "references": [
                      "time_sleep.this[0].triggers[\"cluster_certificate_authority_data\"]",
                      "time_sleep.this[0].triggers",
                      "time_sleep.this[0]",
                      "time_sleep.this"
                    ]
                  },
                  "create_access_entry": {
                    "references": [
                      "each.value.create_access_entry",
                      "each.value",
                      "var.self_managed_node_group_defaults.create_access_entry",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "hibernation_options": {
                    "references": [
                      "each.value.hibernation_options",
                      "each.value",
                      "var.self_managed_node_group_defaults.hibernation_options",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "maintenance_options": {
                    "references": [
                      "each.value.maintenance_options",
                      "each.value",
                      "var.self_managed_node_group_defaults.maintenance_options",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "metrics_granularity": {
                    "references": [
                      "each.value.metrics_granularity",
                      "each.value",
                      "var.self_managed_node_group_defaults.metrics_granularity",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "suspended_processes": {
                    "references": [
                      "each.value.suspended_processes",
                      "each.value",
                      "var.self_managed_node_group_defaults.suspended_processes",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "bootstrap_extra_args": {
                    "references": [
                      "each.value.bootstrap_extra_args",
                      "each.value",
                      "var.self_managed_node_group_defaults.bootstrap_extra_args",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "cluster_service_cidr": {
                    "references": [
                      "time_sleep.this[0].triggers[\"cluster_service_cidr\"]",
                      "time_sleep.this[0].triggers",
                      "time_sleep.this[0]",
                      "time_sleep.this"
                    ]
                  },
                  "credit_specification": {
                    "references": [
                      "each.value.credit_specification",
                      "each.value",
                      "var.self_managed_node_group_defaults.credit_specification",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "iam_role_description": {
                    "references": [
                      "each.value.iam_role_description",
                      "each.value",
                      "var.self_managed_node_group_defaults.iam_role_description",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "launch_template_name": {
                    "references": [
                      "each.value.launch_template_name",
                      "each.value",
                      "var.self_managed_node_group_defaults.launch_template_name",
                      "var.self_managed_node_group_defaults",
                      "each.key"
                    ]
                  },
                  "launch_template_tags": {
                    "references": [
                      "each.value.launch_template_tags",
                      "each.value",
                      "var.self_managed_node_group_defaults.launch_template_tags",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "termination_policies": {
                    "references": [
                      "each.value.termination_policies",
                      "each.value",
                      "var.self_managed_node_group_defaults.termination_policies",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "block_device_mappings": {
                    "references": [
                      "each.value.block_device_mappings",
                      "each.value",
                      "var.self_managed_node_group_defaults.block_device_mappings",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "cloudinit_pre_nodeadm": {
                    "references": [
                      "each.value.cloudinit_pre_nodeadm",
                      "each.value",
                      "var.self_managed_node_group_defaults.cloudinit_pre_nodeadm",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "instance_requirements": {
                    "references": [
                      "each.value.instance_requirements",
                      "each.value",
                      "var.self_managed_node_group_defaults.instance_requirements",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "max_instance_lifetime": {
                    "references": [
                      "each.value.max_instance_lifetime",
                      "each.value",
                      "var.self_managed_node_group_defaults.max_instance_lifetime",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "protect_from_scale_in": {
                    "references": [
                      "each.value.protect_from_scale_in",
                      "each.value",
                      "var.self_managed_node_group_defaults.protect_from_scale_in",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "wait_for_elb_capacity": {
                    "references": [
                      "each.value.wait_for_elb_capacity",
                      "each.value",
                      "var.self_managed_node_group_defaults.wait_for_elb_capacity",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "autoscaling_group_tags": {
                    "references": [
                      "each.value.autoscaling_group_tags",
                      "each.value",
                      "var.self_managed_node_group_defaults.autoscaling_group_tags",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "cloudinit_post_nodeadm": {
                    "references": [
                      "each.value.cloudinit_post_nodeadm",
                      "each.value",
                      "var.self_managed_node_group_defaults.cloudinit_post_nodeadm",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "create_iam_role_policy": {
                    "references": [
                      "each.value.create_iam_role_policy",
                      "each.value",
                      "var.self_managed_node_group_defaults.create_iam_role_policy",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "create_launch_template": {
                    "references": [
                      "each.value.create_launch_template",
                      "each.value",
                      "var.self_managed_node_group_defaults.create_launch_template",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "create_placement_group": {
                    "references": [
                      "each.value.create_placement_group",
                      "each.value",
                      "var.self_managed_node_group_defaults.create_placement_group",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "force_delete_warm_pool": {
                    "references": [
                      "each.value.force_delete_warm_pool",
                      "each.value",
                      "var.self_managed_node_group_defaults.force_delete_warm_pool",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "license_specifications": {
                    "references": [
                      "each.value.license_specifications",
                      "each.value",
                      "var.self_managed_node_group_defaults.license_specifications",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "mixed_instances_policy": {
                    "references": [
                      "each.value.mixed_instances_policy",
                      "each.value",
                      "var.self_managed_node_group_defaults.mixed_instances_policy",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "vpc_security_group_ids": {
                    "references": [
                      "local.node_security_group_id",
                      "each.value.vpc_security_group_ids",
                      "each.value",
                      "var.self_managed_node_group_defaults.vpc_security_group_ids",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "default_instance_warmup": {
                    "references": [
                      "each.value.default_instance_warmup",
                      "each.value",
                      "var.self_managed_node_group_defaults.default_instance_warmup",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "disable_api_termination": {
                    "references": [
                      "each.value.disable_api_termination",
                      "each.value",
                      "var.self_managed_node_group_defaults.disable_api_termination",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "initial_lifecycle_hooks": {
                    "references": [
                      "each.value.initial_lifecycle_hooks",
                      "each.value",
                      "var.self_managed_node_group_defaults.initial_lifecycle_hooks",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "instance_market_options": {
                    "references": [
                      "each.value.instance_market_options",
                      "each.value",
                      "var.self_managed_node_group_defaults.instance_market_options",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "launch_template_version": {
                    "references": [
                      "each.value.launch_template_version",
                      "each.value",
                      "var.self_managed_node_group_defaults.launch_template_version",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "pre_bootstrap_user_data": {
                    "references": [
                      "each.value.pre_bootstrap_user_data",
                      "each.value",
                      "var.self_managed_node_group_defaults.pre_bootstrap_user_data",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "service_linked_role_arn": {
                    "references": [
                      "each.value.service_linked_role_arn",
                      "each.value",
                      "var.self_managed_node_group_defaults.service_linked_role_arn",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "user_data_template_path": {
                    "references": [
                      "each.value.user_data_template_path",
                      "each.value",
                      "var.self_managed_node_group_defaults.user_data_template_path",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "create_autoscaling_group": {
                    "references": [
                      "each.value.create_autoscaling_group",
                      "each.value",
                      "var.self_managed_node_group_defaults.create_autoscaling_group",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "iam_instance_profile_arn": {
                    "references": [
                      "each.value.iam_instance_profile_arn",
                      "each.value",
                      "var.self_managed_node_group_defaults.iam_instance_profile_arn",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "iam_role_use_name_prefix": {
                    "references": [
                      "each.value.iam_role_use_name_prefix",
                      "each.value",
                      "var.self_managed_node_group_defaults.iam_role_use_name_prefix",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "post_bootstrap_user_data": {
                    "references": [
                      "each.value.post_bootstrap_user_data",
                      "each.value",
                      "var.self_managed_node_group_defaults.post_bootstrap_user_data",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "private_dns_name_options": {
                    "references": [
                      "each.value.private_dns_name_options",
                      "each.value",
                      "var.self_managed_node_group_defaults.private_dns_name_options",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "health_check_grace_period": {
                    "references": [
                      "each.value.health_check_grace_period",
                      "each.value",
                      "var.self_managed_node_group_defaults.health_check_grace_period",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "wait_for_capacity_timeout": {
                    "references": [
                      "each.value.wait_for_capacity_timeout",
                      "each.value",
                      "var.self_managed_node_group_defaults.wait_for_capacity_timeout",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "elastic_gpu_specifications": {
                    "references": [
                      "each.value.elastic_gpu_specifications",
                      "each.value",
                      "var.self_managed_node_group_defaults.elastic_gpu_specifications",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "iam_role_attach_cni_policy": {
                    "references": [
                      "each.value.iam_role_attach_cni_policy",
                      "each.value",
                      "var.self_managed_node_group_defaults.iam_role_attach_cni_policy",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "iam_role_policy_statements": {
                    "references": [
                      "each.value.iam_role_policy_statements",
                      "each.value",
                      "var.self_managed_node_group_defaults.iam_role_policy_statements",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "use_mixed_instances_policy": {
                    "references": [
                      "each.value.use_mixed_instances_policy",
                      "each.value",
                      "var.self_managed_node_group_defaults.use_mixed_instances_policy",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "create_iam_instance_profile": {
                    "references": [
                      "each.value.create_iam_instance_profile",
                      "each.value",
                      "var.self_managed_node_group_defaults.create_iam_instance_profile",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "instance_maintenance_policy": {
                    "references": [
                      "each.value.instance_maintenance_policy",
                      "each.value",
                      "var.self_managed_node_group_defaults.instance_maintenance_policy",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "launch_template_description": {
                    "references": [
                      "each.value.launch_template_description",
                      "each.value",
                      "var.self_managed_node_group_defaults.launch_template_description",
                      "var.self_managed_node_group_defaults",
                      "each.value.name",
                      "each.value",
                      "each.key"
                    ]
                  },
                  "iam_role_additional_policies": {
                    "references": [
                      "each.value",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "elastic_inference_accelerator": {
                    "references": [
                      "each.value.elastic_inference_accelerator",
                      "each.value",
                      "var.self_managed_node_group_defaults.elastic_inference_accelerator",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "iam_role_permissions_boundary": {
                    "references": [
                      "each.value.iam_role_permissions_boundary",
                      "each.value",
                      "var.self_managed_node_group_defaults.iam_role_permissions_boundary",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "launch_template_default_version": {
                    "references": [
                      "each.value.launch_template_default_version",
                      "each.value",
                      "var.self_managed_node_group_defaults.launch_template_default_version",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "launch_template_use_name_prefix": {
                    "references": [
                      "each.value.launch_template_use_name_prefix",
                      "each.value",
                      "var.self_managed_node_group_defaults.launch_template_use_name_prefix",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "ignore_failed_scaling_activities": {
                    "references": [
                      "each.value.ignore_failed_scaling_activities",
                      "each.value",
                      "var.self_managed_node_group_defaults.ignore_failed_scaling_activities",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "cluster_primary_security_group_id": {
                    "references": [
                      "each.value.attach_cluster_primary_security_group",
                      "each.value",
                      "var.self_managed_node_group_defaults.attach_cluster_primary_security_group",
                      "var.self_managed_node_group_defaults",
                      "aws_eks_cluster.this[0].vpc_config[0].cluster_security_group_id",
                      "aws_eks_cluster.this[0].vpc_config[0]",
                      "aws_eks_cluster.this[0].vpc_config",
                      "aws_eks_cluster.this[0]",
                      "aws_eks_cluster.this"
                    ]
                  },
                  "capacity_reservation_specification": {
                    "references": [
                      "each.value.capacity_reservation_specification",
                      "each.value",
                      "var.self_managed_node_group_defaults.capacity_reservation_specification",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "instance_initiated_shutdown_behavior": {
                    "references": [
                      "each.value.instance_initiated_shutdown_behavior",
                      "each.value",
                      "var.self_managed_node_group_defaults.instance_initiated_shutdown_behavior",
                      "var.self_managed_node_group_defaults"
                    ]
                  },
                  "update_launch_template_default_version": {
                    "references": [
                      "each.value.update_launch_template_default_version",
                      "each.value",
                      "var.self_managed_node_group_defaults.update_launch_template_default_version",
                      "var.self_managed_node_group_defaults"
                    ]
                  }
                },
                "for_each_expression": {
                  "references": [
                    "var.self_managed_node_groups",
                    "var.create"
                  ]
                }
              }
            }
          },
          "source": "terraform-aws-modules/eks/aws",
          "expressions": {
            "tags": {
              "references": [
                "local.tags",
                "local.karpenter.discovery_value",
                "local.karpenter"
              ]
            },
            "vpc_id": {
              "references": [
                "data.aws_vpc.vpc.id",
                "data.aws_vpc.vpc"
              ]
            },
            "subnet_ids": {
              "references": [
                "local.subnets.private.ids",
                "local.subnets.private",
                "local.subnets"
              ]
            },
            "cluster_name": {
              "references": [
                "local.cluster_name"
              ]
            },
            "access_entries": {
              "references": [
                "local.access_entries"
              ]
            },
            "cluster_addons": {},
            "create_kms_key": {
              "constant_value": false
            },
            "cluster_version": {
              "references": [
                "local.cluster_version"
              ]
            },
            "authentication_mode": {
              "constant_value": "API_AND_CONFIG_MAP"
            },
            "eks_managed_node_groups": {
              "references": [
                "local.instance_types",
                "local.min_size",
                "local.max_size",
                "local.desired_size",
                "local.karpenter.discovery_value",
                "local.karpenter"
              ]
            },
            "node_security_group_tags": {
              "references": [
                "local.tags",
                "local.cluster_name",
                "local.karpenter.discovery_value",
                "local.karpenter"
              ]
            },
            "cluster_encryption_config": {
              "references": [
                "aws_kms_key.eks.arn",
                "aws_kms_key.eks"
              ]
            },
            "cluster_endpoint_public_access": {
              "constant_value": true
            },
            "cluster_endpoint_private_access": {
              "constant_value": true
            },
            "enable_cluster_creator_admin_permissions": {
              "constant_value": false
            }
          },
          "version_constraint": "~> 20.35.0"
        },
        "nuon_dns": {
          "module": {
            "outputs": {
              "cert_manager": {
                "expression": {
                  "references": [
                    "helm_release.cert_manager.id",
                    "helm_release.cert_manager",
                    "helm_release.cert_manager.metadata[0].namespace",
                    "helm_release.cert_manager.metadata[0]",
                    "helm_release.cert_manager.metadata",
                    "helm_release.cert_manager",
                    "helm_release.cert_manager.metadata[0].name",
                    "helm_release.cert_manager.metadata[0]",
                    "helm_release.cert_manager.metadata",
                    "helm_release.cert_manager",
                    "helm_release.cert_manager.metadata[0].chart",
                    "helm_release.cert_manager.metadata[0]",
                    "helm_release.cert_manager.metadata",
                    "helm_release.cert_manager",
                    "helm_release.cert_manager.metadata[0].revision",
                    "helm_release.cert_manager.metadata[0]",
                    "helm_release.cert_manager.metadata",
                    "helm_release.cert_manager"
                  ]
                }
              },
              "external_dns": {
                "expression": {
                  "references": [
                    "helm_release.external_dns.id",
                    "helm_release.external_dns",
                    "helm_release.external_dns.metadata[0].namespace",
                    "helm_release.external_dns.metadata[0]",
                    "helm_release.external_dns.metadata",
                    "helm_release.external_dns",
                    "helm_release.external_dns.metadata[0].name",
                    "helm_release.external_dns.metadata[0]",
                    "helm_release.external_dns.metadata",
                    "helm_release.external_dns",
                    "helm_release.external_dns.metadata[0].chart",
                    "helm_release.external_dns.metadata[0]",
                    "helm_release.external_dns.metadata",
                    "helm_release.external_dns",
                    "helm_release.external_dns.metadata[0].revision",
                    "helm_release.external_dns.metadata[0]",
                    "helm_release.external_dns.metadata",
                    "helm_release.external_dns"
                  ]
                }
              },
              "ingress_nginx": {
                "expression": {
                  "references": [
                    "helm_release.ingress_nginx.id",
                    "helm_release.ingress_nginx",
                    "helm_release.ingress_nginx.metadata[0].namespace",
                    "helm_release.ingress_nginx.metadata[0]",
                    "helm_release.ingress_nginx.metadata",
                    "helm_release.ingress_nginx",
                    "helm_release.ingress_nginx.metadata[0].name",
                    "helm_release.ingress_nginx.metadata[0]",
                    "helm_release.ingress_nginx.metadata",
                    "helm_release.ingress_nginx",
                    "helm_release.ingress_nginx.metadata[0].chart",
                    "helm_release.ingress_nginx.metadata[0]",
                    "helm_release.ingress_nginx.metadata",
                    "helm_release.ingress_nginx",
                    "helm_release.ingress_nginx.metadata[0].revision",
                    "helm_release.ingress_nginx.metadata[0]",
                    "helm_release.ingress_nginx.metadata",
                    "helm_release.ingress_nginx"
                  ]
                }
              },
              "public_domain": {
                "expression": {
                  "references": [
                    "aws_route53_zone.public.name_servers",
                    "aws_route53_zone.public",
                    "aws_route53_zone.public.name",
                    "aws_route53_zone.public",
                    "aws_route53_zone.public.id",
                    "aws_route53_zone.public"
                  ]
                }
              },
              "internal_domain": {
                "expression": {
                  "references": [
                    "aws_route53_zone.internal.name_servers",
                    "aws_route53_zone.internal",
                    "aws_route53_zone.internal.name",
                    "aws_route53_zone.internal",
                    "aws_route53_zone.internal.id",
                    "aws_route53_zone.internal"
                  ]
                }
              },
              "alb_ingress_controller": {
                "expression": {
                  "references": [
                    "helm_release.alb_ingress_controller.id",
                    "helm_release.alb_ingress_controller",
                    "helm_release.alb_ingress_controller.metadata[0].namespace",
                    "helm_release.alb_ingress_controller.metadata[0]",
                    "helm_release.alb_ingress_controller.metadata",
                    "helm_release.alb_ingress_controller",
                    "helm_release.alb_ingress_controller.metadata[0].name",
                    "helm_release.alb_ingress_controller.metadata[0]",
                    "helm_release.alb_ingress_controller.metadata",
                    "helm_release.alb_ingress_controller",
                    "helm_release.alb_ingress_controller.metadata[0].chart",
                    "helm_release.alb_ingress_controller.metadata[0]",
                    "helm_release.alb_ingress_controller.metadata",
                    "helm_release.alb_ingress_controller",
                    "helm_release.alb_ingress_controller.metadata[0].revision",
                    "helm_release.alb_ingress_controller.metadata[0]",
                    "helm_release.alb_ingress_controller.metadata",
                    "helm_release.alb_ingress_controller"
                  ]
                }
              }
            },
            "resources": [
              {
                "mode": "managed",
                "name": "caa",
                "type": "aws_route53_record",
                "address": "aws_route53_record.caa",
                "expressions": {
                  "ttl": {
                    "constant_value": 300
                  },
                  "name": {
                    "references": [
                      "var.public_root_domain"
                    ]
                  },
                  "type": {
                    "constant_value": "CAA"
                  },
                  "records": {
                    "constant_value": [
                      "0 issue \"letsencrypt.org\"",
                      "0 issue \"amazon.com\"",
                      "0 issue \"amazonaws.com\"",
                      "0 issue \"amazontrust.com\""
                    ]
                  },
                  "zone_id": {
                    "references": [
                      "aws_route53_zone.public.zone_id",
                      "aws_route53_zone.public"
                    ]
                  }
                },
                "schema_version": 2,
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "internal",
                "type": "aws_route53_zone",
                "address": "aws_route53_zone.internal",
                "expressions": {
                  "vpc": [
                    {
                      "vpc_id": {
                        "references": [
                          "var.vpc_id"
                        ]
                      }
                    }
                  ],
                  "name": {
                    "references": [
                      "var.internal_root_domain"
                    ]
                  },
                  "force_destroy": {
                    "constant_value": true
                  }
                },
                "schema_version": 0,
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "public",
                "type": "aws_route53_zone",
                "address": "aws_route53_zone.public",
                "expressions": {
                  "name": {
                    "references": [
                      "var.public_root_domain"
                    ]
                  },
                  "force_destroy": {
                    "constant_value": true
                  }
                },
                "schema_version": 0,
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "alb_ingress_controller",
                "type": "helm_release",
                "address": "helm_release.alb_ingress_controller",
                "depends_on": [
                  "helm_release.cert_manager",
                  "module.alb_controller_irsa"
                ],
                "expressions": {
                  "set": [
                    {
                      "name": {
                        "constant_value": "enableCertManager"
                      },
                      "value": {
                        "constant_value": "apply"
                      }
                    },
                    {
                      "name": {
                        "constant_value": "clusterName"
                      },
                      "value": {
                        "references": [
                          "var.eks_cluster_name"
                        ]
                      }
                    },
                    {
                      "name": {
                        "constant_value": "rbac.create"
                      },
                      "value": {
                        "constant_value": "true"
                      }
                    },
                    {
                      "name": {
                        "constant_value": "serviceAccount.create"
                      },
                      "value": {
                        "constant_value": "true"
                      }
                    },
                    {
                      "name": {
                        "constant_value": "serviceAccount.name"
                      },
                      "value": {
                        "references": [
                          "local.alb_ingress_controller.service_account_name",
                          "local.alb_ingress_controller"
                        ]
                      }
                    },
                    {
                      "name": {
                        "constant_value": "serviceAccount.annotations.eks\\.amazonaws\\.com/role-arn"
                      },
                      "value": {
                        "references": [
                          "module.alb_controller_irsa.iam_role_arn",
                          "module.alb_controller_irsa"
                        ]
                      }
                    },
                    {
                      "name": {
                        "constant_value": "defaultTags.nuon_install_id"
                      },
                      "value": {
                        "references": [
                          "var.nuon_id"
                        ]
                      }
                    },
                    {
                      "name": {
                        "constant_value": "defaultTags.install\\.nuon\\.co\\/id"
                      },
                      "value": {
                        "references": [
                          "var.nuon_id"
                        ]
                      }
                    },
                    {
                      "name": {
                        "constant_value": "defaultTags.created_by"
                      },
                      "value": {
                        "constant_value": "alb-ingress-controller"
                      }
                    }
                  ],
                  "name": {
                    "constant_value": "alb-ingress-controller"
                  },
                  "chart": {
                    "constant_value": "aws-load-balancer-controller"
                  },
                  "values": {},
                  "version": {
                    "constant_value": "1.12.0"
                  },
                  "namespace": {
                    "references": [
                      "local.alb_ingress_controller.namespace",
                      "local.alb_ingress_controller"
                    ]
                  },
                  "repository": {
                    "constant_value": "https://aws.github.io/eks-charts"
                  },
                  "create_namespace": {
                    "constant_value": true
                  }
                },
                "schema_version": 1,
                "provider_config_key": "helm.main"
              },
              {
                "mode": "managed",
                "name": "cert_manager",
                "type": "helm_release",
                "address": "helm_release.cert_manager",
                "depends_on": [
                  "module.cert_manager_irsa"
                ],
                "expressions": {
                  "set": [
                    {
                      "name": {
                        "constant_value": "installCRDs"
                      },
                      "value": {
                        "constant_value": "true"
                      }
                    },
                    {
                      "name": {
                        "constant_value": "serviceAccount.annotations.eks\\.amazonaws\\.com/role-arn"
                      },
                      "value": {
                        "references": [
                          "module.cert_manager_irsa.iam_role_arn",
                          "module.cert_manager_irsa"
                        ]
                      }
                    },
                    {
                      "name": {
                        "constant_value": "securityContext.fsGroup"
                      },
                      "value": {
                        "constant_value": "1001"
                      }
                    }
                  ],
                  "name": {
                    "references": [
                      "local.cert_manager.name",
                      "local.cert_manager"
                    ]
                  },
                  "chart": {
                    "constant_value": "cert-manager"
                  },
                  "values": {},
                  "version": {
                    "constant_value": "v1.11.0"
                  },
                  "namespace": {
                    "references": [
                      "local.cert_manager.namespace",
                      "local.cert_manager"
                    ]
                  },
                  "repository": {
                    "constant_value": "https://charts.jetstack.io"
                  },
                  "create_namespace": {
                    "constant_value": true
                  }
                },
                "schema_version": 1,
                "provider_config_key": "helm.main"
              },
              {
                "mode": "managed",
                "name": "external_dns",
                "type": "helm_release",
                "address": "helm_release.external_dns",
                "depends_on": [
                  "module.external_dns_irsa"
                ],
                "expressions": {
                  "set": [
                    {
                      "name": {
                        "constant_value": "txt_owner_id"
                      },
                      "value": {
                        "references": [
                          "var.nuon_id"
                        ]
                      }
                    },
                    {
                      "name": {
                        "constant_value": "serviceAccount.annotations.eks\\.amazonaws\\.com/role-arn"
                      },
                      "value": {
                        "references": [
                          "module.external_dns_irsa.iam_role_arn",
                          "module.external_dns_irsa"
                        ]
                      }
                    },
                    {
                      "name": {
                        "constant_value": "domain_filters[0]"
                      },
                      "value": {
                        "references": [
                          "local.internal_domain"
                        ]
                      }
                    },
                    {
                      "name": {
                        "constant_value": "domain_filters[1]"
                      },
                      "value": {
                        "references": [
                          "local.public_domain"
                        ]
                      }
                    }
                  ],
                  "name": {
                    "references": [
                      "local.external_dns.name",
                      "local.external_dns"
                    ]
                  },
                  "chart": {
                    "constant_value": "external-dns"
                  },
                  "values": {
                    "references": [
                      "local.external_dns.value_file",
                      "local.external_dns"
                    ]
                  },
                  "version": {
                    "constant_value": "1.12.0"
                  },
                  "namespace": {
                    "references": [
                      "local.external_dns.namespace",
                      "local.external_dns"
                    ]
                  },
                  "repository": {
                    "constant_value": "https://kubernetes-sigs.github.io/external-dns/"
                  },
                  "create_namespace": {
                    "constant_value": true
                  }
                },
                "schema_version": 1,
                "provider_config_key": "helm.main"
              },
              {
                "mode": "managed",
                "name": "ingress_nginx",
                "type": "helm_release",
                "address": "helm_release.ingress_nginx",
                "depends_on": [
                  "helm_release.alb_ingress_controller"
                ],
                "expressions": {
                  "set": [
                    {
                      "name": {
                        "constant_value": "rbac.create"
                      },
                      "value": {
                        "constant_value": "true"
                      }
                    }
                  ],
                  "name": {
                    "references": [
                      "local.ingress_nginx.name",
                      "local.ingress_nginx"
                    ]
                  },
                  "chart": {
                    "constant_value": "ingress-nginx"
                  },
                  "values": {
                    "references": [
                      "local.ingress_nginx.tolerations",
                      "local.ingress_nginx",
                      "local.ingress_nginx.tolerations",
                      "local.ingress_nginx",
                      "local.ingress_nginx.tolerations",
                      "local.ingress_nginx"
                    ]
                  },
                  "timeout": {
                    "constant_value": 600
                  },
                  "version": {
                    "constant_value": "4.12.1"
                  },
                  "namespace": {
                    "references": [
                      "local.ingress_nginx.namespace",
                      "local.ingress_nginx"
                    ]
                  },
                  "repository": {
                    "constant_value": "https://kubernetes.github.io/ingress-nginx"
                  },
                  "create_namespace": {
                    "constant_value": true
                  }
                },
                "schema_version": 1,
                "provider_config_key": "helm.main"
              },
              {
                "mode": "managed",
                "name": "internal_cluster_issuer",
                "type": "kubectl_manifest",
                "address": "kubectl_manifest.internal_cluster_issuer",
                "depends_on": [
                  "helm_release.cert_manager"
                ],
                "expressions": {
                  "yaml_body": {
                    "references": [
                      "local.cert_manager.namespace",
                      "local.cert_manager",
                      "local.cert_manager_issuers.internal_issuer_name",
                      "local.cert_manager_issuers",
                      "local.cert_manager_issuers.email",
                      "local.cert_manager_issuers",
                      "local.cert_manager_issuers.server",
                      "local.cert_manager_issuers",
                      "local.cert_manager_issuers.internal_issuer_name",
                      "local.cert_manager_issuers",
                      "aws_route53_zone.internal.name",
                      "aws_route53_zone.internal",
                      "var.region",
                      "aws_route53_zone.internal.zone_id",
                      "aws_route53_zone.internal"
                    ]
                  }
                },
                "schema_version": 1,
                "provider_config_key": "kubectl.main"
              },
              {
                "mode": "managed",
                "name": "public_cluster_issuer",
                "type": "kubectl_manifest",
                "address": "kubectl_manifest.public_cluster_issuer",
                "depends_on": [
                  "helm_release.cert_manager"
                ],
                "expressions": {
                  "yaml_body": {
                    "references": [
                      "local.cert_manager.namespace",
                      "local.cert_manager",
                      "local.cert_manager_issuers.public_issuer_name",
                      "local.cert_manager_issuers",
                      "local.cert_manager_issuers.email",
                      "local.cert_manager_issuers",
                      "local.cert_manager_issuers.server",
                      "local.cert_manager_issuers",
                      "local.cert_manager_issuers.public_issuer_name",
                      "local.cert_manager_issuers",
                      "aws_route53_zone.public.name",
                      "aws_route53_zone.public",
                      "var.region",
                      "aws_route53_zone.public.zone_id",
                      "aws_route53_zone.public"
                    ]
                  }
                },
                "schema_version": 1,
                "provider_config_key": "kubectl.main"
              }
            ],
            "variables": {
              "tags": {
                "description": "List of custom tags to add to the install resources. Used for taxonomic purposes."
              },
              "region": {
                "description": "The region the cluster is in."
              },
              "vpc_id": {
                "description": "The ID of the AWS VPC to provision the sandbox in."
              },
              "nuon_id": {
                "description": "The nuon id for this install. Used for naming purposes."
              },
              "eks_cluster_name": {
                "description": "The name of the EKS Cluster created in eks.tf"
              },
              "public_root_domain": {
                "description": "The public root domain."
              },
              "internal_root_domain": {
                "description": "The internal root domain."
              },
              "eks_oidc_provider_arn": {
                "description": "The EKS Cluster OIDC Provider ARN"
              }
            },
            "module_calls": {
              "cert_manager_irsa": {
                "module": {
                  "outputs": {
                    "iam_role_arn": {
                      "expression": {
                        "references": [
                          "aws_iam_role.this[0].arn",
                          "aws_iam_role.this[0]",
                          "aws_iam_role.this"
                        ]
                      },
                      "description": "ARN of IAM role"
                    },
                    "iam_role_name": {
                      "expression": {
                        "references": [
                          "aws_iam_role.this[0].name",
                          "aws_iam_role.this[0]",
                          "aws_iam_role.this"
                        ]
                      },
                      "description": "Name of IAM role"
                    },
                    "iam_role_path": {
                      "expression": {
                        "references": [
                          "aws_iam_role.this[0].path",
                          "aws_iam_role.this[0]",
                          "aws_iam_role.this"
                        ]
                      },
                      "description": "Path of IAM role"
                    },
                    "iam_role_unique_id": {
                      "expression": {
                        "references": [
                          "aws_iam_role.this[0].unique_id",
                          "aws_iam_role.this[0]",
                          "aws_iam_role.this"
                        ]
                      },
                      "description": "Unique ID of IAM role"
                    }
                  },
                  "resources": [
                    {
                      "mode": "managed",
                      "name": "amazon_managed_service_prometheus",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.amazon_managed_service_prometheus",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.amazon_managed_service_prometheus[0].json",
                            "data.aws_iam_policy_document.amazon_managed_service_prometheus[0]",
                            "data.aws_iam_policy_document.amazon_managed_service_prometheus"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions to for Amazon Managed Service for Prometheus"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_amazon_managed_service_prometheus_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "appmesh_controller",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.appmesh_controller",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.appmesh_controller[0].json",
                            "data.aws_iam_policy_document.appmesh_controller[0]",
                            "data.aws_iam_policy_document.appmesh_controller"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions to for appmesh controller"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_appmesh_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "appmesh_envoy_proxy",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.appmesh_envoy_proxy",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.appmesh_envoy_proxy[0].json",
                            "data.aws_iam_policy_document.appmesh_envoy_proxy[0]",
                            "data.aws_iam_policy_document.appmesh_envoy_proxy"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions to for appmesh envoy proxy"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_appmesh_envoy_proxy_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "aws_gateway_controller",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.aws_gateway_controller",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.aws_gateway_controller[0].json",
                            "data.aws_iam_policy_document.aws_gateway_controller[0]",
                            "data.aws_iam_policy_document.aws_gateway_controller"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions for the AWS Gateway Controller"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_aws_gateway_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "cert_manager",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.cert_manager",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.cert_manager[0].json",
                            "data.aws_iam_policy_document.cert_manager[0]",
                            "data.aws_iam_policy_document.cert_manager"
                          ]
                        },
                        "description": {
                          "constant_value": "Cert Manager policy to allow management of Route53 hosted zone records"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_cert_manager_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "cluster_autoscaler",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.cluster_autoscaler",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.cluster_autoscaler[0].json",
                            "data.aws_iam_policy_document.cluster_autoscaler[0]",
                            "data.aws_iam_policy_document.cluster_autoscaler"
                          ]
                        },
                        "description": {
                          "constant_value": "Cluster autoscaler policy to allow examination and modification of EC2 Auto Scaling Groups"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_cluster_autoscaler_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "ebs_csi",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.ebs_csi",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.ebs_csi[0].json",
                            "data.aws_iam_policy_document.ebs_csi[0]",
                            "data.aws_iam_policy_document.ebs_csi"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions to manage EBS volumes via the container storage interface driver"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_ebs_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "efs_csi",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.efs_csi",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.efs_csi[0].json",
                            "data.aws_iam_policy_document.efs_csi[0]",
                            "data.aws_iam_policy_document.efs_csi"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions to manage EFS volumes via the container storage interface driver"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_efs_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "external_dns",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.external_dns",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.external_dns[0].json",
                            "data.aws_iam_policy_document.external_dns[0]",
                            "data.aws_iam_policy_document.external_dns"
                          ]
                        },
                        "description": {
                          "constant_value": "External DNS policy to allow management of Route53 hosted zone records"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_external_dns_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "external_secrets",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.external_secrets",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.external_secrets[0].json",
                            "data.aws_iam_policy_document.external_secrets[0]",
                            "data.aws_iam_policy_document.external_secrets"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions to for External Secrets to retrieve secrets from AWS SSM and AWS Secrets Manager"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_external_secrets_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "fsx_lustre_csi",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.fsx_lustre_csi",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.fsx_lustre_csi[0].json",
                            "data.aws_iam_policy_document.fsx_lustre_csi[0]",
                            "data.aws_iam_policy_document.fsx_lustre_csi"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions to manage FSx Lustre volumes via the container storage interface driver"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_fsx_lustre_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "fsx_openzfs_csi",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.fsx_openzfs_csi",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.fsx_openzfs_csi[0].json",
                            "data.aws_iam_policy_document.fsx_openzfs_csi[0]",
                            "data.aws_iam_policy_document.fsx_openzfs_csi"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions to manage FSx OpenZFS volumes via the container storage interface driver"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_fsx_openzfs_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "karpenter_controller",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.karpenter_controller",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.karpenter_controller[0].json",
                            "data.aws_iam_policy_document.karpenter_controller[0]",
                            "data.aws_iam_policy_document.karpenter_controller"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions to handle node termination events via the Node Termination Handler"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_karpenter_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "load_balancer_controller",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.load_balancer_controller",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.load_balancer_controller[0].json",
                            "data.aws_iam_policy_document.load_balancer_controller[0]",
                            "data.aws_iam_policy_document.load_balancer_controller"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions for AWS Load Balancer Controller addon"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_load_balancer_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "load_balancer_controller_targetgroup_only",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.load_balancer_controller_targetgroup_only",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.load_balancer_controller_targetgroup_only[0].json",
                            "data.aws_iam_policy_document.load_balancer_controller_targetgroup_only[0]",
                            "data.aws_iam_policy_document.load_balancer_controller_targetgroup_only"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions for AWS Load Balancer Controller addon in TargetGroup binding only scenario"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_load_balancer_controller_targetgroup_binding_only_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "mountpoint_s3_csi",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.mountpoint_s3_csi",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.mountpoint_s3_csi[0].json",
                            "data.aws_iam_policy_document.mountpoint_s3_csi[0]",
                            "data.aws_iam_policy_document.mountpoint_s3_csi"
                          ]
                        },
                        "description": {
                          "constant_value": "Mountpoint S3 CSI driver policy to allow management of S3"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_mountpoint_s3_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "node_termination_handler",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.node_termination_handler",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.node_termination_handler[0].json",
                            "data.aws_iam_policy_document.node_termination_handler[0]",
                            "data.aws_iam_policy_document.node_termination_handler"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions to handle node termination events via the Node Termination Handler"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_node_termination_handler_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "velero",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.velero",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.velero[0].json",
                            "data.aws_iam_policy_document.velero[0]",
                            "data.aws_iam_policy_document.velero"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides Velero permissions to backup and restore cluster resources"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_velero_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "vpc_cni",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.vpc_cni",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.vpc_cni[0].json",
                            "data.aws_iam_policy_document.vpc_cni[0]",
                            "data.aws_iam_policy_document.vpc_cni"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides the Amazon VPC CNI Plugin (amazon-vpc-cni-k8s) the permissions it requires to modify the IPv4/IPv6 address configuration on your EKS worker nodes"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_vpc_cni_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "this",
                      "type": "aws_iam_role",
                      "address": "aws_iam_role.this",
                      "expressions": {
                        "name": {
                          "references": [
                            "var.role_name"
                          ]
                        },
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "description": {
                          "references": [
                            "var.role_description"
                          ]
                        },
                        "name_prefix": {
                          "references": [
                            "var.role_name_prefix"
                          ]
                        },
                        "assume_role_policy": {
                          "references": [
                            "data.aws_iam_policy_document.this[0].json",
                            "data.aws_iam_policy_document.this[0]",
                            "data.aws_iam_policy_document.this"
                          ]
                        },
                        "max_session_duration": {
                          "references": [
                            "var.max_session_duration"
                          ]
                        },
                        "permissions_boundary": {
                          "references": [
                            "var.role_permissions_boundary_arn"
                          ]
                        },
                        "force_detach_policies": {
                          "references": [
                            "var.force_detach_policies"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "amazon_cloudwatch_observability",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.amazon_cloudwatch_observability",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "each.value"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "for_each_expression": {
                        "references": [
                          "local.partition",
                          "local.partition",
                          "var.create_role",
                          "var.attach_cloudwatch_observability_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "amazon_managed_service_prometheus",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.amazon_managed_service_prometheus",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.amazon_managed_service_prometheus[0].arn",
                            "aws_iam_policy.amazon_managed_service_prometheus[0]",
                            "aws_iam_policy.amazon_managed_service_prometheus"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_amazon_managed_service_prometheus_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "appmesh_controller",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.appmesh_controller",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.appmesh_controller[0].arn",
                            "aws_iam_policy.appmesh_controller[0]",
                            "aws_iam_policy.appmesh_controller"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_appmesh_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "appmesh_envoy_proxy",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.appmesh_envoy_proxy",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.appmesh_envoy_proxy[0].arn",
                            "aws_iam_policy.appmesh_envoy_proxy[0]",
                            "aws_iam_policy.appmesh_envoy_proxy"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_appmesh_envoy_proxy_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "aws_gateway_controller",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.aws_gateway_controller",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.aws_gateway_controller[0].arn",
                            "aws_iam_policy.aws_gateway_controller[0]",
                            "aws_iam_policy.aws_gateway_controller"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_aws_gateway_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "cert_manager",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.cert_manager",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.cert_manager[0].arn",
                            "aws_iam_policy.cert_manager[0]",
                            "aws_iam_policy.cert_manager"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_cert_manager_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "cluster_autoscaler",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.cluster_autoscaler",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.cluster_autoscaler[0].arn",
                            "aws_iam_policy.cluster_autoscaler[0]",
                            "aws_iam_policy.cluster_autoscaler"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_cluster_autoscaler_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "ebs_csi",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.ebs_csi",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.ebs_csi[0].arn",
                            "aws_iam_policy.ebs_csi[0]",
                            "aws_iam_policy.ebs_csi"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_ebs_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "efs_csi",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.efs_csi",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.efs_csi[0].arn",
                            "aws_iam_policy.efs_csi[0]",
                            "aws_iam_policy.efs_csi"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_efs_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "external_dns",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.external_dns",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.external_dns[0].arn",
                            "aws_iam_policy.external_dns[0]",
                            "aws_iam_policy.external_dns"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_external_dns_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "external_secrets",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.external_secrets",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.external_secrets[0].arn",
                            "aws_iam_policy.external_secrets[0]",
                            "aws_iam_policy.external_secrets"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_external_secrets_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "fsx_lustre_csi",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.fsx_lustre_csi",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.fsx_lustre_csi[0].arn",
                            "aws_iam_policy.fsx_lustre_csi[0]",
                            "aws_iam_policy.fsx_lustre_csi"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_fsx_lustre_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "fsx_openzfs_csi",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.fsx_openzfs_csi",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.fsx_openzfs_csi[0].arn",
                            "aws_iam_policy.fsx_openzfs_csi[0]",
                            "aws_iam_policy.fsx_openzfs_csi"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_fsx_openzfs_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "karpenter_controller",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.karpenter_controller",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.karpenter_controller[0].arn",
                            "aws_iam_policy.karpenter_controller[0]",
                            "aws_iam_policy.karpenter_controller"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_karpenter_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "load_balancer_controller",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.load_balancer_controller",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.load_balancer_controller[0].arn",
                            "aws_iam_policy.load_balancer_controller[0]",
                            "aws_iam_policy.load_balancer_controller"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_load_balancer_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "load_balancer_controller_targetgroup_only",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.load_balancer_controller_targetgroup_only",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.load_balancer_controller_targetgroup_only[0].arn",
                            "aws_iam_policy.load_balancer_controller_targetgroup_only[0]",
                            "aws_iam_policy.load_balancer_controller_targetgroup_only"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_load_balancer_controller_targetgroup_binding_only_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "mountpoint_s3_csi",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.mountpoint_s3_csi",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.mountpoint_s3_csi[0].arn",
                            "aws_iam_policy.mountpoint_s3_csi[0]",
                            "aws_iam_policy.mountpoint_s3_csi"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_mountpoint_s3_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "node_termination_handler",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.node_termination_handler",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.node_termination_handler[0].arn",
                            "aws_iam_policy.node_termination_handler[0]",
                            "aws_iam_policy.node_termination_handler"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_node_termination_handler_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "this",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.this",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "each.value"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "for_each_expression": {
                        "references": [
                          "var.role_policy_arns",
                          "var.create_role"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "velero",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.velero",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.velero[0].arn",
                            "aws_iam_policy.velero[0]",
                            "aws_iam_policy.velero"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_velero_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "vpc_cni",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.vpc_cni",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.vpc_cni[0].arn",
                            "aws_iam_policy.vpc_cni[0]",
                            "aws_iam_policy.vpc_cni"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_vpc_cni_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "current",
                      "type": "aws_caller_identity",
                      "address": "data.aws_caller_identity.current",
                      "schema_version": 0,
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "amazon_managed_service_prometheus",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.amazon_managed_service_prometheus",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "aps:RemoteWrite",
                                "aps:QueryMetrics",
                                "aps:GetSeries",
                                "aps:GetLabels",
                                "aps:GetMetricMetadata"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.amazon_managed_service_prometheus_workspace_arns"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_amazon_managed_service_prometheus_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "appmesh_controller",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.appmesh_controller",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "appmesh:ListVirtualRouters",
                                "appmesh:ListVirtualServices",
                                "appmesh:ListRoutes",
                                "appmesh:ListGatewayRoutes",
                                "appmesh:ListMeshes",
                                "appmesh:ListVirtualNodes",
                                "appmesh:ListVirtualGateways",
                                "appmesh:DescribeMesh",
                                "appmesh:DescribeVirtualRouter",
                                "appmesh:DescribeRoute",
                                "appmesh:DescribeVirtualNode",
                                "appmesh:DescribeVirtualGateway",
                                "appmesh:DescribeGatewayRoute",
                                "appmesh:DescribeVirtualService",
                                "appmesh:CreateMesh",
                                "appmesh:CreateVirtualRouter",
                                "appmesh:CreateVirtualGateway",
                                "appmesh:CreateVirtualService",
                                "appmesh:CreateGatewayRoute",
                                "appmesh:CreateRoute",
                                "appmesh:CreateVirtualNode",
                                "appmesh:UpdateMesh",
                                "appmesh:UpdateRoute",
                                "appmesh:UpdateVirtualGateway",
                                "appmesh:UpdateVirtualRouter",
                                "appmesh:UpdateGatewayRoute",
                                "appmesh:UpdateVirtualService",
                                "appmesh:UpdateVirtualNode",
                                "appmesh:DeleteMesh",
                                "appmesh:DeleteRoute",
                                "appmesh:DeleteVirtualRouter",
                                "appmesh:DeleteGatewayRoute",
                                "appmesh:DeleteVirtualService",
                                "appmesh:DeleteVirtualNode",
                                "appmesh:DeleteVirtualGateway"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "iam:CreateServiceLinkedRole"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "references": [
                                    "local.dns_suffix"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "iam:AWSServiceName"
                                }
                              }
                            ],
                            "resources": {
                              "references": [
                                "local.partition",
                                "local.dns_suffix"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "acm:ListCertificates",
                                "acm:DescribeCertificate",
                                "acm-pca:DescribeCertificateAuthority",
                                "acm-pca:ListCertificateAuthorities"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "servicediscovery:CreateService",
                                "servicediscovery:DeleteService",
                                "servicediscovery:GetService",
                                "servicediscovery:GetInstance",
                                "servicediscovery:RegisterInstance",
                                "servicediscovery:DeregisterInstance",
                                "servicediscovery:ListInstances",
                                "servicediscovery:ListNamespaces",
                                "servicediscovery:ListServices",
                                "servicediscovery:GetInstancesHealthStatus",
                                "servicediscovery:UpdateInstanceCustomHealthStatus",
                                "servicediscovery:GetOperation",
                                "route53:GetHealthCheck",
                                "route53:CreateHealthCheck",
                                "route53:UpdateHealthCheck",
                                "route53:ChangeResourceRecordSets",
                                "route53:DeleteHealthCheck"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_appmesh_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "appmesh_envoy_proxy",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.appmesh_envoy_proxy",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "appmesh:StreamAggregatedResources"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "acm:ExportCertificate",
                                "acm-pca:GetCertificateAuthorityCertificate"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_appmesh_envoy_proxy_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "aws_gateway_controller",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.aws_gateway_controller",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "vpc-lattice:*",
                                "ec2:DescribeVpcs",
                                "ec2:DescribeSubnets",
                                "ec2:DescribeTags",
                                "ec2:DescribeSecurityGroups",
                                "logs:CreateLogDelivery",
                                "logs:GetLogDelivery",
                                "logs:DescribeLogGroups",
                                "logs:PutResourcePolicy",
                                "logs:DescribeResourcePolicies",
                                "logs:UpdateLogDelivery",
                                "logs:DeleteLogDelivery",
                                "logs:ListLogDeliveries",
                                "tag:GetResources",
                                "firehose:TagDeliveryStream",
                                "s3:GetBucketPolicy",
                                "s3:PutBucketPolicy"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "iam:CreateServiceLinkedRole"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "references": [
                                    "local.dns_suffix"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "iam:AWSServiceName"
                                }
                              }
                            ],
                            "resources": {
                              "references": [
                                "local.partition",
                                "local.dns_suffix"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "iam:CreateServiceLinkedRole"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "references": [
                                    "local.dns_suffix"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "iam:AWSServiceName"
                                }
                              }
                            ],
                            "resources": {
                              "references": [
                                "local.partition",
                                "local.dns_suffix"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_aws_gateway_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "cert_manager",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.cert_manager",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "route53:GetChange"
                              ]
                            },
                            "resources": {
                              "references": [
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "route53:ChangeResourceRecordSets",
                                "route53:ListResourceRecordSets"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.cert_manager_hosted_zone_arns"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "route53:ListHostedZonesByName"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_cert_manager_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "cluster_autoscaler",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.cluster_autoscaler",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "autoscaling:DescribeAutoScalingGroups",
                                "autoscaling:DescribeAutoScalingInstances",
                                "autoscaling:DescribeLaunchConfigurations",
                                "autoscaling:DescribeScalingActivities",
                                "autoscaling:DescribeTags",
                                "ec2:DescribeLaunchTemplateVersions",
                                "ec2:DescribeInstanceTypes",
                                "eks:DescribeNodegroup",
                                "ec2:DescribeImages",
                                "ec2:GetInstanceTypesFromInstanceRequirements"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_cluster_autoscaler_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "ebs_csi",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.ebs_csi",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:CreateSnapshot",
                                "ec2:AttachVolume",
                                "ec2:DetachVolume",
                                "ec2:ModifyVolume",
                                "ec2:DescribeAvailabilityZones",
                                "ec2:DescribeInstances",
                                "ec2:DescribeSnapshots",
                                "ec2:DescribeTags",
                                "ec2:DescribeVolumes",
                                "ec2:DescribeVolumesModifications",
                                "ec2:EnableFastSnapshotRestores"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:CreateTags"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringEquals"
                                },
                                "values": {
                                  "constant_value": [
                                    "CreateVolume",
                                    "CreateSnapshot"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "ec2:CreateAction"
                                }
                              }
                            ],
                            "resources": {
                              "references": [
                                "local.partition",
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:DeleteTags"
                              ]
                            },
                            "resources": {
                              "references": [
                                "local.partition",
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:CreateVolume"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "constant_value": [
                                    true
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:RequestTag/ebs.csi.aws.com/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "references": [
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:CreateVolume"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "constant_value": [
                                    "*"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:RequestTag/CSIVolumeName"
                                }
                              }
                            ],
                            "resources": {
                              "references": [
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:CreateVolume"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "constant_value": [
                                    "owned"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:RequestTag/kubernetes.io/cluster/*"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:CreateVolume"
                              ]
                            },
                            "resources": {
                              "references": [
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:DeleteVolume"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "constant_value": [
                                    true
                                  ]
                                },
                                "variable": {
                                  "constant_value": "ec2:ResourceTag/ebs.csi.aws.com/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:DeleteVolume"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "constant_value": [
                                    "*"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "ec2:ResourceTag/CSIVolumeName"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:DeleteVolume"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "constant_value": [
                                    "owned"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "ec2:ResourceTag/kubernetes.io/cluster/*"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:DeleteVolume"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "constant_value": [
                                    "*"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "ec2:ResourceTag/kubernetes.io/created-for/pvc/name"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:DeleteSnapshot"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "constant_value": [
                                    "*"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "ec2:ResourceTag/CSIVolumeSnapshotName"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:DeleteSnapshot"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "constant_value": [
                                    true
                                  ]
                                },
                                "variable": {
                                  "constant_value": "ec2:ResourceTag/ebs.csi.aws.com/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_ebs_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "efs_csi",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.efs_csi",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:DescribeAvailabilityZones",
                                "elasticfilesystem:DescribeAccessPoints",
                                "elasticfilesystem:DescribeFileSystems",
                                "elasticfilesystem:DescribeMountTargets"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticfilesystem:CreateAccessPoint"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "constant_value": [
                                    "true"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:RequestTag/efs.csi.aws.com/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticfilesystem:TagResource"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "constant_value": [
                                    "true"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:RequestTag/efs.csi.aws.com/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticfilesystem:DeleteAccessPoint"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringEquals"
                                },
                                "values": {
                                  "constant_value": [
                                    "true"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:ResourceTag/efs.csi.aws.com/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_efs_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "external_dns",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.external_dns",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "route53:ChangeResourceRecordSets"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.external_dns_hosted_zone_arns"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "route53:ListHostedZones",
                                "route53:ListResourceRecordSets",
                                "route53:ListTagsForResources"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_external_dns_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "external_secrets",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.external_secrets",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "ssm:DescribeParameters"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "secretsmanager:ListSecrets",
                                "secretsmanager:BatchGetSecretValue"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "secretsmanager:GetResourcePolicy",
                                "secretsmanager:GetSecretValue",
                                "secretsmanager:DescribeSecret",
                                "secretsmanager:ListSecretVersionIds"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.external_secrets_secrets_manager_arns"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_external_secrets_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "fsx_lustre_csi",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.fsx_lustre_csi",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "iam:CreateServiceLinkedRole",
                                "iam:AttachRolePolicy",
                                "iam:PutRolePolicy"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.fsx_lustre_csi_service_role_arns"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "iam:CreateServiceLinkedRole"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "references": [
                                    "local.dns_suffix"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "iam:AWSServiceName"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "s3:ListBucket",
                                "fsx:CreateFileSystem",
                                "fsx:DeleteFileSystem",
                                "fsx:DescribeFileSystems",
                                "fsx:TagResource",
                                "fsx:UpdateFileSystem"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_fsx_lustre_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "fsx_openzfs_csi",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.fsx_openzfs_csi",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "iam:CreateServiceLinkedRole",
                                "iam:AttachRolePolicy",
                                "iam:PutRolePolicy"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.fsx_openzfs_csi_service_role_arns"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "iam:CreateServiceLinkedRole"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "references": [
                                    "local.dns_suffix"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "iam:AWSServiceName"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "fsx:CreateFileSystem",
                                "fsx:UpdateFileSystem",
                                "fsx:DeleteFileSystem",
                                "fsx:DescribeFileSystems",
                                "fsx:CreateVolume",
                                "fsx:DeleteVolume",
                                "fsx:DescribeVolumes",
                                "fsx:CreateSnapshot",
                                "fsx:DeleteSnapshot",
                                "fsx:DescribeSnapshots",
                                "fsx:TagResource",
                                "fsx:ListTagsForResource"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_fsx_openzfs_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "karpenter_controller",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.karpenter_controller",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:CreateFleet",
                                "ec2:CreateLaunchTemplate",
                                "ec2:CreateTags",
                                "ec2:DescribeAvailabilityZones",
                                "ec2:DescribeImages",
                                "ec2:DescribeInstances",
                                "ec2:DescribeInstanceTypeOfferings",
                                "ec2:DescribeInstanceTypes",
                                "ec2:DescribeLaunchTemplates",
                                "ec2:DescribeSecurityGroups",
                                "ec2:DescribeSpotPriceHistory",
                                "ec2:DescribeSubnets",
                                "pricing:GetProducts"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:TerminateInstances",
                                "ec2:DeleteLaunchTemplate"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringEquals"
                                },
                                "values": {
                                  "references": [
                                    "local.karpenter_controller_cluster_name"
                                  ]
                                },
                                "variable": {
                                  "references": [
                                    "var.karpenter_tag_key"
                                  ]
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:RunInstances"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringEquals"
                                },
                                "values": {
                                  "references": [
                                    "local.karpenter_controller_cluster_name"
                                  ]
                                },
                                "variable": {
                                  "references": [
                                    "var.karpenter_tag_key"
                                  ]
                                }
                              }
                            ],
                            "resources": {
                              "references": [
                                "local.partition",
                                "local.account_id"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:RunInstances"
                              ]
                            },
                            "resources": {
                              "references": [
                                "local.partition",
                                "local.partition",
                                "local.account_id",
                                "local.partition",
                                "local.account_id",
                                "local.partition",
                                "local.account_id",
                                "local.partition",
                                "local.account_id",
                                "local.partition",
                                "local.account_id",
                                "local.partition",
                                "var.karpenter_subnet_account_id",
                                "local.account_id"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ssm:GetParameter"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.karpenter_controller_ssm_parameter_arns"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "iam:PassRole"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.karpenter_controller_node_iam_role_arns"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "eks:DescribeCluster"
                              ]
                            },
                            "resources": {
                              "references": [
                                "local.partition",
                                "local.region",
                                "local.account_id",
                                "local.karpenter_controller_cluster_name"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_karpenter_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "load_balancer_controller",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.load_balancer_controller",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "iam:CreateServiceLinkedRole"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringEquals"
                                },
                                "values": {
                                  "references": [
                                    "local.dns_suffix"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "iam:AWSServiceName"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:DescribeAccountAttributes",
                                "ec2:DescribeAddresses",
                                "ec2:DescribeAvailabilityZones",
                                "ec2:DescribeInternetGateways",
                                "ec2:DescribeVpcs",
                                "ec2:DescribeVpcPeeringConnections",
                                "ec2:DescribeSubnets",
                                "ec2:DescribeSecurityGroups",
                                "ec2:DescribeInstances",
                                "ec2:DescribeNetworkInterfaces",
                                "ec2:DescribeTags",
                                "ec2:GetCoipPoolUsage",
                                "ec2:DescribeCoipPools",
                                "ec2:GetSecurityGroupsForVpc",
                                "ec2:DescribeIpamPools",
                                "ec2:DescribeRouteTables",
                                "elasticloadbalancing:DescribeLoadBalancers",
                                "elasticloadbalancing:DescribeLoadBalancerAttributes",
                                "elasticloadbalancing:DescribeListeners",
                                "elasticloadbalancing:DescribeListenerCertificates",
                                "elasticloadbalancing:DescribeSSLPolicies",
                                "elasticloadbalancing:DescribeRules",
                                "elasticloadbalancing:DescribeTargetGroups",
                                "elasticloadbalancing:DescribeTargetGroupAttributes",
                                "elasticloadbalancing:DescribeTargetHealth",
                                "elasticloadbalancing:DescribeTags",
                                "elasticloadbalancing:DescribeTrustStores",
                                "elasticloadbalancing:DescribeListenerAttributes",
                                "elasticloadbalancing:DescribeCapacityReservation"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "cognito-idp:DescribeUserPoolClient",
                                "acm:ListCertificates",
                                "acm:DescribeCertificate",
                                "iam:ListServerCertificates",
                                "iam:GetServerCertificate",
                                "waf-regional:GetWebACL",
                                "waf-regional:GetWebACLForResource",
                                "waf-regional:AssociateWebACL",
                                "waf-regional:DisassociateWebACL",
                                "wafv2:GetWebACL",
                                "wafv2:GetWebACLForResource",
                                "wafv2:AssociateWebACL",
                                "wafv2:DisassociateWebACL",
                                "shield:GetSubscriptionState",
                                "shield:DescribeProtection",
                                "shield:CreateProtection",
                                "shield:DeleteProtection"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:AuthorizeSecurityGroupIngress",
                                "ec2:RevokeSecurityGroupIngress"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:CreateSecurityGroup"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:CreateTags"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringEquals"
                                },
                                "values": {
                                  "constant_value": [
                                    "CreateSecurityGroup"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "ec2:CreateAction"
                                }
                              },
                              {
                                "test": {
                                  "constant_value": "Null"
                                },
                                "values": {
                                  "constant_value": [
                                    "false"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:RequestTag/elbv2.k8s.aws/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "references": [
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:CreateTags",
                                "ec2:DeleteTags"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "Null"
                                },
                                "values": {
                                  "constant_value": [
                                    "true"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:RequestTag/elbv2.k8s.aws/cluster"
                                }
                              },
                              {
                                "test": {
                                  "constant_value": "Null"
                                },
                                "values": {
                                  "constant_value": [
                                    "false"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:ResourceTag/elbv2.k8s.aws/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "references": [
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:AuthorizeSecurityGroupIngress",
                                "ec2:RevokeSecurityGroupIngress",
                                "ec2:DeleteSecurityGroup"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "Null"
                                },
                                "values": {
                                  "constant_value": [
                                    "false"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:ResourceTag/elbv2.k8s.aws/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticloadbalancing:CreateLoadBalancer",
                                "elasticloadbalancing:CreateTargetGroup"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "Null"
                                },
                                "values": {
                                  "constant_value": [
                                    "false"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:RequestTag/elbv2.k8s.aws/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticloadbalancing:CreateListener",
                                "elasticloadbalancing:DeleteListener",
                                "elasticloadbalancing:CreateRule",
                                "elasticloadbalancing:DeleteRule"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticloadbalancing:AddTags",
                                "elasticloadbalancing:RemoveTags"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "Null"
                                },
                                "values": {
                                  "constant_value": [
                                    "true"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:RequestTag/elbv2.k8s.aws/cluster"
                                }
                              },
                              {
                                "test": {
                                  "constant_value": "Null"
                                },
                                "values": {
                                  "constant_value": [
                                    "false"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:ResourceTag/elbv2.k8s.aws/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "references": [
                                "local.partition",
                                "local.partition",
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticloadbalancing:AddTags",
                                "elasticloadbalancing:RemoveTags"
                              ]
                            },
                            "resources": {
                              "references": [
                                "local.partition",
                                "local.partition",
                                "local.partition",
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticloadbalancing:ModifyLoadBalancerAttributes",
                                "elasticloadbalancing:SetIpAddressType",
                                "elasticloadbalancing:SetSecurityGroups",
                                "elasticloadbalancing:SetSubnets",
                                "elasticloadbalancing:DeleteLoadBalancer",
                                "elasticloadbalancing:ModifyTargetGroup",
                                "elasticloadbalancing:ModifyTargetGroupAttributes",
                                "elasticloadbalancing:DeleteTargetGroup",
                                "elasticloadbalancing:ModifyListenerAttributes",
                                "elasticloadbalancing:ModifyCapacityReservation",
                                "elasticloadbalancing:ModifyIpPools"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "Null"
                                },
                                "values": {
                                  "constant_value": [
                                    "false"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:ResourceTag/elbv2.k8s.aws/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticloadbalancing:AddTags"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringEquals"
                                },
                                "values": {
                                  "constant_value": [
                                    "CreateTargetGroup",
                                    "CreateLoadBalancer"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "elasticloadbalancing:CreateAction"
                                }
                              },
                              {
                                "test": {
                                  "constant_value": "Null"
                                },
                                "values": {
                                  "constant_value": [
                                    "false"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:RequestTag/elbv2.k8s.aws/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "references": [
                                "local.partition",
                                "local.partition",
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticloadbalancing:RegisterTargets",
                                "elasticloadbalancing:DeregisterTargets"
                              ]
                            },
                            "resources": {
                              "references": [
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticloadbalancing:SetWebAcl",
                                "elasticloadbalancing:ModifyListener",
                                "elasticloadbalancing:AddListenerCertificates",
                                "elasticloadbalancing:RemoveListenerCertificates",
                                "elasticloadbalancing:ModifyRule",
                                "elasticloadbalancing:SetRulePriorities"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_load_balancer_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "load_balancer_controller_targetgroup_only",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.load_balancer_controller_targetgroup_only",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:DescribeSecurityGroups",
                                "ec2:DescribeInstances",
                                "ec2:DescribeVpcs",
                                "ec2:AuthorizeSecurityGroupIngress",
                                "ec2:RevokeSecurityGroupIngress",
                                "elasticloadbalancing:DescribeTargetGroups",
                                "elasticloadbalancing:DescribeTargetHealth"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticloadbalancing:ModifyTargetGroup",
                                "elasticloadbalancing:ModifyTargetGroupAttributes",
                                "elasticloadbalancing:RegisterTargets",
                                "elasticloadbalancing:DeregisterTargets"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.load_balancer_controller_targetgroup_arns"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_load_balancer_controller_targetgroup_binding_only_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "mountpoint_s3_csi",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.mountpoint_s3_csi",
                      "expressions": {
                        "statement": [
                          {
                            "sid": {
                              "constant_value": "MountpointFullBucketAccess"
                            },
                            "actions": {
                              "constant_value": [
                                "s3:ListBucket"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.mountpoint_s3_csi_bucket_arns",
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "sid": {
                              "constant_value": "MountpointFullObjectAccess"
                            },
                            "actions": {
                              "constant_value": [
                                "s3:GetObject",
                                "s3:PutObject",
                                "s3:AbortMultipartUpload",
                                "s3:DeleteObject"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.mountpoint_s3_csi_path_arns"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_mountpoint_s3_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "node_termination_handler",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.node_termination_handler",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "autoscaling:CompleteLifecycleAction",
                                "autoscaling:DescribeAutoScalingInstances",
                                "autoscaling:DescribeTags",
                                "ec2:DescribeInstances"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "sqs:DeleteMessage",
                                "sqs:ReceiveMessage"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.node_termination_handler_sqs_queue_arns"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_node_termination_handler_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "this",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.this",
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "velero",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.velero",
                      "expressions": {
                        "statement": [
                          {
                            "sid": {
                              "constant_value": "Ec2ReadWrite"
                            },
                            "actions": {
                              "constant_value": [
                                "ec2:DescribeVolumes",
                                "ec2:DescribeSnapshots",
                                "ec2:CreateTags",
                                "ec2:CreateVolume",
                                "ec2:CreateSnapshot",
                                "ec2:DeleteSnapshot"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "sid": {
                              "constant_value": "S3ReadWrite"
                            },
                            "actions": {
                              "constant_value": [
                                "s3:GetObject",
                                "s3:DeleteObject",
                                "s3:PutObject",
                                "s3:PutObjectTagging",
                                "s3:AbortMultipartUpload",
                                "s3:ListMultipartUploadParts"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.velero_s3_bucket_arns"
                              ]
                            }
                          },
                          {
                            "sid": {
                              "constant_value": "S3List"
                            },
                            "actions": {
                              "constant_value": [
                                "s3:ListBucket"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.velero_s3_bucket_arns"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_velero_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "vpc_cni",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.vpc_cni",
                      "expressions": {
                        "statement": [
                          {
                            "sid": {
                              "constant_value": "CreateTags"
                            },
                            "actions": {
                              "constant_value": [
                                "ec2:CreateTags"
                              ]
                            },
                            "resources": {
                              "references": [
                                "local.partition"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_vpc_cni_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "current",
                      "type": "aws_partition",
                      "address": "data.aws_partition.current",
                      "schema_version": 0,
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "current",
                      "type": "aws_region",
                      "address": "data.aws_region.current",
                      "schema_version": 0,
                      "provider_config_key": "aws"
                    }
                  ],
                  "variables": {
                    "tags": {
                      "default": {},
                      "description": "A map of tags to add the the IAM role"
                    },
                    "role_name": {
                      "description": "Name of IAM role"
                    },
                    "role_path": {
                      "default": "/",
                      "description": "Path of IAM role"
                    },
                    "create_role": {
                      "default": true,
                      "description": "Whether to create a role"
                    },
                    "oidc_providers": {
                      "default": {},
                      "description": "Map of OIDC providers where each provider map should contain the `provider_arn` and `namespace_service_accounts`"
                    },
                    "role_description": {
                      "description": "IAM Role description"
                    },
                    "role_name_prefix": {
                      "description": "IAM role name prefix"
                    },
                    "role_policy_arns": {
                      "default": {},
                      "description": "ARNs of any policies to attach to the IAM role"
                    },
                    "karpenter_tag_key": {
                      "default": "karpenter.sh/discovery",
                      "description": "Tag key (`{key = value}`) applied to resources launched by Karpenter through the Karpenter provisioner"
                    },
                    "policy_name_prefix": {
                      "default": "AmazonEKS_",
                      "description": "IAM policy name prefix"
                    },
                    "ebs_csi_kms_cmk_ids": {
                      "default": [],
                      "description": "KMS CMK IDs to allow EBS CSI to manage encrypted volumes"
                    },
                    "vpc_cni_enable_ipv4": {
                      "default": false,
                      "description": "Determines whether to enable IPv4 permissions for VPC CNI policy"
                    },
                    "vpc_cni_enable_ipv6": {
                      "default": false,
                      "description": "Determines whether to enable IPv6 permissions for VPC CNI policy"
                    },
                    "attach_velero_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Velero IAM policy to the role"
                    },
                    "max_session_duration": {
                      "description": "Maximum CLI/API session duration in seconds between 3600 and 43200"
                    },
                    "attach_ebs_csi_policy": {
                      "default": false,
                      "description": "Determines whether to attach the EBS CSI IAM policy to the role"
                    },
                    "attach_efs_csi_policy": {
                      "default": false,
                      "description": "Determines whether to attach the EFS CSI IAM policy to the role"
                    },
                    "attach_vpc_cni_policy": {
                      "default": false,
                      "description": "Determines whether to attach the VPC CNI IAM policy to the role"
                    },
                    "force_detach_policies": {
                      "default": true,
                      "description": "Whether policies should be detached from this role when destroying"
                    },
                    "velero_s3_bucket_arns": {
                      "default": [
                        "*"
                      ],
                      "description": "List of S3 Bucket ARNs that Velero needs access to in order to backup and restore cluster resources"
                    },
                    "allow_self_assume_role": {
                      "default": false,
                      "description": "Determines whether to allow the role to be [assume itself](https://aws.amazon.com/blogs/security/announcing-an-update-to-iam-role-trust-policy-behavior/)"
                    },
                    "karpenter_sqs_queue_arn": {
                      "description": "(Optional) ARN of SQS used by Karpenter when native node termination handling is enabled"
                    },
                    "assume_role_condition_test": {
                      "default": "StringEquals",
                      "description": "Name of the [IAM condition operator](https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html) to evaluate when assuming the role"
                    },
                    "attach_cert_manager_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Cert Manager IAM policy to the role"
                    },
                    "attach_external_dns_policy": {
                      "default": false,
                      "description": "Determines whether to attach the External DNS IAM policy to the role"
                    },
                    "mountpoint_s3_csi_kms_arns": {
                      "default": [],
                      "description": "KMS Key ARNs to allow Mountpoint S3 CSI driver to download and upload Objects of a S3 bucket using `aws:kms` SSE"
                    },
                    "karpenter_subnet_account_id": {
                      "default": "",
                      "description": "Account ID of where the subnets Karpenter will utilize resides. Used when subnets are shared from another account"
                    },
                    "mountpoint_s3_csi_path_arns": {
                      "default": [],
                      "description": "S3 path ARNs to allow Mountpoint S3 CSI driver to manage items at the provided path(s). This is required if `attach_mountpoint_s3_csi_policy = true`"
                    },
                    "attach_fsx_lustre_csi_policy": {
                      "default": false,
                      "description": "Determines whether to attach the FSx for Lustre CSI Driver IAM policy to the role"
                    },
                    "attach_fsx_openzfs_csi_policy": {
                      "default": false,
                      "description": "Determines whether to attach the FSx for OpenZFS CSI Driver IAM policy to the role"
                    },
                    "cert_manager_hosted_zone_arns": {
                      "default": [
                        "arn:aws:route53:::hostedzone/*"
                      ],
                      "description": "Route53 hosted zone ARNs to allow Cert manager to manage records"
                    },
                    "external_dns_hosted_zone_arns": {
                      "default": [
                        "arn:aws:route53:::hostedzone/*"
                      ],
                      "description": "Route53 hosted zone ARNs to allow External DNS to manage records"
                    },
                    "external_secrets_kms_key_arns": {
                      "default": [
                        "arn:aws:kms:*:*:key/*"
                      ],
                      "description": "List of KMS Key ARNs that are used by Secrets Manager that contain secrets to mount using External Secrets"
                    },
                    "mountpoint_s3_csi_bucket_arns": {
                      "default": [],
                      "description": "S3 bucket ARNs to allow Mountpoint S3 CSI to list buckets"
                    },
                    "role_permissions_boundary_arn": {
                      "description": "Permissions boundary ARN to use for IAM role"
                    },
                    "attach_external_secrets_policy": {
                      "default": false,
                      "description": "Determines whether to attach the External Secrets policy to the role"
                    },
                    "cluster_autoscaler_cluster_ids": {
                      "default": [],
                      "description": "[Deprecated - use `cluster_autoscaler_cluster_names`] List of cluster names to appropriately scope permissions within the Cluster Autoscaler IAM policy"
                    },
                    "vpc_cni_enable_cloudwatch_logs": {
                      "default": false,
                      "description": "Determines whether to enable VPC CNI permission to create CloudWatch Log groups and publish network policy events"
                    },
                    "attach_mountpoint_s3_csi_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Mountpoint S3 CSI IAM policy to the role"
                    },
                    "karpenter_controller_cluster_id": {
                      "default": "*",
                      "description": "[Deprecated - use `karpenter_controller_cluster_name`] The name of the cluster where the Karpenter controller is provisioned/managing"
                    },
                    "attach_appmesh_controller_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Appmesh Controller policy to the role"
                    },
                    "attach_cluster_autoscaler_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Cluster Autoscaler IAM policy to the role"
                    },
                    "cluster_autoscaler_cluster_names": {
                      "default": [],
                      "description": "List of cluster names to appropriately scope permissions within the Cluster Autoscaler IAM policy"
                    },
                    "fsx_lustre_csi_service_role_arns": {
                      "default": [
                        "arn:aws:iam::*:role/aws-service-role/s3.data-source.lustre.fsx.amazonaws.com/*"
                      ],
                      "description": "Service role ARNs to allow FSx for Lustre CSI create and manage FSX for Lustre service linked roles"
                    },
                    "attach_appmesh_envoy_proxy_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Appmesh envoy proxy policy to the role"
                    },
                    "fsx_openzfs_csi_service_role_arns": {
                      "default": [
                        "arn:aws:iam::*:role/aws-service-role/fsx.amazonaws.com/*"
                      ],
                      "description": "Service role ARNs to allow FSx for OpenZFS CSI create and manage FSX for openzfs service linked roles"
                    },
                    "karpenter_controller_cluster_name": {
                      "default": "*",
                      "description": "The name of the cluster where the Karpenter controller is provisioned/managing"
                    },
                    "attach_karpenter_controller_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Karpenter Controller policy to the role"
                    },
                    "external_secrets_ssm_parameter_arns": {
                      "default": [
                        "arn:aws:ssm:*:*:parameter/*"
                      ],
                      "description": "List of Systems Manager Parameter ARNs that contain secrets to mount using External Secrets"
                    },
                    "attach_aws_gateway_controller_policy": {
                      "default": false,
                      "description": "Determines whether to attach the AWS Gateway Controller IAM policy to the role"
                    },
                    "external_secrets_secrets_manager_arns": {
                      "default": [
                        "arn:aws:secretsmanager:*:*:secret:*"
                      ],
                      "description": "List of Secrets Manager ARNs that contain secrets to mount using External Secrets"
                    },
                    "attach_cloudwatch_observability_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Amazon CloudWatch Observability IAM policies to the role"
                    },
                    "attach_load_balancer_controller_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Load Balancer Controller policy to the role"
                    },
                    "attach_node_termination_handler_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Node Termination Handler policy to the role"
                    },
                    "karpenter_controller_node_iam_role_arns": {
                      "default": [
                        "*"
                      ],
                      "description": "List of node IAM role ARNs Karpenter can use to launch nodes"
                    },
                    "karpenter_controller_ssm_parameter_arns": {
                      "default": [
                        "arn:aws:ssm:*:*:parameter/aws/service/*"
                      ],
                      "description": "List of SSM Parameter ARNs that contain AMI IDs launched by Karpenter"
                    },
                    "node_termination_handler_sqs_queue_arns": {
                      "default": [
                        "*"
                      ],
                      "description": "List of SQS ARNs that contain node termination events"
                    },
                    "load_balancer_controller_targetgroup_arns": {
                      "default": [
                        "arn:aws:elasticloadbalancing:*:*:targetgroup/*/*"
                      ],
                      "description": "List of Target groups ARNs using Load Balancer Controller"
                    },
                    "enable_karpenter_instance_profile_creation": {
                      "default": false,
                      "description": "Determines whether Karpenter will be allowed to create the IAM instance profile (v1beta1/v0.32+)"
                    },
                    "attach_amazon_managed_service_prometheus_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Amazon Managed Service for Prometheus IAM policy to the role"
                    },
                    "amazon_managed_service_prometheus_workspace_arns": {
                      "default": [
                        "*"
                      ],
                      "description": "List of AMP Workspace ARNs to read and write metrics"
                    },
                    "external_secrets_secrets_manager_create_permission": {
                      "default": false,
                      "description": "Determins whether External Secrets may use secretsmanager:CreateSecret"
                    },
                    "attach_load_balancer_controller_targetgroup_binding_only_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Load Balancer Controller policy for the TargetGroupBinding only"
                    }
                  }
                },
                "source": "terraform-aws-modules/iam/aws//modules/iam-role-for-service-accounts-eks",
                "expressions": {
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "role_name": {
                    "references": [
                      "var.nuon_id"
                    ]
                  },
                  "oidc_providers": {
                    "references": [
                      "var.eks_oidc_provider_arn",
                      "local.cert_manager.namespace",
                      "local.cert_manager",
                      "local.cert_manager.name",
                      "local.cert_manager"
                    ]
                  },
                  "attach_cert_manager_policy": {
                    "constant_value": true
                  },
                  "cert_manager_hosted_zone_arns": {
                    "references": [
                      "aws_route53_zone.internal.arn",
                      "aws_route53_zone.internal",
                      "aws_route53_zone.public.arn",
                      "aws_route53_zone.public"
                    ]
                  }
                },
                "version_constraint": "~> 5.0"
              },
              "external_dns_irsa": {
                "module": {
                  "outputs": {
                    "iam_role_arn": {
                      "expression": {
                        "references": [
                          "aws_iam_role.this[0].arn",
                          "aws_iam_role.this[0]",
                          "aws_iam_role.this"
                        ]
                      },
                      "description": "ARN of IAM role"
                    },
                    "iam_role_name": {
                      "expression": {
                        "references": [
                          "aws_iam_role.this[0].name",
                          "aws_iam_role.this[0]",
                          "aws_iam_role.this"
                        ]
                      },
                      "description": "Name of IAM role"
                    },
                    "iam_role_path": {
                      "expression": {
                        "references": [
                          "aws_iam_role.this[0].path",
                          "aws_iam_role.this[0]",
                          "aws_iam_role.this"
                        ]
                      },
                      "description": "Path of IAM role"
                    },
                    "iam_role_unique_id": {
                      "expression": {
                        "references": [
                          "aws_iam_role.this[0].unique_id",
                          "aws_iam_role.this[0]",
                          "aws_iam_role.this"
                        ]
                      },
                      "description": "Unique ID of IAM role"
                    }
                  },
                  "resources": [
                    {
                      "mode": "managed",
                      "name": "amazon_managed_service_prometheus",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.amazon_managed_service_prometheus",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.amazon_managed_service_prometheus[0].json",
                            "data.aws_iam_policy_document.amazon_managed_service_prometheus[0]",
                            "data.aws_iam_policy_document.amazon_managed_service_prometheus"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions to for Amazon Managed Service for Prometheus"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_amazon_managed_service_prometheus_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "appmesh_controller",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.appmesh_controller",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.appmesh_controller[0].json",
                            "data.aws_iam_policy_document.appmesh_controller[0]",
                            "data.aws_iam_policy_document.appmesh_controller"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions to for appmesh controller"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_appmesh_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "appmesh_envoy_proxy",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.appmesh_envoy_proxy",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.appmesh_envoy_proxy[0].json",
                            "data.aws_iam_policy_document.appmesh_envoy_proxy[0]",
                            "data.aws_iam_policy_document.appmesh_envoy_proxy"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions to for appmesh envoy proxy"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_appmesh_envoy_proxy_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "aws_gateway_controller",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.aws_gateway_controller",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.aws_gateway_controller[0].json",
                            "data.aws_iam_policy_document.aws_gateway_controller[0]",
                            "data.aws_iam_policy_document.aws_gateway_controller"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions for the AWS Gateway Controller"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_aws_gateway_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "cert_manager",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.cert_manager",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.cert_manager[0].json",
                            "data.aws_iam_policy_document.cert_manager[0]",
                            "data.aws_iam_policy_document.cert_manager"
                          ]
                        },
                        "description": {
                          "constant_value": "Cert Manager policy to allow management of Route53 hosted zone records"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_cert_manager_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "cluster_autoscaler",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.cluster_autoscaler",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.cluster_autoscaler[0].json",
                            "data.aws_iam_policy_document.cluster_autoscaler[0]",
                            "data.aws_iam_policy_document.cluster_autoscaler"
                          ]
                        },
                        "description": {
                          "constant_value": "Cluster autoscaler policy to allow examination and modification of EC2 Auto Scaling Groups"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_cluster_autoscaler_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "ebs_csi",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.ebs_csi",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.ebs_csi[0].json",
                            "data.aws_iam_policy_document.ebs_csi[0]",
                            "data.aws_iam_policy_document.ebs_csi"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions to manage EBS volumes via the container storage interface driver"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_ebs_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "efs_csi",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.efs_csi",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.efs_csi[0].json",
                            "data.aws_iam_policy_document.efs_csi[0]",
                            "data.aws_iam_policy_document.efs_csi"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions to manage EFS volumes via the container storage interface driver"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_efs_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "external_dns",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.external_dns",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.external_dns[0].json",
                            "data.aws_iam_policy_document.external_dns[0]",
                            "data.aws_iam_policy_document.external_dns"
                          ]
                        },
                        "description": {
                          "constant_value": "External DNS policy to allow management of Route53 hosted zone records"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_external_dns_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "external_secrets",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.external_secrets",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.external_secrets[0].json",
                            "data.aws_iam_policy_document.external_secrets[0]",
                            "data.aws_iam_policy_document.external_secrets"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions to for External Secrets to retrieve secrets from AWS SSM and AWS Secrets Manager"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_external_secrets_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "fsx_lustre_csi",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.fsx_lustre_csi",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.fsx_lustre_csi[0].json",
                            "data.aws_iam_policy_document.fsx_lustre_csi[0]",
                            "data.aws_iam_policy_document.fsx_lustre_csi"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions to manage FSx Lustre volumes via the container storage interface driver"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_fsx_lustre_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "fsx_openzfs_csi",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.fsx_openzfs_csi",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.fsx_openzfs_csi[0].json",
                            "data.aws_iam_policy_document.fsx_openzfs_csi[0]",
                            "data.aws_iam_policy_document.fsx_openzfs_csi"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions to manage FSx OpenZFS volumes via the container storage interface driver"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_fsx_openzfs_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "karpenter_controller",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.karpenter_controller",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.karpenter_controller[0].json",
                            "data.aws_iam_policy_document.karpenter_controller[0]",
                            "data.aws_iam_policy_document.karpenter_controller"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions to handle node termination events via the Node Termination Handler"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_karpenter_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "load_balancer_controller",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.load_balancer_controller",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.load_balancer_controller[0].json",
                            "data.aws_iam_policy_document.load_balancer_controller[0]",
                            "data.aws_iam_policy_document.load_balancer_controller"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions for AWS Load Balancer Controller addon"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_load_balancer_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "load_balancer_controller_targetgroup_only",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.load_balancer_controller_targetgroup_only",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.load_balancer_controller_targetgroup_only[0].json",
                            "data.aws_iam_policy_document.load_balancer_controller_targetgroup_only[0]",
                            "data.aws_iam_policy_document.load_balancer_controller_targetgroup_only"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions for AWS Load Balancer Controller addon in TargetGroup binding only scenario"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_load_balancer_controller_targetgroup_binding_only_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "mountpoint_s3_csi",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.mountpoint_s3_csi",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.mountpoint_s3_csi[0].json",
                            "data.aws_iam_policy_document.mountpoint_s3_csi[0]",
                            "data.aws_iam_policy_document.mountpoint_s3_csi"
                          ]
                        },
                        "description": {
                          "constant_value": "Mountpoint S3 CSI driver policy to allow management of S3"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_mountpoint_s3_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "node_termination_handler",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.node_termination_handler",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.node_termination_handler[0].json",
                            "data.aws_iam_policy_document.node_termination_handler[0]",
                            "data.aws_iam_policy_document.node_termination_handler"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions to handle node termination events via the Node Termination Handler"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_node_termination_handler_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "velero",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.velero",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.velero[0].json",
                            "data.aws_iam_policy_document.velero[0]",
                            "data.aws_iam_policy_document.velero"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides Velero permissions to backup and restore cluster resources"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_velero_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "vpc_cni",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.vpc_cni",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.vpc_cni[0].json",
                            "data.aws_iam_policy_document.vpc_cni[0]",
                            "data.aws_iam_policy_document.vpc_cni"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides the Amazon VPC CNI Plugin (amazon-vpc-cni-k8s) the permissions it requires to modify the IPv4/IPv6 address configuration on your EKS worker nodes"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_vpc_cni_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "this",
                      "type": "aws_iam_role",
                      "address": "aws_iam_role.this",
                      "expressions": {
                        "name": {
                          "references": [
                            "var.role_name"
                          ]
                        },
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "description": {
                          "references": [
                            "var.role_description"
                          ]
                        },
                        "name_prefix": {
                          "references": [
                            "var.role_name_prefix"
                          ]
                        },
                        "assume_role_policy": {
                          "references": [
                            "data.aws_iam_policy_document.this[0].json",
                            "data.aws_iam_policy_document.this[0]",
                            "data.aws_iam_policy_document.this"
                          ]
                        },
                        "max_session_duration": {
                          "references": [
                            "var.max_session_duration"
                          ]
                        },
                        "permissions_boundary": {
                          "references": [
                            "var.role_permissions_boundary_arn"
                          ]
                        },
                        "force_detach_policies": {
                          "references": [
                            "var.force_detach_policies"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "amazon_cloudwatch_observability",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.amazon_cloudwatch_observability",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "each.value"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "for_each_expression": {
                        "references": [
                          "local.partition",
                          "local.partition",
                          "var.create_role",
                          "var.attach_cloudwatch_observability_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "amazon_managed_service_prometheus",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.amazon_managed_service_prometheus",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.amazon_managed_service_prometheus[0].arn",
                            "aws_iam_policy.amazon_managed_service_prometheus[0]",
                            "aws_iam_policy.amazon_managed_service_prometheus"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_amazon_managed_service_prometheus_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "appmesh_controller",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.appmesh_controller",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.appmesh_controller[0].arn",
                            "aws_iam_policy.appmesh_controller[0]",
                            "aws_iam_policy.appmesh_controller"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_appmesh_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "appmesh_envoy_proxy",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.appmesh_envoy_proxy",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.appmesh_envoy_proxy[0].arn",
                            "aws_iam_policy.appmesh_envoy_proxy[0]",
                            "aws_iam_policy.appmesh_envoy_proxy"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_appmesh_envoy_proxy_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "aws_gateway_controller",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.aws_gateway_controller",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.aws_gateway_controller[0].arn",
                            "aws_iam_policy.aws_gateway_controller[0]",
                            "aws_iam_policy.aws_gateway_controller"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_aws_gateway_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "cert_manager",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.cert_manager",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.cert_manager[0].arn",
                            "aws_iam_policy.cert_manager[0]",
                            "aws_iam_policy.cert_manager"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_cert_manager_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "cluster_autoscaler",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.cluster_autoscaler",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.cluster_autoscaler[0].arn",
                            "aws_iam_policy.cluster_autoscaler[0]",
                            "aws_iam_policy.cluster_autoscaler"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_cluster_autoscaler_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "ebs_csi",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.ebs_csi",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.ebs_csi[0].arn",
                            "aws_iam_policy.ebs_csi[0]",
                            "aws_iam_policy.ebs_csi"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_ebs_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "efs_csi",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.efs_csi",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.efs_csi[0].arn",
                            "aws_iam_policy.efs_csi[0]",
                            "aws_iam_policy.efs_csi"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_efs_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "external_dns",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.external_dns",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.external_dns[0].arn",
                            "aws_iam_policy.external_dns[0]",
                            "aws_iam_policy.external_dns"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_external_dns_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "external_secrets",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.external_secrets",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.external_secrets[0].arn",
                            "aws_iam_policy.external_secrets[0]",
                            "aws_iam_policy.external_secrets"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_external_secrets_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "fsx_lustre_csi",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.fsx_lustre_csi",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.fsx_lustre_csi[0].arn",
                            "aws_iam_policy.fsx_lustre_csi[0]",
                            "aws_iam_policy.fsx_lustre_csi"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_fsx_lustre_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "fsx_openzfs_csi",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.fsx_openzfs_csi",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.fsx_openzfs_csi[0].arn",
                            "aws_iam_policy.fsx_openzfs_csi[0]",
                            "aws_iam_policy.fsx_openzfs_csi"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_fsx_openzfs_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "karpenter_controller",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.karpenter_controller",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.karpenter_controller[0].arn",
                            "aws_iam_policy.karpenter_controller[0]",
                            "aws_iam_policy.karpenter_controller"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_karpenter_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "load_balancer_controller",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.load_balancer_controller",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.load_balancer_controller[0].arn",
                            "aws_iam_policy.load_balancer_controller[0]",
                            "aws_iam_policy.load_balancer_controller"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_load_balancer_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "load_balancer_controller_targetgroup_only",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.load_balancer_controller_targetgroup_only",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.load_balancer_controller_targetgroup_only[0].arn",
                            "aws_iam_policy.load_balancer_controller_targetgroup_only[0]",
                            "aws_iam_policy.load_balancer_controller_targetgroup_only"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_load_balancer_controller_targetgroup_binding_only_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "mountpoint_s3_csi",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.mountpoint_s3_csi",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.mountpoint_s3_csi[0].arn",
                            "aws_iam_policy.mountpoint_s3_csi[0]",
                            "aws_iam_policy.mountpoint_s3_csi"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_mountpoint_s3_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "node_termination_handler",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.node_termination_handler",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.node_termination_handler[0].arn",
                            "aws_iam_policy.node_termination_handler[0]",
                            "aws_iam_policy.node_termination_handler"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_node_termination_handler_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "this",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.this",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "each.value"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "for_each_expression": {
                        "references": [
                          "var.role_policy_arns",
                          "var.create_role"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "velero",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.velero",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.velero[0].arn",
                            "aws_iam_policy.velero[0]",
                            "aws_iam_policy.velero"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_velero_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "vpc_cni",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.vpc_cni",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.vpc_cni[0].arn",
                            "aws_iam_policy.vpc_cni[0]",
                            "aws_iam_policy.vpc_cni"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_vpc_cni_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "current",
                      "type": "aws_caller_identity",
                      "address": "data.aws_caller_identity.current",
                      "schema_version": 0,
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "amazon_managed_service_prometheus",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.amazon_managed_service_prometheus",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "aps:RemoteWrite",
                                "aps:QueryMetrics",
                                "aps:GetSeries",
                                "aps:GetLabels",
                                "aps:GetMetricMetadata"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.amazon_managed_service_prometheus_workspace_arns"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_amazon_managed_service_prometheus_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "appmesh_controller",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.appmesh_controller",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "appmesh:ListVirtualRouters",
                                "appmesh:ListVirtualServices",
                                "appmesh:ListRoutes",
                                "appmesh:ListGatewayRoutes",
                                "appmesh:ListMeshes",
                                "appmesh:ListVirtualNodes",
                                "appmesh:ListVirtualGateways",
                                "appmesh:DescribeMesh",
                                "appmesh:DescribeVirtualRouter",
                                "appmesh:DescribeRoute",
                                "appmesh:DescribeVirtualNode",
                                "appmesh:DescribeVirtualGateway",
                                "appmesh:DescribeGatewayRoute",
                                "appmesh:DescribeVirtualService",
                                "appmesh:CreateMesh",
                                "appmesh:CreateVirtualRouter",
                                "appmesh:CreateVirtualGateway",
                                "appmesh:CreateVirtualService",
                                "appmesh:CreateGatewayRoute",
                                "appmesh:CreateRoute",
                                "appmesh:CreateVirtualNode",
                                "appmesh:UpdateMesh",
                                "appmesh:UpdateRoute",
                                "appmesh:UpdateVirtualGateway",
                                "appmesh:UpdateVirtualRouter",
                                "appmesh:UpdateGatewayRoute",
                                "appmesh:UpdateVirtualService",
                                "appmesh:UpdateVirtualNode",
                                "appmesh:DeleteMesh",
                                "appmesh:DeleteRoute",
                                "appmesh:DeleteVirtualRouter",
                                "appmesh:DeleteGatewayRoute",
                                "appmesh:DeleteVirtualService",
                                "appmesh:DeleteVirtualNode",
                                "appmesh:DeleteVirtualGateway"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "iam:CreateServiceLinkedRole"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "references": [
                                    "local.dns_suffix"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "iam:AWSServiceName"
                                }
                              }
                            ],
                            "resources": {
                              "references": [
                                "local.partition",
                                "local.dns_suffix"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "acm:ListCertificates",
                                "acm:DescribeCertificate",
                                "acm-pca:DescribeCertificateAuthority",
                                "acm-pca:ListCertificateAuthorities"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "servicediscovery:CreateService",
                                "servicediscovery:DeleteService",
                                "servicediscovery:GetService",
                                "servicediscovery:GetInstance",
                                "servicediscovery:RegisterInstance",
                                "servicediscovery:DeregisterInstance",
                                "servicediscovery:ListInstances",
                                "servicediscovery:ListNamespaces",
                                "servicediscovery:ListServices",
                                "servicediscovery:GetInstancesHealthStatus",
                                "servicediscovery:UpdateInstanceCustomHealthStatus",
                                "servicediscovery:GetOperation",
                                "route53:GetHealthCheck",
                                "route53:CreateHealthCheck",
                                "route53:UpdateHealthCheck",
                                "route53:ChangeResourceRecordSets",
                                "route53:DeleteHealthCheck"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_appmesh_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "appmesh_envoy_proxy",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.appmesh_envoy_proxy",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "appmesh:StreamAggregatedResources"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "acm:ExportCertificate",
                                "acm-pca:GetCertificateAuthorityCertificate"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_appmesh_envoy_proxy_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "aws_gateway_controller",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.aws_gateway_controller",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "vpc-lattice:*",
                                "ec2:DescribeVpcs",
                                "ec2:DescribeSubnets",
                                "ec2:DescribeTags",
                                "ec2:DescribeSecurityGroups",
                                "logs:CreateLogDelivery",
                                "logs:GetLogDelivery",
                                "logs:DescribeLogGroups",
                                "logs:PutResourcePolicy",
                                "logs:DescribeResourcePolicies",
                                "logs:UpdateLogDelivery",
                                "logs:DeleteLogDelivery",
                                "logs:ListLogDeliveries",
                                "tag:GetResources",
                                "firehose:TagDeliveryStream",
                                "s3:GetBucketPolicy",
                                "s3:PutBucketPolicy"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "iam:CreateServiceLinkedRole"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "references": [
                                    "local.dns_suffix"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "iam:AWSServiceName"
                                }
                              }
                            ],
                            "resources": {
                              "references": [
                                "local.partition",
                                "local.dns_suffix"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "iam:CreateServiceLinkedRole"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "references": [
                                    "local.dns_suffix"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "iam:AWSServiceName"
                                }
                              }
                            ],
                            "resources": {
                              "references": [
                                "local.partition",
                                "local.dns_suffix"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_aws_gateway_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "cert_manager",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.cert_manager",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "route53:GetChange"
                              ]
                            },
                            "resources": {
                              "references": [
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "route53:ChangeResourceRecordSets",
                                "route53:ListResourceRecordSets"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.cert_manager_hosted_zone_arns"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "route53:ListHostedZonesByName"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_cert_manager_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "cluster_autoscaler",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.cluster_autoscaler",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "autoscaling:DescribeAutoScalingGroups",
                                "autoscaling:DescribeAutoScalingInstances",
                                "autoscaling:DescribeLaunchConfigurations",
                                "autoscaling:DescribeScalingActivities",
                                "autoscaling:DescribeTags",
                                "ec2:DescribeLaunchTemplateVersions",
                                "ec2:DescribeInstanceTypes",
                                "eks:DescribeNodegroup",
                                "ec2:DescribeImages",
                                "ec2:GetInstanceTypesFromInstanceRequirements"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_cluster_autoscaler_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "ebs_csi",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.ebs_csi",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:CreateSnapshot",
                                "ec2:AttachVolume",
                                "ec2:DetachVolume",
                                "ec2:ModifyVolume",
                                "ec2:DescribeAvailabilityZones",
                                "ec2:DescribeInstances",
                                "ec2:DescribeSnapshots",
                                "ec2:DescribeTags",
                                "ec2:DescribeVolumes",
                                "ec2:DescribeVolumesModifications",
                                "ec2:EnableFastSnapshotRestores"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:CreateTags"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringEquals"
                                },
                                "values": {
                                  "constant_value": [
                                    "CreateVolume",
                                    "CreateSnapshot"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "ec2:CreateAction"
                                }
                              }
                            ],
                            "resources": {
                              "references": [
                                "local.partition",
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:DeleteTags"
                              ]
                            },
                            "resources": {
                              "references": [
                                "local.partition",
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:CreateVolume"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "constant_value": [
                                    true
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:RequestTag/ebs.csi.aws.com/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "references": [
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:CreateVolume"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "constant_value": [
                                    "*"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:RequestTag/CSIVolumeName"
                                }
                              }
                            ],
                            "resources": {
                              "references": [
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:CreateVolume"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "constant_value": [
                                    "owned"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:RequestTag/kubernetes.io/cluster/*"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:CreateVolume"
                              ]
                            },
                            "resources": {
                              "references": [
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:DeleteVolume"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "constant_value": [
                                    true
                                  ]
                                },
                                "variable": {
                                  "constant_value": "ec2:ResourceTag/ebs.csi.aws.com/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:DeleteVolume"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "constant_value": [
                                    "*"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "ec2:ResourceTag/CSIVolumeName"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:DeleteVolume"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "constant_value": [
                                    "owned"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "ec2:ResourceTag/kubernetes.io/cluster/*"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:DeleteVolume"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "constant_value": [
                                    "*"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "ec2:ResourceTag/kubernetes.io/created-for/pvc/name"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:DeleteSnapshot"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "constant_value": [
                                    "*"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "ec2:ResourceTag/CSIVolumeSnapshotName"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:DeleteSnapshot"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "constant_value": [
                                    true
                                  ]
                                },
                                "variable": {
                                  "constant_value": "ec2:ResourceTag/ebs.csi.aws.com/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_ebs_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "efs_csi",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.efs_csi",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:DescribeAvailabilityZones",
                                "elasticfilesystem:DescribeAccessPoints",
                                "elasticfilesystem:DescribeFileSystems",
                                "elasticfilesystem:DescribeMountTargets"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticfilesystem:CreateAccessPoint"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "constant_value": [
                                    "true"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:RequestTag/efs.csi.aws.com/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticfilesystem:TagResource"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "constant_value": [
                                    "true"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:RequestTag/efs.csi.aws.com/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticfilesystem:DeleteAccessPoint"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringEquals"
                                },
                                "values": {
                                  "constant_value": [
                                    "true"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:ResourceTag/efs.csi.aws.com/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_efs_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "external_dns",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.external_dns",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "route53:ChangeResourceRecordSets"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.external_dns_hosted_zone_arns"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "route53:ListHostedZones",
                                "route53:ListResourceRecordSets",
                                "route53:ListTagsForResources"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_external_dns_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "external_secrets",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.external_secrets",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "ssm:DescribeParameters"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "secretsmanager:ListSecrets",
                                "secretsmanager:BatchGetSecretValue"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "secretsmanager:GetResourcePolicy",
                                "secretsmanager:GetSecretValue",
                                "secretsmanager:DescribeSecret",
                                "secretsmanager:ListSecretVersionIds"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.external_secrets_secrets_manager_arns"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_external_secrets_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "fsx_lustre_csi",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.fsx_lustre_csi",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "iam:CreateServiceLinkedRole",
                                "iam:AttachRolePolicy",
                                "iam:PutRolePolicy"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.fsx_lustre_csi_service_role_arns"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "iam:CreateServiceLinkedRole"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "references": [
                                    "local.dns_suffix"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "iam:AWSServiceName"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "s3:ListBucket",
                                "fsx:CreateFileSystem",
                                "fsx:DeleteFileSystem",
                                "fsx:DescribeFileSystems",
                                "fsx:TagResource",
                                "fsx:UpdateFileSystem"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_fsx_lustre_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "fsx_openzfs_csi",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.fsx_openzfs_csi",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "iam:CreateServiceLinkedRole",
                                "iam:AttachRolePolicy",
                                "iam:PutRolePolicy"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.fsx_openzfs_csi_service_role_arns"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "iam:CreateServiceLinkedRole"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "references": [
                                    "local.dns_suffix"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "iam:AWSServiceName"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "fsx:CreateFileSystem",
                                "fsx:UpdateFileSystem",
                                "fsx:DeleteFileSystem",
                                "fsx:DescribeFileSystems",
                                "fsx:CreateVolume",
                                "fsx:DeleteVolume",
                                "fsx:DescribeVolumes",
                                "fsx:CreateSnapshot",
                                "fsx:DeleteSnapshot",
                                "fsx:DescribeSnapshots",
                                "fsx:TagResource",
                                "fsx:ListTagsForResource"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_fsx_openzfs_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "karpenter_controller",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.karpenter_controller",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:CreateFleet",
                                "ec2:CreateLaunchTemplate",
                                "ec2:CreateTags",
                                "ec2:DescribeAvailabilityZones",
                                "ec2:DescribeImages",
                                "ec2:DescribeInstances",
                                "ec2:DescribeInstanceTypeOfferings",
                                "ec2:DescribeInstanceTypes",
                                "ec2:DescribeLaunchTemplates",
                                "ec2:DescribeSecurityGroups",
                                "ec2:DescribeSpotPriceHistory",
                                "ec2:DescribeSubnets",
                                "pricing:GetProducts"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:TerminateInstances",
                                "ec2:DeleteLaunchTemplate"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringEquals"
                                },
                                "values": {
                                  "references": [
                                    "local.karpenter_controller_cluster_name"
                                  ]
                                },
                                "variable": {
                                  "references": [
                                    "var.karpenter_tag_key"
                                  ]
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:RunInstances"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringEquals"
                                },
                                "values": {
                                  "references": [
                                    "local.karpenter_controller_cluster_name"
                                  ]
                                },
                                "variable": {
                                  "references": [
                                    "var.karpenter_tag_key"
                                  ]
                                }
                              }
                            ],
                            "resources": {
                              "references": [
                                "local.partition",
                                "local.account_id"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:RunInstances"
                              ]
                            },
                            "resources": {
                              "references": [
                                "local.partition",
                                "local.partition",
                                "local.account_id",
                                "local.partition",
                                "local.account_id",
                                "local.partition",
                                "local.account_id",
                                "local.partition",
                                "local.account_id",
                                "local.partition",
                                "local.account_id",
                                "local.partition",
                                "var.karpenter_subnet_account_id",
                                "local.account_id"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ssm:GetParameter"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.karpenter_controller_ssm_parameter_arns"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "iam:PassRole"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.karpenter_controller_node_iam_role_arns"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "eks:DescribeCluster"
                              ]
                            },
                            "resources": {
                              "references": [
                                "local.partition",
                                "local.region",
                                "local.account_id",
                                "local.karpenter_controller_cluster_name"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_karpenter_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "load_balancer_controller",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.load_balancer_controller",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "iam:CreateServiceLinkedRole"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringEquals"
                                },
                                "values": {
                                  "references": [
                                    "local.dns_suffix"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "iam:AWSServiceName"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:DescribeAccountAttributes",
                                "ec2:DescribeAddresses",
                                "ec2:DescribeAvailabilityZones",
                                "ec2:DescribeInternetGateways",
                                "ec2:DescribeVpcs",
                                "ec2:DescribeVpcPeeringConnections",
                                "ec2:DescribeSubnets",
                                "ec2:DescribeSecurityGroups",
                                "ec2:DescribeInstances",
                                "ec2:DescribeNetworkInterfaces",
                                "ec2:DescribeTags",
                                "ec2:GetCoipPoolUsage",
                                "ec2:DescribeCoipPools",
                                "ec2:GetSecurityGroupsForVpc",
                                "ec2:DescribeIpamPools",
                                "ec2:DescribeRouteTables",
                                "elasticloadbalancing:DescribeLoadBalancers",
                                "elasticloadbalancing:DescribeLoadBalancerAttributes",
                                "elasticloadbalancing:DescribeListeners",
                                "elasticloadbalancing:DescribeListenerCertificates",
                                "elasticloadbalancing:DescribeSSLPolicies",
                                "elasticloadbalancing:DescribeRules",
                                "elasticloadbalancing:DescribeTargetGroups",
                                "elasticloadbalancing:DescribeTargetGroupAttributes",
                                "elasticloadbalancing:DescribeTargetHealth",
                                "elasticloadbalancing:DescribeTags",
                                "elasticloadbalancing:DescribeTrustStores",
                                "elasticloadbalancing:DescribeListenerAttributes",
                                "elasticloadbalancing:DescribeCapacityReservation"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "cognito-idp:DescribeUserPoolClient",
                                "acm:ListCertificates",
                                "acm:DescribeCertificate",
                                "iam:ListServerCertificates",
                                "iam:GetServerCertificate",
                                "waf-regional:GetWebACL",
                                "waf-regional:GetWebACLForResource",
                                "waf-regional:AssociateWebACL",
                                "waf-regional:DisassociateWebACL",
                                "wafv2:GetWebACL",
                                "wafv2:GetWebACLForResource",
                                "wafv2:AssociateWebACL",
                                "wafv2:DisassociateWebACL",
                                "shield:GetSubscriptionState",
                                "shield:DescribeProtection",
                                "shield:CreateProtection",
                                "shield:DeleteProtection"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:AuthorizeSecurityGroupIngress",
                                "ec2:RevokeSecurityGroupIngress"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:CreateSecurityGroup"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:CreateTags"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringEquals"
                                },
                                "values": {
                                  "constant_value": [
                                    "CreateSecurityGroup"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "ec2:CreateAction"
                                }
                              },
                              {
                                "test": {
                                  "constant_value": "Null"
                                },
                                "values": {
                                  "constant_value": [
                                    "false"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:RequestTag/elbv2.k8s.aws/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "references": [
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:CreateTags",
                                "ec2:DeleteTags"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "Null"
                                },
                                "values": {
                                  "constant_value": [
                                    "true"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:RequestTag/elbv2.k8s.aws/cluster"
                                }
                              },
                              {
                                "test": {
                                  "constant_value": "Null"
                                },
                                "values": {
                                  "constant_value": [
                                    "false"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:ResourceTag/elbv2.k8s.aws/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "references": [
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:AuthorizeSecurityGroupIngress",
                                "ec2:RevokeSecurityGroupIngress",
                                "ec2:DeleteSecurityGroup"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "Null"
                                },
                                "values": {
                                  "constant_value": [
                                    "false"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:ResourceTag/elbv2.k8s.aws/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticloadbalancing:CreateLoadBalancer",
                                "elasticloadbalancing:CreateTargetGroup"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "Null"
                                },
                                "values": {
                                  "constant_value": [
                                    "false"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:RequestTag/elbv2.k8s.aws/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticloadbalancing:CreateListener",
                                "elasticloadbalancing:DeleteListener",
                                "elasticloadbalancing:CreateRule",
                                "elasticloadbalancing:DeleteRule"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticloadbalancing:AddTags",
                                "elasticloadbalancing:RemoveTags"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "Null"
                                },
                                "values": {
                                  "constant_value": [
                                    "true"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:RequestTag/elbv2.k8s.aws/cluster"
                                }
                              },
                              {
                                "test": {
                                  "constant_value": "Null"
                                },
                                "values": {
                                  "constant_value": [
                                    "false"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:ResourceTag/elbv2.k8s.aws/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "references": [
                                "local.partition",
                                "local.partition",
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticloadbalancing:AddTags",
                                "elasticloadbalancing:RemoveTags"
                              ]
                            },
                            "resources": {
                              "references": [
                                "local.partition",
                                "local.partition",
                                "local.partition",
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticloadbalancing:ModifyLoadBalancerAttributes",
                                "elasticloadbalancing:SetIpAddressType",
                                "elasticloadbalancing:SetSecurityGroups",
                                "elasticloadbalancing:SetSubnets",
                                "elasticloadbalancing:DeleteLoadBalancer",
                                "elasticloadbalancing:ModifyTargetGroup",
                                "elasticloadbalancing:ModifyTargetGroupAttributes",
                                "elasticloadbalancing:DeleteTargetGroup",
                                "elasticloadbalancing:ModifyListenerAttributes",
                                "elasticloadbalancing:ModifyCapacityReservation",
                                "elasticloadbalancing:ModifyIpPools"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "Null"
                                },
                                "values": {
                                  "constant_value": [
                                    "false"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:ResourceTag/elbv2.k8s.aws/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticloadbalancing:AddTags"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringEquals"
                                },
                                "values": {
                                  "constant_value": [
                                    "CreateTargetGroup",
                                    "CreateLoadBalancer"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "elasticloadbalancing:CreateAction"
                                }
                              },
                              {
                                "test": {
                                  "constant_value": "Null"
                                },
                                "values": {
                                  "constant_value": [
                                    "false"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:RequestTag/elbv2.k8s.aws/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "references": [
                                "local.partition",
                                "local.partition",
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticloadbalancing:RegisterTargets",
                                "elasticloadbalancing:DeregisterTargets"
                              ]
                            },
                            "resources": {
                              "references": [
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticloadbalancing:SetWebAcl",
                                "elasticloadbalancing:ModifyListener",
                                "elasticloadbalancing:AddListenerCertificates",
                                "elasticloadbalancing:RemoveListenerCertificates",
                                "elasticloadbalancing:ModifyRule",
                                "elasticloadbalancing:SetRulePriorities"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_load_balancer_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "load_balancer_controller_targetgroup_only",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.load_balancer_controller_targetgroup_only",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:DescribeSecurityGroups",
                                "ec2:DescribeInstances",
                                "ec2:DescribeVpcs",
                                "ec2:AuthorizeSecurityGroupIngress",
                                "ec2:RevokeSecurityGroupIngress",
                                "elasticloadbalancing:DescribeTargetGroups",
                                "elasticloadbalancing:DescribeTargetHealth"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticloadbalancing:ModifyTargetGroup",
                                "elasticloadbalancing:ModifyTargetGroupAttributes",
                                "elasticloadbalancing:RegisterTargets",
                                "elasticloadbalancing:DeregisterTargets"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.load_balancer_controller_targetgroup_arns"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_load_balancer_controller_targetgroup_binding_only_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "mountpoint_s3_csi",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.mountpoint_s3_csi",
                      "expressions": {
                        "statement": [
                          {
                            "sid": {
                              "constant_value": "MountpointFullBucketAccess"
                            },
                            "actions": {
                              "constant_value": [
                                "s3:ListBucket"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.mountpoint_s3_csi_bucket_arns",
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "sid": {
                              "constant_value": "MountpointFullObjectAccess"
                            },
                            "actions": {
                              "constant_value": [
                                "s3:GetObject",
                                "s3:PutObject",
                                "s3:AbortMultipartUpload",
                                "s3:DeleteObject"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.mountpoint_s3_csi_path_arns"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_mountpoint_s3_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "node_termination_handler",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.node_termination_handler",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "autoscaling:CompleteLifecycleAction",
                                "autoscaling:DescribeAutoScalingInstances",
                                "autoscaling:DescribeTags",
                                "ec2:DescribeInstances"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "sqs:DeleteMessage",
                                "sqs:ReceiveMessage"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.node_termination_handler_sqs_queue_arns"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_node_termination_handler_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "this",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.this",
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "velero",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.velero",
                      "expressions": {
                        "statement": [
                          {
                            "sid": {
                              "constant_value": "Ec2ReadWrite"
                            },
                            "actions": {
                              "constant_value": [
                                "ec2:DescribeVolumes",
                                "ec2:DescribeSnapshots",
                                "ec2:CreateTags",
                                "ec2:CreateVolume",
                                "ec2:CreateSnapshot",
                                "ec2:DeleteSnapshot"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "sid": {
                              "constant_value": "S3ReadWrite"
                            },
                            "actions": {
                              "constant_value": [
                                "s3:GetObject",
                                "s3:DeleteObject",
                                "s3:PutObject",
                                "s3:PutObjectTagging",
                                "s3:AbortMultipartUpload",
                                "s3:ListMultipartUploadParts"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.velero_s3_bucket_arns"
                              ]
                            }
                          },
                          {
                            "sid": {
                              "constant_value": "S3List"
                            },
                            "actions": {
                              "constant_value": [
                                "s3:ListBucket"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.velero_s3_bucket_arns"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_velero_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "vpc_cni",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.vpc_cni",
                      "expressions": {
                        "statement": [
                          {
                            "sid": {
                              "constant_value": "CreateTags"
                            },
                            "actions": {
                              "constant_value": [
                                "ec2:CreateTags"
                              ]
                            },
                            "resources": {
                              "references": [
                                "local.partition"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_vpc_cni_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "current",
                      "type": "aws_partition",
                      "address": "data.aws_partition.current",
                      "schema_version": 0,
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "current",
                      "type": "aws_region",
                      "address": "data.aws_region.current",
                      "schema_version": 0,
                      "provider_config_key": "aws"
                    }
                  ],
                  "variables": {
                    "tags": {
                      "default": {},
                      "description": "A map of tags to add the the IAM role"
                    },
                    "role_name": {
                      "description": "Name of IAM role"
                    },
                    "role_path": {
                      "default": "/",
                      "description": "Path of IAM role"
                    },
                    "create_role": {
                      "default": true,
                      "description": "Whether to create a role"
                    },
                    "oidc_providers": {
                      "default": {},
                      "description": "Map of OIDC providers where each provider map should contain the `provider_arn` and `namespace_service_accounts`"
                    },
                    "role_description": {
                      "description": "IAM Role description"
                    },
                    "role_name_prefix": {
                      "description": "IAM role name prefix"
                    },
                    "role_policy_arns": {
                      "default": {},
                      "description": "ARNs of any policies to attach to the IAM role"
                    },
                    "karpenter_tag_key": {
                      "default": "karpenter.sh/discovery",
                      "description": "Tag key (`{key = value}`) applied to resources launched by Karpenter through the Karpenter provisioner"
                    },
                    "policy_name_prefix": {
                      "default": "AmazonEKS_",
                      "description": "IAM policy name prefix"
                    },
                    "ebs_csi_kms_cmk_ids": {
                      "default": [],
                      "description": "KMS CMK IDs to allow EBS CSI to manage encrypted volumes"
                    },
                    "vpc_cni_enable_ipv4": {
                      "default": false,
                      "description": "Determines whether to enable IPv4 permissions for VPC CNI policy"
                    },
                    "vpc_cni_enable_ipv6": {
                      "default": false,
                      "description": "Determines whether to enable IPv6 permissions for VPC CNI policy"
                    },
                    "attach_velero_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Velero IAM policy to the role"
                    },
                    "max_session_duration": {
                      "description": "Maximum CLI/API session duration in seconds between 3600 and 43200"
                    },
                    "attach_ebs_csi_policy": {
                      "default": false,
                      "description": "Determines whether to attach the EBS CSI IAM policy to the role"
                    },
                    "attach_efs_csi_policy": {
                      "default": false,
                      "description": "Determines whether to attach the EFS CSI IAM policy to the role"
                    },
                    "attach_vpc_cni_policy": {
                      "default": false,
                      "description": "Determines whether to attach the VPC CNI IAM policy to the role"
                    },
                    "force_detach_policies": {
                      "default": true,
                      "description": "Whether policies should be detached from this role when destroying"
                    },
                    "velero_s3_bucket_arns": {
                      "default": [
                        "*"
                      ],
                      "description": "List of S3 Bucket ARNs that Velero needs access to in order to backup and restore cluster resources"
                    },
                    "allow_self_assume_role": {
                      "default": false,
                      "description": "Determines whether to allow the role to be [assume itself](https://aws.amazon.com/blogs/security/announcing-an-update-to-iam-role-trust-policy-behavior/)"
                    },
                    "karpenter_sqs_queue_arn": {
                      "description": "(Optional) ARN of SQS used by Karpenter when native node termination handling is enabled"
                    },
                    "assume_role_condition_test": {
                      "default": "StringEquals",
                      "description": "Name of the [IAM condition operator](https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html) to evaluate when assuming the role"
                    },
                    "attach_cert_manager_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Cert Manager IAM policy to the role"
                    },
                    "attach_external_dns_policy": {
                      "default": false,
                      "description": "Determines whether to attach the External DNS IAM policy to the role"
                    },
                    "mountpoint_s3_csi_kms_arns": {
                      "default": [],
                      "description": "KMS Key ARNs to allow Mountpoint S3 CSI driver to download and upload Objects of a S3 bucket using `aws:kms` SSE"
                    },
                    "karpenter_subnet_account_id": {
                      "default": "",
                      "description": "Account ID of where the subnets Karpenter will utilize resides. Used when subnets are shared from another account"
                    },
                    "mountpoint_s3_csi_path_arns": {
                      "default": [],
                      "description": "S3 path ARNs to allow Mountpoint S3 CSI driver to manage items at the provided path(s). This is required if `attach_mountpoint_s3_csi_policy = true`"
                    },
                    "attach_fsx_lustre_csi_policy": {
                      "default": false,
                      "description": "Determines whether to attach the FSx for Lustre CSI Driver IAM policy to the role"
                    },
                    "attach_fsx_openzfs_csi_policy": {
                      "default": false,
                      "description": "Determines whether to attach the FSx for OpenZFS CSI Driver IAM policy to the role"
                    },
                    "cert_manager_hosted_zone_arns": {
                      "default": [
                        "arn:aws:route53:::hostedzone/*"
                      ],
                      "description": "Route53 hosted zone ARNs to allow Cert manager to manage records"
                    },
                    "external_dns_hosted_zone_arns": {
                      "default": [
                        "arn:aws:route53:::hostedzone/*"
                      ],
                      "description": "Route53 hosted zone ARNs to allow External DNS to manage records"
                    },
                    "external_secrets_kms_key_arns": {
                      "default": [
                        "arn:aws:kms:*:*:key/*"
                      ],
                      "description": "List of KMS Key ARNs that are used by Secrets Manager that contain secrets to mount using External Secrets"
                    },
                    "mountpoint_s3_csi_bucket_arns": {
                      "default": [],
                      "description": "S3 bucket ARNs to allow Mountpoint S3 CSI to list buckets"
                    },
                    "role_permissions_boundary_arn": {
                      "description": "Permissions boundary ARN to use for IAM role"
                    },
                    "attach_external_secrets_policy": {
                      "default": false,
                      "description": "Determines whether to attach the External Secrets policy to the role"
                    },
                    "cluster_autoscaler_cluster_ids": {
                      "default": [],
                      "description": "[Deprecated - use `cluster_autoscaler_cluster_names`] List of cluster names to appropriately scope permissions within the Cluster Autoscaler IAM policy"
                    },
                    "vpc_cni_enable_cloudwatch_logs": {
                      "default": false,
                      "description": "Determines whether to enable VPC CNI permission to create CloudWatch Log groups and publish network policy events"
                    },
                    "attach_mountpoint_s3_csi_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Mountpoint S3 CSI IAM policy to the role"
                    },
                    "karpenter_controller_cluster_id": {
                      "default": "*",
                      "description": "[Deprecated - use `karpenter_controller_cluster_name`] The name of the cluster where the Karpenter controller is provisioned/managing"
                    },
                    "attach_appmesh_controller_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Appmesh Controller policy to the role"
                    },
                    "attach_cluster_autoscaler_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Cluster Autoscaler IAM policy to the role"
                    },
                    "cluster_autoscaler_cluster_names": {
                      "default": [],
                      "description": "List of cluster names to appropriately scope permissions within the Cluster Autoscaler IAM policy"
                    },
                    "fsx_lustre_csi_service_role_arns": {
                      "default": [
                        "arn:aws:iam::*:role/aws-service-role/s3.data-source.lustre.fsx.amazonaws.com/*"
                      ],
                      "description": "Service role ARNs to allow FSx for Lustre CSI create and manage FSX for Lustre service linked roles"
                    },
                    "attach_appmesh_envoy_proxy_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Appmesh envoy proxy policy to the role"
                    },
                    "fsx_openzfs_csi_service_role_arns": {
                      "default": [
                        "arn:aws:iam::*:role/aws-service-role/fsx.amazonaws.com/*"
                      ],
                      "description": "Service role ARNs to allow FSx for OpenZFS CSI create and manage FSX for openzfs service linked roles"
                    },
                    "karpenter_controller_cluster_name": {
                      "default": "*",
                      "description": "The name of the cluster where the Karpenter controller is provisioned/managing"
                    },
                    "attach_karpenter_controller_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Karpenter Controller policy to the role"
                    },
                    "external_secrets_ssm_parameter_arns": {
                      "default": [
                        "arn:aws:ssm:*:*:parameter/*"
                      ],
                      "description": "List of Systems Manager Parameter ARNs that contain secrets to mount using External Secrets"
                    },
                    "attach_aws_gateway_controller_policy": {
                      "default": false,
                      "description": "Determines whether to attach the AWS Gateway Controller IAM policy to the role"
                    },
                    "external_secrets_secrets_manager_arns": {
                      "default": [
                        "arn:aws:secretsmanager:*:*:secret:*"
                      ],
                      "description": "List of Secrets Manager ARNs that contain secrets to mount using External Secrets"
                    },
                    "attach_cloudwatch_observability_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Amazon CloudWatch Observability IAM policies to the role"
                    },
                    "attach_load_balancer_controller_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Load Balancer Controller policy to the role"
                    },
                    "attach_node_termination_handler_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Node Termination Handler policy to the role"
                    },
                    "karpenter_controller_node_iam_role_arns": {
                      "default": [
                        "*"
                      ],
                      "description": "List of node IAM role ARNs Karpenter can use to launch nodes"
                    },
                    "karpenter_controller_ssm_parameter_arns": {
                      "default": [
                        "arn:aws:ssm:*:*:parameter/aws/service/*"
                      ],
                      "description": "List of SSM Parameter ARNs that contain AMI IDs launched by Karpenter"
                    },
                    "node_termination_handler_sqs_queue_arns": {
                      "default": [
                        "*"
                      ],
                      "description": "List of SQS ARNs that contain node termination events"
                    },
                    "load_balancer_controller_targetgroup_arns": {
                      "default": [
                        "arn:aws:elasticloadbalancing:*:*:targetgroup/*/*"
                      ],
                      "description": "List of Target groups ARNs using Load Balancer Controller"
                    },
                    "enable_karpenter_instance_profile_creation": {
                      "default": false,
                      "description": "Determines whether Karpenter will be allowed to create the IAM instance profile (v1beta1/v0.32+)"
                    },
                    "attach_amazon_managed_service_prometheus_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Amazon Managed Service for Prometheus IAM policy to the role"
                    },
                    "amazon_managed_service_prometheus_workspace_arns": {
                      "default": [
                        "*"
                      ],
                      "description": "List of AMP Workspace ARNs to read and write metrics"
                    },
                    "external_secrets_secrets_manager_create_permission": {
                      "default": false,
                      "description": "Determins whether External Secrets may use secretsmanager:CreateSecret"
                    },
                    "attach_load_balancer_controller_targetgroup_binding_only_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Load Balancer Controller policy for the TargetGroupBinding only"
                    }
                  }
                },
                "source": "terraform-aws-modules/iam/aws//modules/iam-role-for-service-accounts-eks",
                "expressions": {
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "role_name": {
                    "references": [
                      "var.nuon_id"
                    ]
                  },
                  "oidc_providers": {
                    "references": [
                      "var.eks_oidc_provider_arn",
                      "local.external_dns.namespace",
                      "local.external_dns"
                    ]
                  },
                  "attach_external_dns_policy": {
                    "constant_value": true
                  },
                  "external_dns_hosted_zone_arns": {
                    "references": [
                      "aws_route53_zone.internal.arn",
                      "aws_route53_zone.internal",
                      "aws_route53_zone.public.arn",
                      "aws_route53_zone.public"
                    ]
                  }
                },
                "version_constraint": "~> 5.0"
              },
              "alb_controller_irsa": {
                "module": {
                  "outputs": {
                    "iam_role_arn": {
                      "expression": {
                        "references": [
                          "aws_iam_role.this[0].arn",
                          "aws_iam_role.this[0]",
                          "aws_iam_role.this"
                        ]
                      },
                      "description": "ARN of IAM role"
                    },
                    "iam_role_name": {
                      "expression": {
                        "references": [
                          "aws_iam_role.this[0].name",
                          "aws_iam_role.this[0]",
                          "aws_iam_role.this"
                        ]
                      },
                      "description": "Name of IAM role"
                    },
                    "iam_role_path": {
                      "expression": {
                        "references": [
                          "aws_iam_role.this[0].path",
                          "aws_iam_role.this[0]",
                          "aws_iam_role.this"
                        ]
                      },
                      "description": "Path of IAM role"
                    },
                    "iam_role_unique_id": {
                      "expression": {
                        "references": [
                          "aws_iam_role.this[0].unique_id",
                          "aws_iam_role.this[0]",
                          "aws_iam_role.this"
                        ]
                      },
                      "description": "Unique ID of IAM role"
                    }
                  },
                  "resources": [
                    {
                      "mode": "managed",
                      "name": "amazon_managed_service_prometheus",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.amazon_managed_service_prometheus",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.amazon_managed_service_prometheus[0].json",
                            "data.aws_iam_policy_document.amazon_managed_service_prometheus[0]",
                            "data.aws_iam_policy_document.amazon_managed_service_prometheus"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions to for Amazon Managed Service for Prometheus"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_amazon_managed_service_prometheus_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "appmesh_controller",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.appmesh_controller",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.appmesh_controller[0].json",
                            "data.aws_iam_policy_document.appmesh_controller[0]",
                            "data.aws_iam_policy_document.appmesh_controller"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions to for appmesh controller"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_appmesh_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "appmesh_envoy_proxy",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.appmesh_envoy_proxy",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.appmesh_envoy_proxy[0].json",
                            "data.aws_iam_policy_document.appmesh_envoy_proxy[0]",
                            "data.aws_iam_policy_document.appmesh_envoy_proxy"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions to for appmesh envoy proxy"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_appmesh_envoy_proxy_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "aws_gateway_controller",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.aws_gateway_controller",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.aws_gateway_controller[0].json",
                            "data.aws_iam_policy_document.aws_gateway_controller[0]",
                            "data.aws_iam_policy_document.aws_gateway_controller"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions for the AWS Gateway Controller"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_aws_gateway_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "cert_manager",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.cert_manager",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.cert_manager[0].json",
                            "data.aws_iam_policy_document.cert_manager[0]",
                            "data.aws_iam_policy_document.cert_manager"
                          ]
                        },
                        "description": {
                          "constant_value": "Cert Manager policy to allow management of Route53 hosted zone records"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_cert_manager_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "cluster_autoscaler",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.cluster_autoscaler",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.cluster_autoscaler[0].json",
                            "data.aws_iam_policy_document.cluster_autoscaler[0]",
                            "data.aws_iam_policy_document.cluster_autoscaler"
                          ]
                        },
                        "description": {
                          "constant_value": "Cluster autoscaler policy to allow examination and modification of EC2 Auto Scaling Groups"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_cluster_autoscaler_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "ebs_csi",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.ebs_csi",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.ebs_csi[0].json",
                            "data.aws_iam_policy_document.ebs_csi[0]",
                            "data.aws_iam_policy_document.ebs_csi"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions to manage EBS volumes via the container storage interface driver"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_ebs_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "efs_csi",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.efs_csi",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.efs_csi[0].json",
                            "data.aws_iam_policy_document.efs_csi[0]",
                            "data.aws_iam_policy_document.efs_csi"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions to manage EFS volumes via the container storage interface driver"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_efs_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "external_dns",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.external_dns",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.external_dns[0].json",
                            "data.aws_iam_policy_document.external_dns[0]",
                            "data.aws_iam_policy_document.external_dns"
                          ]
                        },
                        "description": {
                          "constant_value": "External DNS policy to allow management of Route53 hosted zone records"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_external_dns_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "external_secrets",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.external_secrets",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.external_secrets[0].json",
                            "data.aws_iam_policy_document.external_secrets[0]",
                            "data.aws_iam_policy_document.external_secrets"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions to for External Secrets to retrieve secrets from AWS SSM and AWS Secrets Manager"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_external_secrets_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "fsx_lustre_csi",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.fsx_lustre_csi",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.fsx_lustre_csi[0].json",
                            "data.aws_iam_policy_document.fsx_lustre_csi[0]",
                            "data.aws_iam_policy_document.fsx_lustre_csi"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions to manage FSx Lustre volumes via the container storage interface driver"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_fsx_lustre_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "fsx_openzfs_csi",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.fsx_openzfs_csi",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.fsx_openzfs_csi[0].json",
                            "data.aws_iam_policy_document.fsx_openzfs_csi[0]",
                            "data.aws_iam_policy_document.fsx_openzfs_csi"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions to manage FSx OpenZFS volumes via the container storage interface driver"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_fsx_openzfs_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "karpenter_controller",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.karpenter_controller",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.karpenter_controller[0].json",
                            "data.aws_iam_policy_document.karpenter_controller[0]",
                            "data.aws_iam_policy_document.karpenter_controller"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions to handle node termination events via the Node Termination Handler"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_karpenter_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "load_balancer_controller",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.load_balancer_controller",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.load_balancer_controller[0].json",
                            "data.aws_iam_policy_document.load_balancer_controller[0]",
                            "data.aws_iam_policy_document.load_balancer_controller"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions for AWS Load Balancer Controller addon"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_load_balancer_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "load_balancer_controller_targetgroup_only",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.load_balancer_controller_targetgroup_only",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.load_balancer_controller_targetgroup_only[0].json",
                            "data.aws_iam_policy_document.load_balancer_controller_targetgroup_only[0]",
                            "data.aws_iam_policy_document.load_balancer_controller_targetgroup_only"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions for AWS Load Balancer Controller addon in TargetGroup binding only scenario"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_load_balancer_controller_targetgroup_binding_only_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "mountpoint_s3_csi",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.mountpoint_s3_csi",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.mountpoint_s3_csi[0].json",
                            "data.aws_iam_policy_document.mountpoint_s3_csi[0]",
                            "data.aws_iam_policy_document.mountpoint_s3_csi"
                          ]
                        },
                        "description": {
                          "constant_value": "Mountpoint S3 CSI driver policy to allow management of S3"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_mountpoint_s3_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "node_termination_handler",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.node_termination_handler",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.node_termination_handler[0].json",
                            "data.aws_iam_policy_document.node_termination_handler[0]",
                            "data.aws_iam_policy_document.node_termination_handler"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides permissions to handle node termination events via the Node Termination Handler"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_node_termination_handler_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "velero",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.velero",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.velero[0].json",
                            "data.aws_iam_policy_document.velero[0]",
                            "data.aws_iam_policy_document.velero"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides Velero permissions to backup and restore cluster resources"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_velero_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "vpc_cni",
                      "type": "aws_iam_policy",
                      "address": "aws_iam_policy.vpc_cni",
                      "expressions": {
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "policy": {
                          "references": [
                            "data.aws_iam_policy_document.vpc_cni[0].json",
                            "data.aws_iam_policy_document.vpc_cni[0]",
                            "data.aws_iam_policy_document.vpc_cni"
                          ]
                        },
                        "description": {
                          "constant_value": "Provides the Amazon VPC CNI Plugin (amazon-vpc-cni-k8s) the permissions it requires to modify the IPv4/IPv6 address configuration on your EKS worker nodes"
                        },
                        "name_prefix": {
                          "references": [
                            "var.policy_name_prefix"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_vpc_cni_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "this",
                      "type": "aws_iam_role",
                      "address": "aws_iam_role.this",
                      "expressions": {
                        "name": {
                          "references": [
                            "var.role_name"
                          ]
                        },
                        "path": {
                          "references": [
                            "var.role_path"
                          ]
                        },
                        "tags": {
                          "references": [
                            "var.tags"
                          ]
                        },
                        "description": {
                          "references": [
                            "var.role_description"
                          ]
                        },
                        "name_prefix": {
                          "references": [
                            "var.role_name_prefix"
                          ]
                        },
                        "assume_role_policy": {
                          "references": [
                            "data.aws_iam_policy_document.this[0].json",
                            "data.aws_iam_policy_document.this[0]",
                            "data.aws_iam_policy_document.this"
                          ]
                        },
                        "max_session_duration": {
                          "references": [
                            "var.max_session_duration"
                          ]
                        },
                        "permissions_boundary": {
                          "references": [
                            "var.role_permissions_boundary_arn"
                          ]
                        },
                        "force_detach_policies": {
                          "references": [
                            "var.force_detach_policies"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "amazon_cloudwatch_observability",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.amazon_cloudwatch_observability",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "each.value"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "for_each_expression": {
                        "references": [
                          "local.partition",
                          "local.partition",
                          "var.create_role",
                          "var.attach_cloudwatch_observability_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "amazon_managed_service_prometheus",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.amazon_managed_service_prometheus",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.amazon_managed_service_prometheus[0].arn",
                            "aws_iam_policy.amazon_managed_service_prometheus[0]",
                            "aws_iam_policy.amazon_managed_service_prometheus"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_amazon_managed_service_prometheus_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "appmesh_controller",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.appmesh_controller",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.appmesh_controller[0].arn",
                            "aws_iam_policy.appmesh_controller[0]",
                            "aws_iam_policy.appmesh_controller"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_appmesh_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "appmesh_envoy_proxy",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.appmesh_envoy_proxy",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.appmesh_envoy_proxy[0].arn",
                            "aws_iam_policy.appmesh_envoy_proxy[0]",
                            "aws_iam_policy.appmesh_envoy_proxy"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_appmesh_envoy_proxy_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "aws_gateway_controller",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.aws_gateway_controller",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.aws_gateway_controller[0].arn",
                            "aws_iam_policy.aws_gateway_controller[0]",
                            "aws_iam_policy.aws_gateway_controller"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_aws_gateway_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "cert_manager",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.cert_manager",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.cert_manager[0].arn",
                            "aws_iam_policy.cert_manager[0]",
                            "aws_iam_policy.cert_manager"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_cert_manager_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "cluster_autoscaler",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.cluster_autoscaler",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.cluster_autoscaler[0].arn",
                            "aws_iam_policy.cluster_autoscaler[0]",
                            "aws_iam_policy.cluster_autoscaler"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_cluster_autoscaler_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "ebs_csi",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.ebs_csi",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.ebs_csi[0].arn",
                            "aws_iam_policy.ebs_csi[0]",
                            "aws_iam_policy.ebs_csi"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_ebs_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "efs_csi",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.efs_csi",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.efs_csi[0].arn",
                            "aws_iam_policy.efs_csi[0]",
                            "aws_iam_policy.efs_csi"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_efs_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "external_dns",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.external_dns",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.external_dns[0].arn",
                            "aws_iam_policy.external_dns[0]",
                            "aws_iam_policy.external_dns"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_external_dns_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "external_secrets",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.external_secrets",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.external_secrets[0].arn",
                            "aws_iam_policy.external_secrets[0]",
                            "aws_iam_policy.external_secrets"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_external_secrets_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "fsx_lustre_csi",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.fsx_lustre_csi",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.fsx_lustre_csi[0].arn",
                            "aws_iam_policy.fsx_lustre_csi[0]",
                            "aws_iam_policy.fsx_lustre_csi"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_fsx_lustre_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "fsx_openzfs_csi",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.fsx_openzfs_csi",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.fsx_openzfs_csi[0].arn",
                            "aws_iam_policy.fsx_openzfs_csi[0]",
                            "aws_iam_policy.fsx_openzfs_csi"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_fsx_openzfs_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "karpenter_controller",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.karpenter_controller",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.karpenter_controller[0].arn",
                            "aws_iam_policy.karpenter_controller[0]",
                            "aws_iam_policy.karpenter_controller"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_karpenter_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "load_balancer_controller",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.load_balancer_controller",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.load_balancer_controller[0].arn",
                            "aws_iam_policy.load_balancer_controller[0]",
                            "aws_iam_policy.load_balancer_controller"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_load_balancer_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "load_balancer_controller_targetgroup_only",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.load_balancer_controller_targetgroup_only",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.load_balancer_controller_targetgroup_only[0].arn",
                            "aws_iam_policy.load_balancer_controller_targetgroup_only[0]",
                            "aws_iam_policy.load_balancer_controller_targetgroup_only"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_load_balancer_controller_targetgroup_binding_only_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "mountpoint_s3_csi",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.mountpoint_s3_csi",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.mountpoint_s3_csi[0].arn",
                            "aws_iam_policy.mountpoint_s3_csi[0]",
                            "aws_iam_policy.mountpoint_s3_csi"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_mountpoint_s3_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "node_termination_handler",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.node_termination_handler",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.node_termination_handler[0].arn",
                            "aws_iam_policy.node_termination_handler[0]",
                            "aws_iam_policy.node_termination_handler"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_node_termination_handler_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "this",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.this",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "each.value"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "for_each_expression": {
                        "references": [
                          "var.role_policy_arns",
                          "var.create_role"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "velero",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.velero",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.velero[0].arn",
                            "aws_iam_policy.velero[0]",
                            "aws_iam_policy.velero"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_velero_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "managed",
                      "name": "vpc_cni",
                      "type": "aws_iam_role_policy_attachment",
                      "address": "aws_iam_role_policy_attachment.vpc_cni",
                      "expressions": {
                        "role": {
                          "references": [
                            "aws_iam_role.this[0].name",
                            "aws_iam_role.this[0]",
                            "aws_iam_role.this"
                          ]
                        },
                        "policy_arn": {
                          "references": [
                            "aws_iam_policy.vpc_cni[0].arn",
                            "aws_iam_policy.vpc_cni[0]",
                            "aws_iam_policy.vpc_cni"
                          ]
                        }
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_vpc_cni_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "current",
                      "type": "aws_caller_identity",
                      "address": "data.aws_caller_identity.current",
                      "schema_version": 0,
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "amazon_managed_service_prometheus",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.amazon_managed_service_prometheus",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "aps:RemoteWrite",
                                "aps:QueryMetrics",
                                "aps:GetSeries",
                                "aps:GetLabels",
                                "aps:GetMetricMetadata"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.amazon_managed_service_prometheus_workspace_arns"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_amazon_managed_service_prometheus_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "appmesh_controller",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.appmesh_controller",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "appmesh:ListVirtualRouters",
                                "appmesh:ListVirtualServices",
                                "appmesh:ListRoutes",
                                "appmesh:ListGatewayRoutes",
                                "appmesh:ListMeshes",
                                "appmesh:ListVirtualNodes",
                                "appmesh:ListVirtualGateways",
                                "appmesh:DescribeMesh",
                                "appmesh:DescribeVirtualRouter",
                                "appmesh:DescribeRoute",
                                "appmesh:DescribeVirtualNode",
                                "appmesh:DescribeVirtualGateway",
                                "appmesh:DescribeGatewayRoute",
                                "appmesh:DescribeVirtualService",
                                "appmesh:CreateMesh",
                                "appmesh:CreateVirtualRouter",
                                "appmesh:CreateVirtualGateway",
                                "appmesh:CreateVirtualService",
                                "appmesh:CreateGatewayRoute",
                                "appmesh:CreateRoute",
                                "appmesh:CreateVirtualNode",
                                "appmesh:UpdateMesh",
                                "appmesh:UpdateRoute",
                                "appmesh:UpdateVirtualGateway",
                                "appmesh:UpdateVirtualRouter",
                                "appmesh:UpdateGatewayRoute",
                                "appmesh:UpdateVirtualService",
                                "appmesh:UpdateVirtualNode",
                                "appmesh:DeleteMesh",
                                "appmesh:DeleteRoute",
                                "appmesh:DeleteVirtualRouter",
                                "appmesh:DeleteGatewayRoute",
                                "appmesh:DeleteVirtualService",
                                "appmesh:DeleteVirtualNode",
                                "appmesh:DeleteVirtualGateway"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "iam:CreateServiceLinkedRole"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "references": [
                                    "local.dns_suffix"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "iam:AWSServiceName"
                                }
                              }
                            ],
                            "resources": {
                              "references": [
                                "local.partition",
                                "local.dns_suffix"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "acm:ListCertificates",
                                "acm:DescribeCertificate",
                                "acm-pca:DescribeCertificateAuthority",
                                "acm-pca:ListCertificateAuthorities"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "servicediscovery:CreateService",
                                "servicediscovery:DeleteService",
                                "servicediscovery:GetService",
                                "servicediscovery:GetInstance",
                                "servicediscovery:RegisterInstance",
                                "servicediscovery:DeregisterInstance",
                                "servicediscovery:ListInstances",
                                "servicediscovery:ListNamespaces",
                                "servicediscovery:ListServices",
                                "servicediscovery:GetInstancesHealthStatus",
                                "servicediscovery:UpdateInstanceCustomHealthStatus",
                                "servicediscovery:GetOperation",
                                "route53:GetHealthCheck",
                                "route53:CreateHealthCheck",
                                "route53:UpdateHealthCheck",
                                "route53:ChangeResourceRecordSets",
                                "route53:DeleteHealthCheck"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_appmesh_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "appmesh_envoy_proxy",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.appmesh_envoy_proxy",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "appmesh:StreamAggregatedResources"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "acm:ExportCertificate",
                                "acm-pca:GetCertificateAuthorityCertificate"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_appmesh_envoy_proxy_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "aws_gateway_controller",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.aws_gateway_controller",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "vpc-lattice:*",
                                "ec2:DescribeVpcs",
                                "ec2:DescribeSubnets",
                                "ec2:DescribeTags",
                                "ec2:DescribeSecurityGroups",
                                "logs:CreateLogDelivery",
                                "logs:GetLogDelivery",
                                "logs:DescribeLogGroups",
                                "logs:PutResourcePolicy",
                                "logs:DescribeResourcePolicies",
                                "logs:UpdateLogDelivery",
                                "logs:DeleteLogDelivery",
                                "logs:ListLogDeliveries",
                                "tag:GetResources",
                                "firehose:TagDeliveryStream",
                                "s3:GetBucketPolicy",
                                "s3:PutBucketPolicy"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "iam:CreateServiceLinkedRole"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "references": [
                                    "local.dns_suffix"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "iam:AWSServiceName"
                                }
                              }
                            ],
                            "resources": {
                              "references": [
                                "local.partition",
                                "local.dns_suffix"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "iam:CreateServiceLinkedRole"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "references": [
                                    "local.dns_suffix"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "iam:AWSServiceName"
                                }
                              }
                            ],
                            "resources": {
                              "references": [
                                "local.partition",
                                "local.dns_suffix"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_aws_gateway_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "cert_manager",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.cert_manager",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "route53:GetChange"
                              ]
                            },
                            "resources": {
                              "references": [
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "route53:ChangeResourceRecordSets",
                                "route53:ListResourceRecordSets"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.cert_manager_hosted_zone_arns"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "route53:ListHostedZonesByName"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_cert_manager_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "cluster_autoscaler",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.cluster_autoscaler",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "autoscaling:DescribeAutoScalingGroups",
                                "autoscaling:DescribeAutoScalingInstances",
                                "autoscaling:DescribeLaunchConfigurations",
                                "autoscaling:DescribeScalingActivities",
                                "autoscaling:DescribeTags",
                                "ec2:DescribeLaunchTemplateVersions",
                                "ec2:DescribeInstanceTypes",
                                "eks:DescribeNodegroup",
                                "ec2:DescribeImages",
                                "ec2:GetInstanceTypesFromInstanceRequirements"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_cluster_autoscaler_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "ebs_csi",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.ebs_csi",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:CreateSnapshot",
                                "ec2:AttachVolume",
                                "ec2:DetachVolume",
                                "ec2:ModifyVolume",
                                "ec2:DescribeAvailabilityZones",
                                "ec2:DescribeInstances",
                                "ec2:DescribeSnapshots",
                                "ec2:DescribeTags",
                                "ec2:DescribeVolumes",
                                "ec2:DescribeVolumesModifications",
                                "ec2:EnableFastSnapshotRestores"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:CreateTags"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringEquals"
                                },
                                "values": {
                                  "constant_value": [
                                    "CreateVolume",
                                    "CreateSnapshot"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "ec2:CreateAction"
                                }
                              }
                            ],
                            "resources": {
                              "references": [
                                "local.partition",
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:DeleteTags"
                              ]
                            },
                            "resources": {
                              "references": [
                                "local.partition",
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:CreateVolume"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "constant_value": [
                                    true
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:RequestTag/ebs.csi.aws.com/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "references": [
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:CreateVolume"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "constant_value": [
                                    "*"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:RequestTag/CSIVolumeName"
                                }
                              }
                            ],
                            "resources": {
                              "references": [
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:CreateVolume"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "constant_value": [
                                    "owned"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:RequestTag/kubernetes.io/cluster/*"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:CreateVolume"
                              ]
                            },
                            "resources": {
                              "references": [
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:DeleteVolume"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "constant_value": [
                                    true
                                  ]
                                },
                                "variable": {
                                  "constant_value": "ec2:ResourceTag/ebs.csi.aws.com/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:DeleteVolume"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "constant_value": [
                                    "*"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "ec2:ResourceTag/CSIVolumeName"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:DeleteVolume"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "constant_value": [
                                    "owned"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "ec2:ResourceTag/kubernetes.io/cluster/*"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:DeleteVolume"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "constant_value": [
                                    "*"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "ec2:ResourceTag/kubernetes.io/created-for/pvc/name"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:DeleteSnapshot"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "constant_value": [
                                    "*"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "ec2:ResourceTag/CSIVolumeSnapshotName"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:DeleteSnapshot"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "constant_value": [
                                    true
                                  ]
                                },
                                "variable": {
                                  "constant_value": "ec2:ResourceTag/ebs.csi.aws.com/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_ebs_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "efs_csi",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.efs_csi",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:DescribeAvailabilityZones",
                                "elasticfilesystem:DescribeAccessPoints",
                                "elasticfilesystem:DescribeFileSystems",
                                "elasticfilesystem:DescribeMountTargets"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticfilesystem:CreateAccessPoint"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "constant_value": [
                                    "true"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:RequestTag/efs.csi.aws.com/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticfilesystem:TagResource"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "constant_value": [
                                    "true"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:RequestTag/efs.csi.aws.com/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticfilesystem:DeleteAccessPoint"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringEquals"
                                },
                                "values": {
                                  "constant_value": [
                                    "true"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:ResourceTag/efs.csi.aws.com/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_efs_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "external_dns",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.external_dns",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "route53:ChangeResourceRecordSets"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.external_dns_hosted_zone_arns"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "route53:ListHostedZones",
                                "route53:ListResourceRecordSets",
                                "route53:ListTagsForResources"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_external_dns_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "external_secrets",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.external_secrets",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "ssm:DescribeParameters"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "secretsmanager:ListSecrets",
                                "secretsmanager:BatchGetSecretValue"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "secretsmanager:GetResourcePolicy",
                                "secretsmanager:GetSecretValue",
                                "secretsmanager:DescribeSecret",
                                "secretsmanager:ListSecretVersionIds"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.external_secrets_secrets_manager_arns"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_external_secrets_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "fsx_lustre_csi",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.fsx_lustre_csi",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "iam:CreateServiceLinkedRole",
                                "iam:AttachRolePolicy",
                                "iam:PutRolePolicy"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.fsx_lustre_csi_service_role_arns"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "iam:CreateServiceLinkedRole"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "references": [
                                    "local.dns_suffix"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "iam:AWSServiceName"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "s3:ListBucket",
                                "fsx:CreateFileSystem",
                                "fsx:DeleteFileSystem",
                                "fsx:DescribeFileSystems",
                                "fsx:TagResource",
                                "fsx:UpdateFileSystem"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_fsx_lustre_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "fsx_openzfs_csi",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.fsx_openzfs_csi",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "iam:CreateServiceLinkedRole",
                                "iam:AttachRolePolicy",
                                "iam:PutRolePolicy"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.fsx_openzfs_csi_service_role_arns"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "iam:CreateServiceLinkedRole"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringLike"
                                },
                                "values": {
                                  "references": [
                                    "local.dns_suffix"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "iam:AWSServiceName"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "fsx:CreateFileSystem",
                                "fsx:UpdateFileSystem",
                                "fsx:DeleteFileSystem",
                                "fsx:DescribeFileSystems",
                                "fsx:CreateVolume",
                                "fsx:DeleteVolume",
                                "fsx:DescribeVolumes",
                                "fsx:CreateSnapshot",
                                "fsx:DeleteSnapshot",
                                "fsx:DescribeSnapshots",
                                "fsx:TagResource",
                                "fsx:ListTagsForResource"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_fsx_openzfs_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "karpenter_controller",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.karpenter_controller",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:CreateFleet",
                                "ec2:CreateLaunchTemplate",
                                "ec2:CreateTags",
                                "ec2:DescribeAvailabilityZones",
                                "ec2:DescribeImages",
                                "ec2:DescribeInstances",
                                "ec2:DescribeInstanceTypeOfferings",
                                "ec2:DescribeInstanceTypes",
                                "ec2:DescribeLaunchTemplates",
                                "ec2:DescribeSecurityGroups",
                                "ec2:DescribeSpotPriceHistory",
                                "ec2:DescribeSubnets",
                                "pricing:GetProducts"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:TerminateInstances",
                                "ec2:DeleteLaunchTemplate"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringEquals"
                                },
                                "values": {
                                  "references": [
                                    "local.karpenter_controller_cluster_name"
                                  ]
                                },
                                "variable": {
                                  "references": [
                                    "var.karpenter_tag_key"
                                  ]
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:RunInstances"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringEquals"
                                },
                                "values": {
                                  "references": [
                                    "local.karpenter_controller_cluster_name"
                                  ]
                                },
                                "variable": {
                                  "references": [
                                    "var.karpenter_tag_key"
                                  ]
                                }
                              }
                            ],
                            "resources": {
                              "references": [
                                "local.partition",
                                "local.account_id"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:RunInstances"
                              ]
                            },
                            "resources": {
                              "references": [
                                "local.partition",
                                "local.partition",
                                "local.account_id",
                                "local.partition",
                                "local.account_id",
                                "local.partition",
                                "local.account_id",
                                "local.partition",
                                "local.account_id",
                                "local.partition",
                                "local.account_id",
                                "local.partition",
                                "var.karpenter_subnet_account_id",
                                "local.account_id"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ssm:GetParameter"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.karpenter_controller_ssm_parameter_arns"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "iam:PassRole"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.karpenter_controller_node_iam_role_arns"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "eks:DescribeCluster"
                              ]
                            },
                            "resources": {
                              "references": [
                                "local.partition",
                                "local.region",
                                "local.account_id",
                                "local.karpenter_controller_cluster_name"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_karpenter_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "load_balancer_controller",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.load_balancer_controller",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "iam:CreateServiceLinkedRole"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringEquals"
                                },
                                "values": {
                                  "references": [
                                    "local.dns_suffix"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "iam:AWSServiceName"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:DescribeAccountAttributes",
                                "ec2:DescribeAddresses",
                                "ec2:DescribeAvailabilityZones",
                                "ec2:DescribeInternetGateways",
                                "ec2:DescribeVpcs",
                                "ec2:DescribeVpcPeeringConnections",
                                "ec2:DescribeSubnets",
                                "ec2:DescribeSecurityGroups",
                                "ec2:DescribeInstances",
                                "ec2:DescribeNetworkInterfaces",
                                "ec2:DescribeTags",
                                "ec2:GetCoipPoolUsage",
                                "ec2:DescribeCoipPools",
                                "ec2:GetSecurityGroupsForVpc",
                                "ec2:DescribeIpamPools",
                                "ec2:DescribeRouteTables",
                                "elasticloadbalancing:DescribeLoadBalancers",
                                "elasticloadbalancing:DescribeLoadBalancerAttributes",
                                "elasticloadbalancing:DescribeListeners",
                                "elasticloadbalancing:DescribeListenerCertificates",
                                "elasticloadbalancing:DescribeSSLPolicies",
                                "elasticloadbalancing:DescribeRules",
                                "elasticloadbalancing:DescribeTargetGroups",
                                "elasticloadbalancing:DescribeTargetGroupAttributes",
                                "elasticloadbalancing:DescribeTargetHealth",
                                "elasticloadbalancing:DescribeTags",
                                "elasticloadbalancing:DescribeTrustStores",
                                "elasticloadbalancing:DescribeListenerAttributes",
                                "elasticloadbalancing:DescribeCapacityReservation"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "cognito-idp:DescribeUserPoolClient",
                                "acm:ListCertificates",
                                "acm:DescribeCertificate",
                                "iam:ListServerCertificates",
                                "iam:GetServerCertificate",
                                "waf-regional:GetWebACL",
                                "waf-regional:GetWebACLForResource",
                                "waf-regional:AssociateWebACL",
                                "waf-regional:DisassociateWebACL",
                                "wafv2:GetWebACL",
                                "wafv2:GetWebACLForResource",
                                "wafv2:AssociateWebACL",
                                "wafv2:DisassociateWebACL",
                                "shield:GetSubscriptionState",
                                "shield:DescribeProtection",
                                "shield:CreateProtection",
                                "shield:DeleteProtection"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:AuthorizeSecurityGroupIngress",
                                "ec2:RevokeSecurityGroupIngress"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:CreateSecurityGroup"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:CreateTags"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringEquals"
                                },
                                "values": {
                                  "constant_value": [
                                    "CreateSecurityGroup"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "ec2:CreateAction"
                                }
                              },
                              {
                                "test": {
                                  "constant_value": "Null"
                                },
                                "values": {
                                  "constant_value": [
                                    "false"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:RequestTag/elbv2.k8s.aws/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "references": [
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:CreateTags",
                                "ec2:DeleteTags"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "Null"
                                },
                                "values": {
                                  "constant_value": [
                                    "true"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:RequestTag/elbv2.k8s.aws/cluster"
                                }
                              },
                              {
                                "test": {
                                  "constant_value": "Null"
                                },
                                "values": {
                                  "constant_value": [
                                    "false"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:ResourceTag/elbv2.k8s.aws/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "references": [
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:AuthorizeSecurityGroupIngress",
                                "ec2:RevokeSecurityGroupIngress",
                                "ec2:DeleteSecurityGroup"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "Null"
                                },
                                "values": {
                                  "constant_value": [
                                    "false"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:ResourceTag/elbv2.k8s.aws/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticloadbalancing:CreateLoadBalancer",
                                "elasticloadbalancing:CreateTargetGroup"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "Null"
                                },
                                "values": {
                                  "constant_value": [
                                    "false"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:RequestTag/elbv2.k8s.aws/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticloadbalancing:CreateListener",
                                "elasticloadbalancing:DeleteListener",
                                "elasticloadbalancing:CreateRule",
                                "elasticloadbalancing:DeleteRule"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticloadbalancing:AddTags",
                                "elasticloadbalancing:RemoveTags"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "Null"
                                },
                                "values": {
                                  "constant_value": [
                                    "true"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:RequestTag/elbv2.k8s.aws/cluster"
                                }
                              },
                              {
                                "test": {
                                  "constant_value": "Null"
                                },
                                "values": {
                                  "constant_value": [
                                    "false"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:ResourceTag/elbv2.k8s.aws/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "references": [
                                "local.partition",
                                "local.partition",
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticloadbalancing:AddTags",
                                "elasticloadbalancing:RemoveTags"
                              ]
                            },
                            "resources": {
                              "references": [
                                "local.partition",
                                "local.partition",
                                "local.partition",
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticloadbalancing:ModifyLoadBalancerAttributes",
                                "elasticloadbalancing:SetIpAddressType",
                                "elasticloadbalancing:SetSecurityGroups",
                                "elasticloadbalancing:SetSubnets",
                                "elasticloadbalancing:DeleteLoadBalancer",
                                "elasticloadbalancing:ModifyTargetGroup",
                                "elasticloadbalancing:ModifyTargetGroupAttributes",
                                "elasticloadbalancing:DeleteTargetGroup",
                                "elasticloadbalancing:ModifyListenerAttributes",
                                "elasticloadbalancing:ModifyCapacityReservation",
                                "elasticloadbalancing:ModifyIpPools"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "Null"
                                },
                                "values": {
                                  "constant_value": [
                                    "false"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:ResourceTag/elbv2.k8s.aws/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticloadbalancing:AddTags"
                              ]
                            },
                            "condition": [
                              {
                                "test": {
                                  "constant_value": "StringEquals"
                                },
                                "values": {
                                  "constant_value": [
                                    "CreateTargetGroup",
                                    "CreateLoadBalancer"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "elasticloadbalancing:CreateAction"
                                }
                              },
                              {
                                "test": {
                                  "constant_value": "Null"
                                },
                                "values": {
                                  "constant_value": [
                                    "false"
                                  ]
                                },
                                "variable": {
                                  "constant_value": "aws:RequestTag/elbv2.k8s.aws/cluster"
                                }
                              }
                            ],
                            "resources": {
                              "references": [
                                "local.partition",
                                "local.partition",
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticloadbalancing:RegisterTargets",
                                "elasticloadbalancing:DeregisterTargets"
                              ]
                            },
                            "resources": {
                              "references": [
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticloadbalancing:SetWebAcl",
                                "elasticloadbalancing:ModifyListener",
                                "elasticloadbalancing:AddListenerCertificates",
                                "elasticloadbalancing:RemoveListenerCertificates",
                                "elasticloadbalancing:ModifyRule",
                                "elasticloadbalancing:SetRulePriorities"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_load_balancer_controller_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "load_balancer_controller_targetgroup_only",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.load_balancer_controller_targetgroup_only",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "ec2:DescribeSecurityGroups",
                                "ec2:DescribeInstances",
                                "ec2:DescribeVpcs",
                                "ec2:AuthorizeSecurityGroupIngress",
                                "ec2:RevokeSecurityGroupIngress",
                                "elasticloadbalancing:DescribeTargetGroups",
                                "elasticloadbalancing:DescribeTargetHealth"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "elasticloadbalancing:ModifyTargetGroup",
                                "elasticloadbalancing:ModifyTargetGroupAttributes",
                                "elasticloadbalancing:RegisterTargets",
                                "elasticloadbalancing:DeregisterTargets"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.load_balancer_controller_targetgroup_arns"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_load_balancer_controller_targetgroup_binding_only_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "mountpoint_s3_csi",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.mountpoint_s3_csi",
                      "expressions": {
                        "statement": [
                          {
                            "sid": {
                              "constant_value": "MountpointFullBucketAccess"
                            },
                            "actions": {
                              "constant_value": [
                                "s3:ListBucket"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.mountpoint_s3_csi_bucket_arns",
                                "local.partition"
                              ]
                            }
                          },
                          {
                            "sid": {
                              "constant_value": "MountpointFullObjectAccess"
                            },
                            "actions": {
                              "constant_value": [
                                "s3:GetObject",
                                "s3:PutObject",
                                "s3:AbortMultipartUpload",
                                "s3:DeleteObject"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.mountpoint_s3_csi_path_arns"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_mountpoint_s3_csi_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "node_termination_handler",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.node_termination_handler",
                      "expressions": {
                        "statement": [
                          {
                            "actions": {
                              "constant_value": [
                                "autoscaling:CompleteLifecycleAction",
                                "autoscaling:DescribeAutoScalingInstances",
                                "autoscaling:DescribeTags",
                                "ec2:DescribeInstances"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "actions": {
                              "constant_value": [
                                "sqs:DeleteMessage",
                                "sqs:ReceiveMessage"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.node_termination_handler_sqs_queue_arns"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_node_termination_handler_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "this",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.this",
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "velero",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.velero",
                      "expressions": {
                        "statement": [
                          {
                            "sid": {
                              "constant_value": "Ec2ReadWrite"
                            },
                            "actions": {
                              "constant_value": [
                                "ec2:DescribeVolumes",
                                "ec2:DescribeSnapshots",
                                "ec2:CreateTags",
                                "ec2:CreateVolume",
                                "ec2:CreateSnapshot",
                                "ec2:DeleteSnapshot"
                              ]
                            },
                            "resources": {
                              "constant_value": [
                                "*"
                              ]
                            }
                          },
                          {
                            "sid": {
                              "constant_value": "S3ReadWrite"
                            },
                            "actions": {
                              "constant_value": [
                                "s3:GetObject",
                                "s3:DeleteObject",
                                "s3:PutObject",
                                "s3:PutObjectTagging",
                                "s3:AbortMultipartUpload",
                                "s3:ListMultipartUploadParts"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.velero_s3_bucket_arns"
                              ]
                            }
                          },
                          {
                            "sid": {
                              "constant_value": "S3List"
                            },
                            "actions": {
                              "constant_value": [
                                "s3:ListBucket"
                              ]
                            },
                            "resources": {
                              "references": [
                                "var.velero_s3_bucket_arns"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_velero_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "vpc_cni",
                      "type": "aws_iam_policy_document",
                      "address": "data.aws_iam_policy_document.vpc_cni",
                      "expressions": {
                        "statement": [
                          {
                            "sid": {
                              "constant_value": "CreateTags"
                            },
                            "actions": {
                              "constant_value": [
                                "ec2:CreateTags"
                              ]
                            },
                            "resources": {
                              "references": [
                                "local.partition"
                              ]
                            }
                          }
                        ]
                      },
                      "schema_version": 0,
                      "count_expression": {
                        "references": [
                          "var.create_role",
                          "var.attach_vpc_cni_policy"
                        ]
                      },
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "current",
                      "type": "aws_partition",
                      "address": "data.aws_partition.current",
                      "schema_version": 0,
                      "provider_config_key": "aws"
                    },
                    {
                      "mode": "data",
                      "name": "current",
                      "type": "aws_region",
                      "address": "data.aws_region.current",
                      "schema_version": 0,
                      "provider_config_key": "aws"
                    }
                  ],
                  "variables": {
                    "tags": {
                      "default": {},
                      "description": "A map of tags to add the the IAM role"
                    },
                    "role_name": {
                      "description": "Name of IAM role"
                    },
                    "role_path": {
                      "default": "/",
                      "description": "Path of IAM role"
                    },
                    "create_role": {
                      "default": true,
                      "description": "Whether to create a role"
                    },
                    "oidc_providers": {
                      "default": {},
                      "description": "Map of OIDC providers where each provider map should contain the `provider_arn` and `namespace_service_accounts`"
                    },
                    "role_description": {
                      "description": "IAM Role description"
                    },
                    "role_name_prefix": {
                      "description": "IAM role name prefix"
                    },
                    "role_policy_arns": {
                      "default": {},
                      "description": "ARNs of any policies to attach to the IAM role"
                    },
                    "karpenter_tag_key": {
                      "default": "karpenter.sh/discovery",
                      "description": "Tag key (`{key = value}`) applied to resources launched by Karpenter through the Karpenter provisioner"
                    },
                    "policy_name_prefix": {
                      "default": "AmazonEKS_",
                      "description": "IAM policy name prefix"
                    },
                    "ebs_csi_kms_cmk_ids": {
                      "default": [],
                      "description": "KMS CMK IDs to allow EBS CSI to manage encrypted volumes"
                    },
                    "vpc_cni_enable_ipv4": {
                      "default": false,
                      "description": "Determines whether to enable IPv4 permissions for VPC CNI policy"
                    },
                    "vpc_cni_enable_ipv6": {
                      "default": false,
                      "description": "Determines whether to enable IPv6 permissions for VPC CNI policy"
                    },
                    "attach_velero_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Velero IAM policy to the role"
                    },
                    "max_session_duration": {
                      "description": "Maximum CLI/API session duration in seconds between 3600 and 43200"
                    },
                    "attach_ebs_csi_policy": {
                      "default": false,
                      "description": "Determines whether to attach the EBS CSI IAM policy to the role"
                    },
                    "attach_efs_csi_policy": {
                      "default": false,
                      "description": "Determines whether to attach the EFS CSI IAM policy to the role"
                    },
                    "attach_vpc_cni_policy": {
                      "default": false,
                      "description": "Determines whether to attach the VPC CNI IAM policy to the role"
                    },
                    "force_detach_policies": {
                      "default": true,
                      "description": "Whether policies should be detached from this role when destroying"
                    },
                    "velero_s3_bucket_arns": {
                      "default": [
                        "*"
                      ],
                      "description": "List of S3 Bucket ARNs that Velero needs access to in order to backup and restore cluster resources"
                    },
                    "allow_self_assume_role": {
                      "default": false,
                      "description": "Determines whether to allow the role to be [assume itself](https://aws.amazon.com/blogs/security/announcing-an-update-to-iam-role-trust-policy-behavior/)"
                    },
                    "karpenter_sqs_queue_arn": {
                      "description": "(Optional) ARN of SQS used by Karpenter when native node termination handling is enabled"
                    },
                    "assume_role_condition_test": {
                      "default": "StringEquals",
                      "description": "Name of the [IAM condition operator](https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html) to evaluate when assuming the role"
                    },
                    "attach_cert_manager_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Cert Manager IAM policy to the role"
                    },
                    "attach_external_dns_policy": {
                      "default": false,
                      "description": "Determines whether to attach the External DNS IAM policy to the role"
                    },
                    "mountpoint_s3_csi_kms_arns": {
                      "default": [],
                      "description": "KMS Key ARNs to allow Mountpoint S3 CSI driver to download and upload Objects of a S3 bucket using `aws:kms` SSE"
                    },
                    "karpenter_subnet_account_id": {
                      "default": "",
                      "description": "Account ID of where the subnets Karpenter will utilize resides. Used when subnets are shared from another account"
                    },
                    "mountpoint_s3_csi_path_arns": {
                      "default": [],
                      "description": "S3 path ARNs to allow Mountpoint S3 CSI driver to manage items at the provided path(s). This is required if `attach_mountpoint_s3_csi_policy = true`"
                    },
                    "attach_fsx_lustre_csi_policy": {
                      "default": false,
                      "description": "Determines whether to attach the FSx for Lustre CSI Driver IAM policy to the role"
                    },
                    "attach_fsx_openzfs_csi_policy": {
                      "default": false,
                      "description": "Determines whether to attach the FSx for OpenZFS CSI Driver IAM policy to the role"
                    },
                    "cert_manager_hosted_zone_arns": {
                      "default": [
                        "arn:aws:route53:::hostedzone/*"
                      ],
                      "description": "Route53 hosted zone ARNs to allow Cert manager to manage records"
                    },
                    "external_dns_hosted_zone_arns": {
                      "default": [
                        "arn:aws:route53:::hostedzone/*"
                      ],
                      "description": "Route53 hosted zone ARNs to allow External DNS to manage records"
                    },
                    "external_secrets_kms_key_arns": {
                      "default": [
                        "arn:aws:kms:*:*:key/*"
                      ],
                      "description": "List of KMS Key ARNs that are used by Secrets Manager that contain secrets to mount using External Secrets"
                    },
                    "mountpoint_s3_csi_bucket_arns": {
                      "default": [],
                      "description": "S3 bucket ARNs to allow Mountpoint S3 CSI to list buckets"
                    },
                    "role_permissions_boundary_arn": {
                      "description": "Permissions boundary ARN to use for IAM role"
                    },
                    "attach_external_secrets_policy": {
                      "default": false,
                      "description": "Determines whether to attach the External Secrets policy to the role"
                    },
                    "cluster_autoscaler_cluster_ids": {
                      "default": [],
                      "description": "[Deprecated - use `cluster_autoscaler_cluster_names`] List of cluster names to appropriately scope permissions within the Cluster Autoscaler IAM policy"
                    },
                    "vpc_cni_enable_cloudwatch_logs": {
                      "default": false,
                      "description": "Determines whether to enable VPC CNI permission to create CloudWatch Log groups and publish network policy events"
                    },
                    "attach_mountpoint_s3_csi_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Mountpoint S3 CSI IAM policy to the role"
                    },
                    "karpenter_controller_cluster_id": {
                      "default": "*",
                      "description": "[Deprecated - use `karpenter_controller_cluster_name`] The name of the cluster where the Karpenter controller is provisioned/managing"
                    },
                    "attach_appmesh_controller_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Appmesh Controller policy to the role"
                    },
                    "attach_cluster_autoscaler_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Cluster Autoscaler IAM policy to the role"
                    },
                    "cluster_autoscaler_cluster_names": {
                      "default": [],
                      "description": "List of cluster names to appropriately scope permissions within the Cluster Autoscaler IAM policy"
                    },
                    "fsx_lustre_csi_service_role_arns": {
                      "default": [
                        "arn:aws:iam::*:role/aws-service-role/s3.data-source.lustre.fsx.amazonaws.com/*"
                      ],
                      "description": "Service role ARNs to allow FSx for Lustre CSI create and manage FSX for Lustre service linked roles"
                    },
                    "attach_appmesh_envoy_proxy_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Appmesh envoy proxy policy to the role"
                    },
                    "fsx_openzfs_csi_service_role_arns": {
                      "default": [
                        "arn:aws:iam::*:role/aws-service-role/fsx.amazonaws.com/*"
                      ],
                      "description": "Service role ARNs to allow FSx for OpenZFS CSI create and manage FSX for openzfs service linked roles"
                    },
                    "karpenter_controller_cluster_name": {
                      "default": "*",
                      "description": "The name of the cluster where the Karpenter controller is provisioned/managing"
                    },
                    "attach_karpenter_controller_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Karpenter Controller policy to the role"
                    },
                    "external_secrets_ssm_parameter_arns": {
                      "default": [
                        "arn:aws:ssm:*:*:parameter/*"
                      ],
                      "description": "List of Systems Manager Parameter ARNs that contain secrets to mount using External Secrets"
                    },
                    "attach_aws_gateway_controller_policy": {
                      "default": false,
                      "description": "Determines whether to attach the AWS Gateway Controller IAM policy to the role"
                    },
                    "external_secrets_secrets_manager_arns": {
                      "default": [
                        "arn:aws:secretsmanager:*:*:secret:*"
                      ],
                      "description": "List of Secrets Manager ARNs that contain secrets to mount using External Secrets"
                    },
                    "attach_cloudwatch_observability_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Amazon CloudWatch Observability IAM policies to the role"
                    },
                    "attach_load_balancer_controller_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Load Balancer Controller policy to the role"
                    },
                    "attach_node_termination_handler_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Node Termination Handler policy to the role"
                    },
                    "karpenter_controller_node_iam_role_arns": {
                      "default": [
                        "*"
                      ],
                      "description": "List of node IAM role ARNs Karpenter can use to launch nodes"
                    },
                    "karpenter_controller_ssm_parameter_arns": {
                      "default": [
                        "arn:aws:ssm:*:*:parameter/aws/service/*"
                      ],
                      "description": "List of SSM Parameter ARNs that contain AMI IDs launched by Karpenter"
                    },
                    "node_termination_handler_sqs_queue_arns": {
                      "default": [
                        "*"
                      ],
                      "description": "List of SQS ARNs that contain node termination events"
                    },
                    "load_balancer_controller_targetgroup_arns": {
                      "default": [
                        "arn:aws:elasticloadbalancing:*:*:targetgroup/*/*"
                      ],
                      "description": "List of Target groups ARNs using Load Balancer Controller"
                    },
                    "enable_karpenter_instance_profile_creation": {
                      "default": false,
                      "description": "Determines whether Karpenter will be allowed to create the IAM instance profile (v1beta1/v0.32+)"
                    },
                    "attach_amazon_managed_service_prometheus_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Amazon Managed Service for Prometheus IAM policy to the role"
                    },
                    "amazon_managed_service_prometheus_workspace_arns": {
                      "default": [
                        "*"
                      ],
                      "description": "List of AMP Workspace ARNs to read and write metrics"
                    },
                    "external_secrets_secrets_manager_create_permission": {
                      "default": false,
                      "description": "Determins whether External Secrets may use secretsmanager:CreateSecret"
                    },
                    "attach_load_balancer_controller_targetgroup_binding_only_policy": {
                      "default": false,
                      "description": "Determines whether to attach the Load Balancer Controller policy for the TargetGroupBinding only"
                    }
                  }
                },
                "source": "terraform-aws-modules/iam/aws//modules/iam-role-for-service-accounts-eks",
                "expressions": {
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "role_name": {
                    "references": [
                      "var.nuon_id"
                    ]
                  },
                  "create_role": {
                    "constant_value": true
                  },
                  "oidc_providers": {
                    "references": [
                      "var.eks_oidc_provider_arn",
                      "local.alb_ingress_controller.namespace",
                      "local.alb_ingress_controller",
                      "local.alb_ingress_controller.service_account_name",
                      "local.alb_ingress_controller"
                    ]
                  },
                  "attach_load_balancer_controller_policy": {
                    "constant_value": true
                  }
                },
                "version_constraint": "~> 5.0"
              }
            }
          },
          "source": "./nuon_dns",
          "depends_on": [
            "module.eks",
            "aws_security_group_rule.runner_cluster_access"
          ],
          "expressions": {
            "tags": {
              "references": [
                "var.tags"
              ]
            },
            "region": {
              "references": [
                "var.region"
              ]
            },
            "vpc_id": {
              "references": [
                "data.aws_vpc.vpc.id",
                "data.aws_vpc.vpc"
              ]
            },
            "nuon_id": {
              "references": [
                "var.nuon_id"
              ]
            },
            "eks_cluster_name": {
              "references": [
                "module.eks.cluster_name",
                "module.eks"
              ]
            },
            "public_root_domain": {
              "references": [
                "var.public_root_domain"
              ]
            },
            "internal_root_domain": {
              "references": [
                "var.internal_root_domain"
              ]
            },
            "eks_oidc_provider_arn": {
              "references": [
                "module.eks.oidc_provider_arn",
                "module.eks"
              ]
            }
          },
          "count_expression": {
            "references": [
              "local.nuon_dns.enabled",
              "local.nuon_dns"
            ]
          }
        },
        "karpenter": {
          "module": {
            "outputs": {
              "namespace": {
                "expression": {
                  "references": [
                    "var.namespace"
                  ]
                },
                "description": "Namespace associated with the Karpenter Pod Identity"
              },
              "queue_arn": {
                "expression": {
                  "references": [
                    "aws_sqs_queue.this[0].arn",
                    "aws_sqs_queue.this[0]",
                    "aws_sqs_queue.this"
                  ]
                },
                "description": "The ARN of the SQS queue"
              },
              "queue_url": {
                "expression": {
                  "references": [
                    "aws_sqs_queue.this[0].url",
                    "aws_sqs_queue.this[0]",
                    "aws_sqs_queue.this"
                  ]
                },
                "description": "The URL for the created Amazon SQS queue"
              },
              "queue_name": {
                "expression": {
                  "references": [
                    "aws_sqs_queue.this[0].name",
                    "aws_sqs_queue.this[0]",
                    "aws_sqs_queue.this"
                  ]
                },
                "description": "The name of the created Amazon SQS queue"
              },
              "event_rules": {
                "expression": {
                  "references": [
                    "aws_cloudwatch_event_rule.this"
                  ]
                },
                "description": "Map of the event rules created and their attributes"
              },
              "iam_role_arn": {
                "expression": {
                  "references": [
                    "aws_iam_role.controller[0].arn",
                    "aws_iam_role.controller[0]",
                    "aws_iam_role.controller"
                  ]
                },
                "description": "The Amazon Resource Name (ARN) specifying the controller IAM role"
              },
              "iam_role_name": {
                "expression": {
                  "references": [
                    "aws_iam_role.controller[0].name",
                    "aws_iam_role.controller[0]",
                    "aws_iam_role.controller"
                  ]
                },
                "description": "The name of the controller IAM role"
              },
              "service_account": {
                "expression": {
                  "references": [
                    "var.service_account"
                  ]
                },
                "description": "Service Account associated with the Karpenter Pod Identity"
              },
              "node_iam_role_arn": {
                "expression": {
                  "references": [
                    "aws_iam_role.node[0].arn",
                    "aws_iam_role.node[0]",
                    "aws_iam_role.node",
                    "var.node_iam_role_arn"
                  ]
                },
                "description": "The Amazon Resource Name (ARN) specifying the node IAM role"
              },
              "iam_role_unique_id": {
                "expression": {
                  "references": [
                    "aws_iam_role.controller[0].unique_id",
                    "aws_iam_role.controller[0]",
                    "aws_iam_role.controller"
                  ]
                },
                "description": "Stable and unique string identifying the controller IAM role"
              },
              "node_iam_role_name": {
                "expression": {
                  "references": [
                    "aws_iam_role.node[0].name",
                    "aws_iam_role.node[0]",
                    "aws_iam_role.node"
                  ]
                },
                "description": "The name of the node IAM role"
              },
              "instance_profile_id": {
                "expression": {
                  "references": [
                    "aws_iam_instance_profile.this[0].id",
                    "aws_iam_instance_profile.this[0]",
                    "aws_iam_instance_profile.this"
                  ]
                },
                "description": "Instance profile's ID"
              },
              "instance_profile_arn": {
                "expression": {
                  "references": [
                    "aws_iam_instance_profile.this[0].arn",
                    "aws_iam_instance_profile.this[0]",
                    "aws_iam_instance_profile.this"
                  ]
                },
                "description": "ARN assigned by AWS to the instance profile"
              },
              "instance_profile_name": {
                "expression": {
                  "references": [
                    "aws_iam_instance_profile.this[0].name",
                    "aws_iam_instance_profile.this[0]",
                    "aws_iam_instance_profile.this"
                  ]
                },
                "description": "Name of the instance profile"
              },
              "node_access_entry_arn": {
                "expression": {
                  "references": [
                    "aws_eks_access_entry.node[0].access_entry_arn",
                    "aws_eks_access_entry.node[0]",
                    "aws_eks_access_entry.node"
                  ]
                },
                "description": "Amazon Resource Name (ARN) of the node Access Entry"
              },
              "instance_profile_unique": {
                "expression": {
                  "references": [
                    "aws_iam_instance_profile.this[0].unique_id",
                    "aws_iam_instance_profile.this[0]",
                    "aws_iam_instance_profile.this"
                  ]
                },
                "description": "Stable and unique string identifying the IAM instance profile"
              },
              "node_iam_role_unique_id": {
                "expression": {
                  "references": [
                    "aws_iam_role.node[0].unique_id",
                    "aws_iam_role.node[0]",
                    "aws_iam_role.node"
                  ]
                },
                "description": "Stable and unique string identifying the node IAM role"
              }
            },
            "resources": [
              {
                "mode": "managed",
                "name": "this",
                "type": "aws_cloudwatch_event_rule",
                "address": "aws_cloudwatch_event_rule.this",
                "expressions": {
                  "tags": {
                    "references": [
                      "var.cluster_name",
                      "var.tags"
                    ]
                  },
                  "description": {
                    "references": [
                      "each.value.description",
                      "each.value"
                    ]
                  },
                  "name_prefix": {
                    "references": [
                      "var.rule_name_prefix",
                      "each.value.name",
                      "each.value"
                    ]
                  },
                  "event_pattern": {
                    "references": [
                      "each.value.event_pattern",
                      "each.value"
                    ]
                  }
                },
                "schema_version": 1,
                "for_each_expression": {
                  "references": [
                    "local.events",
                    "local.enable_spot_termination"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "this",
                "type": "aws_cloudwatch_event_target",
                "address": "aws_cloudwatch_event_target.this",
                "expressions": {
                  "arn": {
                    "references": [
                      "aws_sqs_queue.this[0].arn",
                      "aws_sqs_queue.this[0]",
                      "aws_sqs_queue.this"
                    ]
                  },
                  "rule": {
                    "references": [
                      "aws_cloudwatch_event_rule.this",
                      "each.key"
                    ]
                  },
                  "target_id": {
                    "constant_value": "KarpenterInterruptionQueueTarget"
                  }
                },
                "schema_version": 1,
                "for_each_expression": {
                  "references": [
                    "local.events",
                    "local.enable_spot_termination"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "node",
                "type": "aws_eks_access_entry",
                "address": "aws_eks_access_entry.node",
                "depends_on": [
                  "aws_sqs_queue_policy.this"
                ],
                "expressions": {
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "type": {
                    "references": [
                      "var.access_entry_type"
                    ]
                  },
                  "cluster_name": {
                    "references": [
                      "var.cluster_name"
                    ]
                  },
                  "principal_arn": {
                    "references": [
                      "var.create_node_iam_role",
                      "aws_iam_role.node[0].arn",
                      "aws_iam_role.node[0]",
                      "aws_iam_role.node",
                      "var.node_iam_role_arn"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create",
                    "var.create_access_entry"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "karpenter",
                "type": "aws_eks_pod_identity_association",
                "address": "aws_eks_pod_identity_association.karpenter",
                "expressions": {
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "role_arn": {
                    "references": [
                      "aws_iam_role.controller[0].arn",
                      "aws_iam_role.controller[0]",
                      "aws_iam_role.controller"
                    ]
                  },
                  "namespace": {
                    "references": [
                      "var.namespace"
                    ]
                  },
                  "cluster_name": {
                    "references": [
                      "var.cluster_name"
                    ]
                  },
                  "service_account": {
                    "references": [
                      "var.service_account"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_iam_role",
                    "var.enable_pod_identity",
                    "var.create_pod_identity_association"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "this",
                "type": "aws_iam_instance_profile",
                "address": "aws_iam_instance_profile.this",
                "expressions": {
                  "name": {
                    "references": [
                      "var.node_iam_role_use_name_prefix",
                      "local.node_iam_role_name"
                    ]
                  },
                  "path": {
                    "references": [
                      "var.node_iam_role_path"
                    ]
                  },
                  "role": {
                    "references": [
                      "var.create_node_iam_role",
                      "aws_iam_role.node[0].name",
                      "aws_iam_role.node[0]",
                      "aws_iam_role.node",
                      "local.external_role_name"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.node_iam_role_tags"
                    ]
                  },
                  "name_prefix": {
                    "references": [
                      "var.node_iam_role_use_name_prefix",
                      "local.node_iam_role_name"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create",
                    "var.create_instance_profile"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "controller",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.controller",
                "expressions": {
                  "name": {
                    "references": [
                      "var.iam_policy_use_name_prefix",
                      "var.iam_policy_name"
                    ]
                  },
                  "path": {
                    "references": [
                      "var.iam_policy_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.controller[0].json",
                      "data.aws_iam_policy_document.controller[0]",
                      "data.aws_iam_policy_document.controller"
                    ]
                  },
                  "description": {
                    "references": [
                      "var.iam_policy_description"
                    ]
                  },
                  "name_prefix": {
                    "references": [
                      "var.iam_policy_use_name_prefix",
                      "var.iam_policy_name"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_iam_role"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "controller",
                "type": "aws_iam_role",
                "address": "aws_iam_role.controller",
                "expressions": {
                  "name": {
                    "references": [
                      "var.iam_role_use_name_prefix",
                      "var.iam_role_name"
                    ]
                  },
                  "path": {
                    "references": [
                      "var.iam_role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.iam_role_tags"
                    ]
                  },
                  "description": {
                    "references": [
                      "var.iam_role_description"
                    ]
                  },
                  "name_prefix": {
                    "references": [
                      "var.iam_role_use_name_prefix",
                      "var.iam_role_name"
                    ]
                  },
                  "assume_role_policy": {
                    "references": [
                      "data.aws_iam_policy_document.controller_assume_role[0].json",
                      "data.aws_iam_policy_document.controller_assume_role[0]",
                      "data.aws_iam_policy_document.controller_assume_role"
                    ]
                  },
                  "max_session_duration": {
                    "references": [
                      "var.iam_role_max_session_duration"
                    ]
                  },
                  "permissions_boundary": {
                    "references": [
                      "var.iam_role_permissions_boundary_arn"
                    ]
                  },
                  "force_detach_policies": {
                    "constant_value": true
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_iam_role"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "node",
                "type": "aws_iam_role",
                "address": "aws_iam_role.node",
                "expressions": {
                  "name": {
                    "references": [
                      "var.node_iam_role_use_name_prefix",
                      "local.node_iam_role_name"
                    ]
                  },
                  "path": {
                    "references": [
                      "var.node_iam_role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.node_iam_role_tags"
                    ]
                  },
                  "description": {
                    "references": [
                      "var.node_iam_role_description"
                    ]
                  },
                  "name_prefix": {
                    "references": [
                      "var.node_iam_role_use_name_prefix",
                      "local.node_iam_role_name"
                    ]
                  },
                  "assume_role_policy": {
                    "references": [
                      "data.aws_iam_policy_document.node_assume_role[0].json",
                      "data.aws_iam_policy_document.node_assume_role[0]",
                      "data.aws_iam_policy_document.node_assume_role"
                    ]
                  },
                  "max_session_duration": {
                    "references": [
                      "var.node_iam_role_max_session_duration"
                    ]
                  },
                  "permissions_boundary": {
                    "references": [
                      "var.node_iam_role_permissions_boundary"
                    ]
                  },
                  "force_detach_policies": {
                    "constant_value": true
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_node_iam_role"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "controller",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.controller",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.controller[0].name",
                      "aws_iam_role.controller[0]",
                      "aws_iam_role.controller"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.controller[0].arn",
                      "aws_iam_policy.controller[0]",
                      "aws_iam_policy.controller"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_iam_role"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "controller_additional",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.controller_additional",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.controller[0].name",
                      "aws_iam_role.controller[0]",
                      "aws_iam_role.controller"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "each.value"
                    ]
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "var.iam_role_policies",
                    "local.create_iam_role"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "node",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.node",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.node[0].name",
                      "aws_iam_role.node[0]",
                      "aws_iam_role.node"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "each.value"
                    ]
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "local.node_iam_role_policy_prefix",
                    "local.node_iam_role_policy_prefix",
                    "local.ipv4_cni_policy",
                    "local.ipv6_cni_policy",
                    "local.create_node_iam_role"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "node_additional",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.node_additional",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.node[0].name",
                      "aws_iam_role.node[0]",
                      "aws_iam_role.node"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "each.value"
                    ]
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "var.node_iam_role_additional_policies",
                    "local.create_node_iam_role"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "this",
                "type": "aws_sqs_queue",
                "address": "aws_sqs_queue.this",
                "expressions": {
                  "name": {
                    "references": [
                      "local.queue_name"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "kms_master_key_id": {
                    "references": [
                      "var.queue_kms_master_key_id"
                    ]
                  },
                  "sqs_managed_sse_enabled": {
                    "references": [
                      "var.queue_managed_sse_enabled",
                      "var.queue_managed_sse_enabled"
                    ]
                  },
                  "message_retention_seconds": {
                    "constant_value": 300
                  },
                  "kms_data_key_reuse_period_seconds": {
                    "references": [
                      "var.queue_kms_data_key_reuse_period_seconds"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.enable_spot_termination"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "this",
                "type": "aws_sqs_queue_policy",
                "address": "aws_sqs_queue_policy.this",
                "expressions": {
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.queue[0].json",
                      "data.aws_iam_policy_document.queue[0]",
                      "data.aws_iam_policy_document.queue"
                    ]
                  },
                  "queue_url": {
                    "references": [
                      "aws_sqs_queue.this[0].url",
                      "aws_sqs_queue.this[0]",
                      "aws_sqs_queue.this"
                    ]
                  }
                },
                "schema_version": 1,
                "count_expression": {
                  "references": [
                    "local.enable_spot_termination"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "current",
                "type": "aws_caller_identity",
                "address": "data.aws_caller_identity.current",
                "schema_version": 0,
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "controller",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.controller",
                "expressions": {
                  "source_policy_documents": {
                    "references": [
                      "var.enable_v1_permissions",
                      "data.aws_iam_policy_document.v1[0].json",
                      "data.aws_iam_policy_document.v1[0]",
                      "data.aws_iam_policy_document.v1",
                      "data.aws_iam_policy_document.v033[0].json",
                      "data.aws_iam_policy_document.v033[0]",
                      "data.aws_iam_policy_document.v033"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_iam_role"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "controller_assume_role",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.controller_assume_role",
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_iam_role"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "node_assume_role",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.node_assume_role",
                "expressions": {
                  "statement": [
                    {
                      "sid": {
                        "constant_value": "EKSNodeAssumeRole"
                      },
                      "actions": {
                        "constant_value": [
                          "sts:AssumeRole"
                        ]
                      },
                      "principals": [
                        {
                          "type": {
                            "constant_value": "Service"
                          },
                          "identifiers": {
                            "references": [
                              "local.dns_suffix"
                            ]
                          }
                        }
                      ]
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_node_iam_role"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "queue",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.queue",
                "expressions": {
                  "statement": [
                    {
                      "sid": {
                        "constant_value": "SqsWrite"
                      },
                      "actions": {
                        "constant_value": [
                          "sqs:SendMessage"
                        ]
                      },
                      "resources": {
                        "references": [
                          "aws_sqs_queue.this[0].arn",
                          "aws_sqs_queue.this[0]",
                          "aws_sqs_queue.this"
                        ]
                      },
                      "principals": [
                        {
                          "type": {
                            "constant_value": "Service"
                          },
                          "identifiers": {
                            "constant_value": [
                              "events.amazonaws.com",
                              "sqs.amazonaws.com"
                            ]
                          }
                        }
                      ]
                    },
                    {
                      "sid": {
                        "constant_value": "DenyHTTP"
                      },
                      "effect": {
                        "constant_value": "Deny"
                      },
                      "actions": {
                        "constant_value": [
                          "sqs:*"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "constant_value": [
                              "false"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:SecureTransport"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "aws_sqs_queue.this[0].arn",
                          "aws_sqs_queue.this[0]",
                          "aws_sqs_queue.this"
                        ]
                      },
                      "principals": [
                        {
                          "type": {
                            "constant_value": "*"
                          },
                          "identifiers": {
                            "constant_value": [
                              "*"
                            ]
                          }
                        }
                      ]
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.enable_spot_termination"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "v033",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.v033",
                "expressions": {
                  "statement": [
                    {
                      "sid": {
                        "constant_value": "AllowScopedEC2InstanceActions"
                      },
                      "actions": {
                        "constant_value": [
                          "ec2:RunInstances",
                          "ec2:CreateFleet"
                        ]
                      },
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.partition",
                          "local.partition",
                          "local.partition",
                          "local.partition",
                          "local.partition"
                        ]
                      }
                    },
                    {
                      "sid": {
                        "constant_value": "AllowScopedEC2InstanceActionsWithTags"
                      },
                      "actions": {
                        "constant_value": [
                          "ec2:RunInstances",
                          "ec2:CreateFleet",
                          "ec2:CreateLaunchTemplate"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "constant_value": [
                              "owned"
                            ]
                          },
                          "variable": {
                            "references": [
                              "var.cluster_name"
                            ]
                          }
                        },
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              "*"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/karpenter.sh/nodepool"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.partition",
                          "local.partition",
                          "local.partition",
                          "local.partition",
                          "local.partition"
                        ]
                      }
                    },
                    {
                      "sid": {
                        "constant_value": "AllowScopedResourceCreationTagging"
                      },
                      "actions": {
                        "constant_value": [
                          "ec2:CreateTags"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "constant_value": [
                              "owned"
                            ]
                          },
                          "variable": {
                            "references": [
                              "var.cluster_name"
                            ]
                          }
                        },
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "constant_value": [
                              "RunInstances",
                              "CreateFleet",
                              "CreateLaunchTemplate"
                            ]
                          },
                          "variable": {
                            "constant_value": "ec2:CreateAction"
                          }
                        },
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              "*"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/karpenter.sh/nodepool"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.partition",
                          "local.partition",
                          "local.partition",
                          "local.partition",
                          "local.partition"
                        ]
                      }
                    },
                    {
                      "sid": {
                        "constant_value": "AllowScopedResourceTagging"
                      },
                      "actions": {
                        "constant_value": [
                          "ec2:CreateTags"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "constant_value": [
                              "owned"
                            ]
                          },
                          "variable": {
                            "references": [
                              "var.cluster_name"
                            ]
                          }
                        },
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              "*"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:ResourceTag/karpenter.sh/nodepool"
                          }
                        },
                        {
                          "test": {
                            "constant_value": "ForAllValues:StringEquals"
                          },
                          "values": {
                            "constant_value": [
                              "karpenter.sh/nodeclaim",
                              "Name"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:TagKeys"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "local.partition"
                        ]
                      }
                    },
                    {
                      "sid": {
                        "constant_value": "AllowScopedDeletion"
                      },
                      "actions": {
                        "constant_value": [
                          "ec2:TerminateInstances",
                          "ec2:DeleteLaunchTemplate"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "constant_value": [
                              "owned"
                            ]
                          },
                          "variable": {
                            "references": [
                              "var.cluster_name"
                            ]
                          }
                        },
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              "*"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:ResourceTag/karpenter.sh/nodepool"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.partition"
                        ]
                      }
                    },
                    {
                      "sid": {
                        "constant_value": "AllowRegionalReadActions"
                      },
                      "actions": {
                        "constant_value": [
                          "ec2:DescribeAvailabilityZones",
                          "ec2:DescribeImages",
                          "ec2:DescribeInstances",
                          "ec2:DescribeInstanceTypeOfferings",
                          "ec2:DescribeInstanceTypes",
                          "ec2:DescribeLaunchTemplates",
                          "ec2:DescribeSecurityGroups",
                          "ec2:DescribeSpotPriceHistory",
                          "ec2:DescribeSubnets"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "references": [
                              "local.region"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestedRegion"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "sid": {
                        "constant_value": "AllowSSMReadActions"
                      },
                      "actions": {
                        "constant_value": [
                          "ssm:GetParameter"
                        ]
                      },
                      "resources": {
                        "references": [
                          "var.ami_id_ssm_parameter_arns",
                          "local.partition",
                          "local.region"
                        ]
                      }
                    },
                    {
                      "sid": {
                        "constant_value": "AllowPricingReadActions"
                      },
                      "actions": {
                        "constant_value": [
                          "pricing:GetProducts"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "sid": {
                        "constant_value": "AllowPassingInstanceRole"
                      },
                      "actions": {
                        "constant_value": [
                          "iam:PassRole"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "references": [
                              "local.dns_suffix"
                            ]
                          },
                          "variable": {
                            "constant_value": "iam:PassedToService"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "var.create_node_iam_role",
                          "aws_iam_role.node[0].arn",
                          "aws_iam_role.node[0]",
                          "aws_iam_role.node",
                          "var.node_iam_role_arn"
                        ]
                      }
                    },
                    {
                      "sid": {
                        "constant_value": "AllowScopedInstanceProfileCreationActions"
                      },
                      "actions": {
                        "constant_value": [
                          "iam:CreateInstanceProfile"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "constant_value": [
                              "owned"
                            ]
                          },
                          "variable": {
                            "references": [
                              "var.cluster_name"
                            ]
                          }
                        },
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "references": [
                              "local.region"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/topology.kubernetes.io/region"
                          }
                        },
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              "*"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/karpenter.k8s.aws/ec2nodeclass"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "sid": {
                        "constant_value": "AllowScopedInstanceProfileTagActions"
                      },
                      "actions": {
                        "constant_value": [
                          "iam:TagInstanceProfile"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "constant_value": [
                              "owned"
                            ]
                          },
                          "variable": {
                            "references": [
                              "var.cluster_name"
                            ]
                          }
                        },
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "references": [
                              "local.region"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:ResourceTag/topology.kubernetes.io/region"
                          }
                        },
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "constant_value": [
                              "owned"
                            ]
                          },
                          "variable": {
                            "references": [
                              "var.cluster_name"
                            ]
                          }
                        },
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "references": [
                              "local.region"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:ResourceTag/topology.kubernetes.io/region"
                          }
                        },
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              "*"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:ResourceTag/karpenter.k8s.aws/ec2nodeclass"
                          }
                        },
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              "*"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/karpenter.k8s.aws/ec2nodeclass"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "sid": {
                        "constant_value": "AllowScopedInstanceProfileActions"
                      },
                      "actions": {
                        "constant_value": [
                          "iam:AddRoleToInstanceProfile",
                          "iam:RemoveRoleFromInstanceProfile",
                          "iam:DeleteInstanceProfile"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "constant_value": [
                              "owned"
                            ]
                          },
                          "variable": {
                            "references": [
                              "var.cluster_name"
                            ]
                          }
                        },
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "references": [
                              "local.region"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:ResourceTag/topology.kubernetes.io/region"
                          }
                        },
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              "*"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:ResourceTag/karpenter.k8s.aws/ec2nodeclass"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "sid": {
                        "constant_value": "AllowInstanceProfileReadActions"
                      },
                      "actions": {
                        "constant_value": [
                          "iam:GetInstanceProfile"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "sid": {
                        "constant_value": "AllowAPIServerEndpointDiscovery"
                      },
                      "actions": {
                        "constant_value": [
                          "eks:DescribeCluster"
                        ]
                      },
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.region",
                          "local.account_id",
                          "var.cluster_name"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_iam_role"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "v1",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.v1",
                "expressions": {
                  "statement": [
                    {
                      "sid": {
                        "constant_value": "AllowScopedEC2InstanceAccessActions"
                      },
                      "actions": {
                        "constant_value": [
                          "ec2:RunInstances",
                          "ec2:CreateFleet"
                        ]
                      },
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.region",
                          "local.partition",
                          "local.region",
                          "local.partition",
                          "local.region",
                          "local.partition",
                          "local.region"
                        ]
                      }
                    },
                    {
                      "sid": {
                        "constant_value": "AllowScopedEC2LaunchTemplateAccessActions"
                      },
                      "actions": {
                        "constant_value": [
                          "ec2:RunInstances",
                          "ec2:CreateFleet"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "constant_value": [
                              "owned"
                            ]
                          },
                          "variable": {
                            "references": [
                              "var.cluster_name"
                            ]
                          }
                        },
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              "*"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:ResourceTag/karpenter.sh/nodepool"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.region"
                        ]
                      }
                    },
                    {
                      "sid": {
                        "constant_value": "AllowScopedEC2InstanceActionsWithTags"
                      },
                      "actions": {
                        "constant_value": [
                          "ec2:RunInstances",
                          "ec2:CreateFleet",
                          "ec2:CreateLaunchTemplate"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "constant_value": [
                              "owned"
                            ]
                          },
                          "variable": {
                            "references": [
                              "var.cluster_name"
                            ]
                          }
                        },
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "references": [
                              "var.cluster_name"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/eks:eks-cluster-name"
                          }
                        },
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              "*"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/karpenter.sh/nodepool"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.region",
                          "local.partition",
                          "local.region",
                          "local.partition",
                          "local.region",
                          "local.partition",
                          "local.region",
                          "local.partition",
                          "local.region",
                          "local.partition",
                          "local.region"
                        ]
                      }
                    },
                    {
                      "sid": {
                        "constant_value": "AllowScopedResourceCreationTagging"
                      },
                      "actions": {
                        "constant_value": [
                          "ec2:CreateTags"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "constant_value": [
                              "owned"
                            ]
                          },
                          "variable": {
                            "references": [
                              "var.cluster_name"
                            ]
                          }
                        },
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "references": [
                              "var.cluster_name"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/eks:eks-cluster-name"
                          }
                        },
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "constant_value": [
                              "RunInstances",
                              "CreateFleet",
                              "CreateLaunchTemplate"
                            ]
                          },
                          "variable": {
                            "constant_value": "ec2:CreateAction"
                          }
                        },
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              "*"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/karpenter.sh/nodepool"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.region",
                          "local.partition",
                          "local.region",
                          "local.partition",
                          "local.region",
                          "local.partition",
                          "local.region",
                          "local.partition",
                          "local.region",
                          "local.partition",
                          "local.region"
                        ]
                      }
                    },
                    {
                      "sid": {
                        "constant_value": "AllowScopedResourceTagging"
                      },
                      "actions": {
                        "constant_value": [
                          "ec2:CreateTags"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "constant_value": [
                              "owned"
                            ]
                          },
                          "variable": {
                            "references": [
                              "var.cluster_name"
                            ]
                          }
                        },
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              "*"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:ResourceTag/karpenter.sh/nodepool"
                          }
                        },
                        {
                          "test": {
                            "constant_value": "StringEqualsIfExists"
                          },
                          "values": {
                            "references": [
                              "var.cluster_name"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/eks:eks-cluster-name"
                          }
                        },
                        {
                          "test": {
                            "constant_value": "ForAllValues:StringEquals"
                          },
                          "values": {
                            "constant_value": [
                              "eks:eks-cluster-name",
                              "karpenter.sh/nodeclaim",
                              "Name"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:TagKeys"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.region"
                        ]
                      }
                    },
                    {
                      "sid": {
                        "constant_value": "AllowScopedDeletion"
                      },
                      "actions": {
                        "constant_value": [
                          "ec2:TerminateInstances",
                          "ec2:DeleteLaunchTemplate"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "constant_value": [
                              "owned"
                            ]
                          },
                          "variable": {
                            "references": [
                              "var.cluster_name"
                            ]
                          }
                        },
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              "*"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:ResourceTag/karpenter.sh/nodepool"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.region",
                          "local.partition",
                          "local.region"
                        ]
                      }
                    },
                    {
                      "sid": {
                        "constant_value": "AllowRegionalReadActions"
                      },
                      "actions": {
                        "constant_value": [
                          "ec2:DescribeAvailabilityZones",
                          "ec2:DescribeImages",
                          "ec2:DescribeInstances",
                          "ec2:DescribeInstanceTypeOfferings",
                          "ec2:DescribeInstanceTypes",
                          "ec2:DescribeLaunchTemplates",
                          "ec2:DescribeSecurityGroups",
                          "ec2:DescribeSpotPriceHistory",
                          "ec2:DescribeSubnets"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "references": [
                              "local.region"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestedRegion"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "sid": {
                        "constant_value": "AllowSSMReadActions"
                      },
                      "actions": {
                        "constant_value": [
                          "ssm:GetParameter"
                        ]
                      },
                      "resources": {
                        "references": [
                          "var.ami_id_ssm_parameter_arns",
                          "local.partition",
                          "local.region"
                        ]
                      }
                    },
                    {
                      "sid": {
                        "constant_value": "AllowPricingReadActions"
                      },
                      "actions": {
                        "constant_value": [
                          "pricing:GetProducts"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "sid": {
                        "constant_value": "AllowPassingInstanceRole"
                      },
                      "actions": {
                        "constant_value": [
                          "iam:PassRole"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "references": [
                              "local.dns_suffix"
                            ]
                          },
                          "variable": {
                            "constant_value": "iam:PassedToService"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "var.create_node_iam_role",
                          "aws_iam_role.node[0].arn",
                          "aws_iam_role.node[0]",
                          "aws_iam_role.node",
                          "var.node_iam_role_arn"
                        ]
                      }
                    },
                    {
                      "sid": {
                        "constant_value": "AllowScopedInstanceProfileCreationActions"
                      },
                      "actions": {
                        "constant_value": [
                          "iam:CreateInstanceProfile"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "constant_value": [
                              "owned"
                            ]
                          },
                          "variable": {
                            "references": [
                              "var.cluster_name"
                            ]
                          }
                        },
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "references": [
                              "var.cluster_name"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/eks:eks-cluster-name"
                          }
                        },
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "references": [
                              "local.region"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/topology.kubernetes.io/region"
                          }
                        },
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              "*"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/karpenter.k8s.aws/ec2nodeclass"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.account_id"
                        ]
                      }
                    },
                    {
                      "sid": {
                        "constant_value": "AllowScopedInstanceProfileTagActions"
                      },
                      "actions": {
                        "constant_value": [
                          "iam:TagInstanceProfile"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "constant_value": [
                              "owned"
                            ]
                          },
                          "variable": {
                            "references": [
                              "var.cluster_name"
                            ]
                          }
                        },
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "references": [
                              "local.region"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:ResourceTag/topology.kubernetes.io/region"
                          }
                        },
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "constant_value": [
                              "owned"
                            ]
                          },
                          "variable": {
                            "references": [
                              "var.cluster_name"
                            ]
                          }
                        },
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "references": [
                              "var.cluster_name"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/eks:eks-cluster-name"
                          }
                        },
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "references": [
                              "local.region"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/topology.kubernetes.io/region"
                          }
                        },
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              "*"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:ResourceTag/karpenter.k8s.aws/ec2nodeclass"
                          }
                        },
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              "*"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/karpenter.k8s.aws/ec2nodeclass"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.account_id"
                        ]
                      }
                    },
                    {
                      "sid": {
                        "constant_value": "AllowScopedInstanceProfileActions"
                      },
                      "actions": {
                        "constant_value": [
                          "iam:AddRoleToInstanceProfile",
                          "iam:RemoveRoleFromInstanceProfile",
                          "iam:DeleteInstanceProfile"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "constant_value": [
                              "owned"
                            ]
                          },
                          "variable": {
                            "references": [
                              "var.cluster_name"
                            ]
                          }
                        },
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "references": [
                              "local.region"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:ResourceTag/topology.kubernetes.io/region"
                          }
                        },
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              "*"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:ResourceTag/karpenter.k8s.aws/ec2nodeclass"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.account_id"
                        ]
                      }
                    },
                    {
                      "sid": {
                        "constant_value": "AllowInstanceProfileReadActions"
                      },
                      "actions": {
                        "constant_value": [
                          "iam:GetInstanceProfile"
                        ]
                      },
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.account_id"
                        ]
                      }
                    },
                    {
                      "sid": {
                        "constant_value": "AllowAPIServerEndpointDiscovery"
                      },
                      "actions": {
                        "constant_value": [
                          "eks:DescribeCluster"
                        ]
                      },
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.region",
                          "local.account_id",
                          "var.cluster_name"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_iam_role"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "current",
                "type": "aws_partition",
                "address": "data.aws_partition.current",
                "schema_version": 0,
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "current",
                "type": "aws_region",
                "address": "data.aws_region.current",
                "schema_version": 0,
                "provider_config_key": "aws"
              }
            ],
            "variables": {
              "tags": {
                "default": {},
                "description": "A map of tags to add to all resources"
              },
              "create": {
                "default": true,
                "description": "Controls if resources should be created (affects nearly all resources)"
              },
              "namespace": {
                "default": "kube-system",
                "description": "Namespace to associate with the Karpenter Pod Identity"
              },
              "queue_name": {
                "description": "Name of the SQS queue"
              },
              "enable_irsa": {
                "default": false,
                "description": "Determines whether to enable support for IAM role for service accounts"
              },
              "cluster_name": {
                "default": "",
                "description": "The name of the EKS cluster"
              },
              "iam_role_name": {
                "default": "KarpenterController",
                "description": "Name of the IAM role"
              },
              "iam_role_path": {
                "default": "/",
                "description": "Path of the IAM role"
              },
              "iam_role_tags": {
                "default": {},
                "description": "A map of additional tags to add the the IAM role"
              },
              "create_iam_role": {
                "default": true,
                "description": "Determines whether an IAM role is created"
              },
              "iam_policy_name": {
                "default": "KarpenterController",
                "description": "Name of the IAM policy"
              },
              "iam_policy_path": {
                "default": "/",
                "description": "Path of the IAM policy"
              },
              "service_account": {
                "default": "karpenter",
                "description": "Service account to associate with the Karpenter Pod Identity"
              },
              "rule_name_prefix": {
                "default": "Karpenter",
                "description": "Prefix used for all event bridge rules"
              },
              "access_entry_type": {
                "default": "EC2_LINUX",
                "description": "Type of the access entry. `EC2_LINUX`, `FARGATE_LINUX`, or `EC2_WINDOWS`; defaults to `EC2_LINUX`"
              },
              "cluster_ip_family": {
                "default": "ipv4",
                "description": "The IP family used to assign Kubernetes pod and service addresses. Valid values are `ipv4` (default) and `ipv6`. Note: If `ipv6` is specified, the `AmazonEKS_CNI_IPv6_Policy` must exist in the account. This policy is created by the EKS module with `create_cni_ipv6_iam_policy = true`"
              },
              "iam_role_policies": {
                "default": {},
                "description": "Policies to attach to the IAM role in `{'static_name' = 'policy_arn'}` format"
              },
              "node_iam_role_arn": {
                "description": "Existing IAM role ARN for the IAM instance profile. Required if `create_iam_role` is set to `false`"
              },
              "node_iam_role_name": {
                "description": "Name to use on IAM role created"
              },
              "node_iam_role_path": {
                "default": "/",
                "description": "IAM role path"
              },
              "node_iam_role_tags": {
                "default": {},
                "description": "A map of additional tags to add to the IAM role created"
              },
              "create_access_entry": {
                "default": true,
                "description": "Determines whether an access entry is created for the IAM role used by the node IAM role"
              },
              "enable_pod_identity": {
                "default": true,
                "description": "Determines whether to enable support for EKS pod identity"
              },
              "create_node_iam_role": {
                "default": true,
                "description": "Determines whether an IAM role is created or to use an existing IAM role"
              },
              "iam_role_description": {
                "default": "Karpenter controller IAM role",
                "description": "IAM role description"
              },
              "enable_v1_permissions": {
                "default": false,
                "description": "Determines whether to enable permissions suitable for v1+ (`true`) or for v0.33.x-v0.37.x (`false`)"
              },
              "iam_policy_statements": {
                "default": [],
                "description": "A list of IAM policy [statements](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/iam_policy_document#statement) - used for adding specific IAM permissions as needed"
              },
              "iam_policy_description": {
                "default": "Karpenter controller IAM policy",
                "description": "IAM policy description"
              },
              "irsa_oidc_provider_arn": {
                "default": "",
                "description": "OIDC provider arn used in trust policy for IAM role for service accounts"
              },
              "create_instance_profile": {
                "default": false,
                "description": "Whether to create an IAM instance profile"
              },
              "enable_spot_termination": {
                "default": true,
                "description": "Determines whether to enable native spot termination handling"
              },
              "queue_kms_master_key_id": {
                "description": "The ID of an AWS-managed customer master key (CMK) for Amazon SQS or a custom CMK"
              },
              "iam_role_use_name_prefix": {
                "default": true,
                "description": "Determines whether the name of the IAM role (`iam_role_name`) is used as a prefix"
              },
              "ami_id_ssm_parameter_arns": {
                "default": [],
                "description": "List of SSM Parameter ARNs that Karpenter controller is allowed read access (for retrieving AMI IDs)"
              },
              "node_iam_role_description": {
                "description": "Description of the role"
              },
              "queue_managed_sse_enabled": {
                "default": true,
                "description": "Boolean to enable server-side encryption (SSE) of message content with SQS-owned encryption keys"
              },
              "iam_policy_use_name_prefix": {
                "default": true,
                "description": "Determines whether the name of the IAM policy (`iam_policy_name`) is used as a prefix"
              },
              "iam_role_max_session_duration": {
                "description": "Maximum API session duration in seconds between 3600 and 43200"
              },
              "node_iam_role_use_name_prefix": {
                "default": true,
                "description": "Determines whether the IAM role name (`iam_role_name`) is used as a prefix"
              },
              "create_pod_identity_association": {
                "default": false,
                "description": "Determines whether to create pod identity association"
              },
              "irsa_assume_role_condition_test": {
                "default": "StringEquals",
                "description": "Name of the [IAM condition operator](https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html) to evaluate when assuming the role"
              },
              "irsa_namespace_service_accounts": {
                "default": [
                  "karpenter:karpenter"
                ],
                "description": "List of `namespace:serviceaccount`pairs to use in trust policy for IAM role for service accounts"
              },
              "node_iam_role_attach_cni_policy": {
                "default": true,
                "description": "Whether to attach the `AmazonEKS_CNI_Policy`/`AmazonEKS_CNI_IPv6_Policy` IAM policy to the IAM IAM role. WARNING: If set `false` the permissions must be assigned to the `aws-node` DaemonSet pods via another method or nodes will not be able to join the cluster"
              },
              "iam_role_permissions_boundary_arn": {
                "description": "Permissions boundary ARN to use for the IAM role"
              },
              "node_iam_role_additional_policies": {
                "default": {},
                "description": "Additional policies to be added to the IAM role"
              },
              "node_iam_role_max_session_duration": {
                "description": "Maximum API session duration in seconds between 3600 and 43200"
              },
              "node_iam_role_permissions_boundary": {
                "description": "ARN of the policy that is used to set the permissions boundary for the IAM role"
              },
              "queue_kms_data_key_reuse_period_seconds": {
                "description": "The length of time, in seconds, for which Amazon SQS can reuse a data key to encrypt or decrypt messages before calling AWS KMS again"
              }
            }
          },
          "source": "terraform-aws-modules/eks/aws//modules/karpenter",
          "depends_on": [
            "module.eks",
            "aws_security_group_rule.runner_cluster_access"
          ],
          "expressions": {
            "namespace": {
              "references": [
                "local.karpenter.namespace",
                "local.karpenter"
              ]
            },
            "queue_name": {
              "references": [
                "var.nuon_id"
              ]
            },
            "enable_irsa": {
              "constant_value": true
            },
            "cluster_name": {
              "references": [
                "local.karpenter.cluster_name",
                "local.karpenter"
              ]
            },
            "iam_role_tags": {
              "references": [
                "local.tags"
              ]
            },
            "node_iam_role_arn": {
              "references": [
                "module.eks.eks_managed_node_groups[\"karpenter\"].iam_role_arn",
                "module.eks.eks_managed_node_groups[\"karpenter\"]",
                "module.eks.eks_managed_node_groups",
                "module.eks"
              ]
            },
            "create_access_entry": {
              "constant_value": false
            },
            "create_node_iam_role": {
              "constant_value": false
            },
            "enable_v1_permissions": {
              "constant_value": true
            },
            "irsa_oidc_provider_arn": {
              "references": [
                "module.eks.oidc_provider_arn",
                "module.eks"
              ]
            },
            "create_instance_profile": {
              "constant_value": false
            },
            "irsa_namespace_service_accounts": {
              "constant_value": [
                "kube-system:karpenter"
              ]
            }
          },
          "version_constraint": "20.33.1"
        },
        "ebs_csi_irsa": {
          "module": {
            "outputs": {
              "iam_role_arn": {
                "expression": {
                  "references": [
                    "aws_iam_role.this[0].arn",
                    "aws_iam_role.this[0]",
                    "aws_iam_role.this"
                  ]
                },
                "description": "ARN of IAM role"
              },
              "iam_role_name": {
                "expression": {
                  "references": [
                    "aws_iam_role.this[0].name",
                    "aws_iam_role.this[0]",
                    "aws_iam_role.this"
                  ]
                },
                "description": "Name of IAM role"
              },
              "iam_role_path": {
                "expression": {
                  "references": [
                    "aws_iam_role.this[0].path",
                    "aws_iam_role.this[0]",
                    "aws_iam_role.this"
                  ]
                },
                "description": "Path of IAM role"
              },
              "iam_role_unique_id": {
                "expression": {
                  "references": [
                    "aws_iam_role.this[0].unique_id",
                    "aws_iam_role.this[0]",
                    "aws_iam_role.this"
                  ]
                },
                "description": "Unique ID of IAM role"
              }
            },
            "resources": [
              {
                "mode": "managed",
                "name": "amazon_managed_service_prometheus",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.amazon_managed_service_prometheus",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.amazon_managed_service_prometheus[0].json",
                      "data.aws_iam_policy_document.amazon_managed_service_prometheus[0]",
                      "data.aws_iam_policy_document.amazon_managed_service_prometheus"
                    ]
                  },
                  "description": {
                    "constant_value": "Provides permissions to for Amazon Managed Service for Prometheus"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_amazon_managed_service_prometheus_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "appmesh_controller",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.appmesh_controller",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.appmesh_controller[0].json",
                      "data.aws_iam_policy_document.appmesh_controller[0]",
                      "data.aws_iam_policy_document.appmesh_controller"
                    ]
                  },
                  "description": {
                    "constant_value": "Provides permissions to for appmesh controller"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_appmesh_controller_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "appmesh_envoy_proxy",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.appmesh_envoy_proxy",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.appmesh_envoy_proxy[0].json",
                      "data.aws_iam_policy_document.appmesh_envoy_proxy[0]",
                      "data.aws_iam_policy_document.appmesh_envoy_proxy"
                    ]
                  },
                  "description": {
                    "constant_value": "Provides permissions to for appmesh envoy proxy"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_appmesh_envoy_proxy_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "aws_gateway_controller",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.aws_gateway_controller",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.aws_gateway_controller[0].json",
                      "data.aws_iam_policy_document.aws_gateway_controller[0]",
                      "data.aws_iam_policy_document.aws_gateway_controller"
                    ]
                  },
                  "description": {
                    "constant_value": "Provides permissions for the AWS Gateway Controller"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_aws_gateway_controller_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "cert_manager",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.cert_manager",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.cert_manager[0].json",
                      "data.aws_iam_policy_document.cert_manager[0]",
                      "data.aws_iam_policy_document.cert_manager"
                    ]
                  },
                  "description": {
                    "constant_value": "Cert Manager policy to allow management of Route53 hosted zone records"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_cert_manager_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "cluster_autoscaler",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.cluster_autoscaler",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.cluster_autoscaler[0].json",
                      "data.aws_iam_policy_document.cluster_autoscaler[0]",
                      "data.aws_iam_policy_document.cluster_autoscaler"
                    ]
                  },
                  "description": {
                    "constant_value": "Cluster autoscaler policy to allow examination and modification of EC2 Auto Scaling Groups"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_cluster_autoscaler_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "ebs_csi",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.ebs_csi",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.ebs_csi[0].json",
                      "data.aws_iam_policy_document.ebs_csi[0]",
                      "data.aws_iam_policy_document.ebs_csi"
                    ]
                  },
                  "description": {
                    "constant_value": "Provides permissions to manage EBS volumes via the container storage interface driver"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_ebs_csi_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "efs_csi",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.efs_csi",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.efs_csi[0].json",
                      "data.aws_iam_policy_document.efs_csi[0]",
                      "data.aws_iam_policy_document.efs_csi"
                    ]
                  },
                  "description": {
                    "constant_value": "Provides permissions to manage EFS volumes via the container storage interface driver"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_efs_csi_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "external_dns",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.external_dns",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.external_dns[0].json",
                      "data.aws_iam_policy_document.external_dns[0]",
                      "data.aws_iam_policy_document.external_dns"
                    ]
                  },
                  "description": {
                    "constant_value": "External DNS policy to allow management of Route53 hosted zone records"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_external_dns_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "external_secrets",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.external_secrets",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.external_secrets[0].json",
                      "data.aws_iam_policy_document.external_secrets[0]",
                      "data.aws_iam_policy_document.external_secrets"
                    ]
                  },
                  "description": {
                    "constant_value": "Provides permissions to for External Secrets to retrieve secrets from AWS SSM and AWS Secrets Manager"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_external_secrets_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "fsx_lustre_csi",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.fsx_lustre_csi",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.fsx_lustre_csi[0].json",
                      "data.aws_iam_policy_document.fsx_lustre_csi[0]",
                      "data.aws_iam_policy_document.fsx_lustre_csi"
                    ]
                  },
                  "description": {
                    "constant_value": "Provides permissions to manage FSx Lustre volumes via the container storage interface driver"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_fsx_lustre_csi_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "fsx_openzfs_csi",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.fsx_openzfs_csi",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.fsx_openzfs_csi[0].json",
                      "data.aws_iam_policy_document.fsx_openzfs_csi[0]",
                      "data.aws_iam_policy_document.fsx_openzfs_csi"
                    ]
                  },
                  "description": {
                    "constant_value": "Provides permissions to manage FSx OpenZFS volumes via the container storage interface driver"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_fsx_openzfs_csi_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "karpenter_controller",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.karpenter_controller",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.karpenter_controller[0].json",
                      "data.aws_iam_policy_document.karpenter_controller[0]",
                      "data.aws_iam_policy_document.karpenter_controller"
                    ]
                  },
                  "description": {
                    "constant_value": "Provides permissions to handle node termination events via the Node Termination Handler"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_karpenter_controller_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "load_balancer_controller",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.load_balancer_controller",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.load_balancer_controller[0].json",
                      "data.aws_iam_policy_document.load_balancer_controller[0]",
                      "data.aws_iam_policy_document.load_balancer_controller"
                    ]
                  },
                  "description": {
                    "constant_value": "Provides permissions for AWS Load Balancer Controller addon"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_load_balancer_controller_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "load_balancer_controller_targetgroup_only",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.load_balancer_controller_targetgroup_only",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.load_balancer_controller_targetgroup_only[0].json",
                      "data.aws_iam_policy_document.load_balancer_controller_targetgroup_only[0]",
                      "data.aws_iam_policy_document.load_balancer_controller_targetgroup_only"
                    ]
                  },
                  "description": {
                    "constant_value": "Provides permissions for AWS Load Balancer Controller addon in TargetGroup binding only scenario"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_load_balancer_controller_targetgroup_binding_only_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "mountpoint_s3_csi",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.mountpoint_s3_csi",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.mountpoint_s3_csi[0].json",
                      "data.aws_iam_policy_document.mountpoint_s3_csi[0]",
                      "data.aws_iam_policy_document.mountpoint_s3_csi"
                    ]
                  },
                  "description": {
                    "constant_value": "Mountpoint S3 CSI driver policy to allow management of S3"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_mountpoint_s3_csi_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "node_termination_handler",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.node_termination_handler",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.node_termination_handler[0].json",
                      "data.aws_iam_policy_document.node_termination_handler[0]",
                      "data.aws_iam_policy_document.node_termination_handler"
                    ]
                  },
                  "description": {
                    "constant_value": "Provides permissions to handle node termination events via the Node Termination Handler"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_node_termination_handler_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "velero",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.velero",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.velero[0].json",
                      "data.aws_iam_policy_document.velero[0]",
                      "data.aws_iam_policy_document.velero"
                    ]
                  },
                  "description": {
                    "constant_value": "Provides Velero permissions to backup and restore cluster resources"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_velero_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "vpc_cni",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.vpc_cni",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.vpc_cni[0].json",
                      "data.aws_iam_policy_document.vpc_cni[0]",
                      "data.aws_iam_policy_document.vpc_cni"
                    ]
                  },
                  "description": {
                    "constant_value": "Provides the Amazon VPC CNI Plugin (amazon-vpc-cni-k8s) the permissions it requires to modify the IPv4/IPv6 address configuration on your EKS worker nodes"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_vpc_cni_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "this",
                "type": "aws_iam_role",
                "address": "aws_iam_role.this",
                "expressions": {
                  "name": {
                    "references": [
                      "var.role_name"
                    ]
                  },
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "description": {
                    "references": [
                      "var.role_description"
                    ]
                  },
                  "name_prefix": {
                    "references": [
                      "var.role_name_prefix"
                    ]
                  },
                  "assume_role_policy": {
                    "references": [
                      "data.aws_iam_policy_document.this[0].json",
                      "data.aws_iam_policy_document.this[0]",
                      "data.aws_iam_policy_document.this"
                    ]
                  },
                  "max_session_duration": {
                    "references": [
                      "var.max_session_duration"
                    ]
                  },
                  "permissions_boundary": {
                    "references": [
                      "var.role_permissions_boundary_arn"
                    ]
                  },
                  "force_detach_policies": {
                    "references": [
                      "var.force_detach_policies"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "amazon_cloudwatch_observability",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.amazon_cloudwatch_observability",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "each.value"
                    ]
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "local.partition",
                    "local.partition",
                    "var.create_role",
                    "var.attach_cloudwatch_observability_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "amazon_managed_service_prometheus",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.amazon_managed_service_prometheus",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.amazon_managed_service_prometheus[0].arn",
                      "aws_iam_policy.amazon_managed_service_prometheus[0]",
                      "aws_iam_policy.amazon_managed_service_prometheus"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_amazon_managed_service_prometheus_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "appmesh_controller",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.appmesh_controller",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.appmesh_controller[0].arn",
                      "aws_iam_policy.appmesh_controller[0]",
                      "aws_iam_policy.appmesh_controller"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_appmesh_controller_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "appmesh_envoy_proxy",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.appmesh_envoy_proxy",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.appmesh_envoy_proxy[0].arn",
                      "aws_iam_policy.appmesh_envoy_proxy[0]",
                      "aws_iam_policy.appmesh_envoy_proxy"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_appmesh_envoy_proxy_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "aws_gateway_controller",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.aws_gateway_controller",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.aws_gateway_controller[0].arn",
                      "aws_iam_policy.aws_gateway_controller[0]",
                      "aws_iam_policy.aws_gateway_controller"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_aws_gateway_controller_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "cert_manager",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.cert_manager",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.cert_manager[0].arn",
                      "aws_iam_policy.cert_manager[0]",
                      "aws_iam_policy.cert_manager"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_cert_manager_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "cluster_autoscaler",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.cluster_autoscaler",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.cluster_autoscaler[0].arn",
                      "aws_iam_policy.cluster_autoscaler[0]",
                      "aws_iam_policy.cluster_autoscaler"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_cluster_autoscaler_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "ebs_csi",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.ebs_csi",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.ebs_csi[0].arn",
                      "aws_iam_policy.ebs_csi[0]",
                      "aws_iam_policy.ebs_csi"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_ebs_csi_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "efs_csi",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.efs_csi",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.efs_csi[0].arn",
                      "aws_iam_policy.efs_csi[0]",
                      "aws_iam_policy.efs_csi"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_efs_csi_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "external_dns",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.external_dns",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.external_dns[0].arn",
                      "aws_iam_policy.external_dns[0]",
                      "aws_iam_policy.external_dns"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_external_dns_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "external_secrets",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.external_secrets",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.external_secrets[0].arn",
                      "aws_iam_policy.external_secrets[0]",
                      "aws_iam_policy.external_secrets"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_external_secrets_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "fsx_lustre_csi",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.fsx_lustre_csi",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.fsx_lustre_csi[0].arn",
                      "aws_iam_policy.fsx_lustre_csi[0]",
                      "aws_iam_policy.fsx_lustre_csi"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_fsx_lustre_csi_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "fsx_openzfs_csi",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.fsx_openzfs_csi",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.fsx_openzfs_csi[0].arn",
                      "aws_iam_policy.fsx_openzfs_csi[0]",
                      "aws_iam_policy.fsx_openzfs_csi"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_fsx_openzfs_csi_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "karpenter_controller",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.karpenter_controller",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.karpenter_controller[0].arn",
                      "aws_iam_policy.karpenter_controller[0]",
                      "aws_iam_policy.karpenter_controller"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_karpenter_controller_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "load_balancer_controller",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.load_balancer_controller",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.load_balancer_controller[0].arn",
                      "aws_iam_policy.load_balancer_controller[0]",
                      "aws_iam_policy.load_balancer_controller"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_load_balancer_controller_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "load_balancer_controller_targetgroup_only",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.load_balancer_controller_targetgroup_only",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.load_balancer_controller_targetgroup_only[0].arn",
                      "aws_iam_policy.load_balancer_controller_targetgroup_only[0]",
                      "aws_iam_policy.load_balancer_controller_targetgroup_only"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_load_balancer_controller_targetgroup_binding_only_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "mountpoint_s3_csi",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.mountpoint_s3_csi",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.mountpoint_s3_csi[0].arn",
                      "aws_iam_policy.mountpoint_s3_csi[0]",
                      "aws_iam_policy.mountpoint_s3_csi"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_mountpoint_s3_csi_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "node_termination_handler",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.node_termination_handler",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.node_termination_handler[0].arn",
                      "aws_iam_policy.node_termination_handler[0]",
                      "aws_iam_policy.node_termination_handler"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_node_termination_handler_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "this",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.this",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "each.value"
                    ]
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "var.role_policy_arns",
                    "var.create_role"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "velero",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.velero",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.velero[0].arn",
                      "aws_iam_policy.velero[0]",
                      "aws_iam_policy.velero"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_velero_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "vpc_cni",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.vpc_cni",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.vpc_cni[0].arn",
                      "aws_iam_policy.vpc_cni[0]",
                      "aws_iam_policy.vpc_cni"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_vpc_cni_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "current",
                "type": "aws_caller_identity",
                "address": "data.aws_caller_identity.current",
                "schema_version": 0,
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "amazon_managed_service_prometheus",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.amazon_managed_service_prometheus",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "aps:RemoteWrite",
                          "aps:QueryMetrics",
                          "aps:GetSeries",
                          "aps:GetLabels",
                          "aps:GetMetricMetadata"
                        ]
                      },
                      "resources": {
                        "references": [
                          "var.amazon_managed_service_prometheus_workspace_arns"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_amazon_managed_service_prometheus_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "appmesh_controller",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.appmesh_controller",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "appmesh:ListVirtualRouters",
                          "appmesh:ListVirtualServices",
                          "appmesh:ListRoutes",
                          "appmesh:ListGatewayRoutes",
                          "appmesh:ListMeshes",
                          "appmesh:ListVirtualNodes",
                          "appmesh:ListVirtualGateways",
                          "appmesh:DescribeMesh",
                          "appmesh:DescribeVirtualRouter",
                          "appmesh:DescribeRoute",
                          "appmesh:DescribeVirtualNode",
                          "appmesh:DescribeVirtualGateway",
                          "appmesh:DescribeGatewayRoute",
                          "appmesh:DescribeVirtualService",
                          "appmesh:CreateMesh",
                          "appmesh:CreateVirtualRouter",
                          "appmesh:CreateVirtualGateway",
                          "appmesh:CreateVirtualService",
                          "appmesh:CreateGatewayRoute",
                          "appmesh:CreateRoute",
                          "appmesh:CreateVirtualNode",
                          "appmesh:UpdateMesh",
                          "appmesh:UpdateRoute",
                          "appmesh:UpdateVirtualGateway",
                          "appmesh:UpdateVirtualRouter",
                          "appmesh:UpdateGatewayRoute",
                          "appmesh:UpdateVirtualService",
                          "appmesh:UpdateVirtualNode",
                          "appmesh:DeleteMesh",
                          "appmesh:DeleteRoute",
                          "appmesh:DeleteVirtualRouter",
                          "appmesh:DeleteGatewayRoute",
                          "appmesh:DeleteVirtualService",
                          "appmesh:DeleteVirtualNode",
                          "appmesh:DeleteVirtualGateway"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "iam:CreateServiceLinkedRole"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "references": [
                              "local.dns_suffix"
                            ]
                          },
                          "variable": {
                            "constant_value": "iam:AWSServiceName"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.dns_suffix"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "acm:ListCertificates",
                          "acm:DescribeCertificate",
                          "acm-pca:DescribeCertificateAuthority",
                          "acm-pca:ListCertificateAuthorities"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "servicediscovery:CreateService",
                          "servicediscovery:DeleteService",
                          "servicediscovery:GetService",
                          "servicediscovery:GetInstance",
                          "servicediscovery:RegisterInstance",
                          "servicediscovery:DeregisterInstance",
                          "servicediscovery:ListInstances",
                          "servicediscovery:ListNamespaces",
                          "servicediscovery:ListServices",
                          "servicediscovery:GetInstancesHealthStatus",
                          "servicediscovery:UpdateInstanceCustomHealthStatus",
                          "servicediscovery:GetOperation",
                          "route53:GetHealthCheck",
                          "route53:CreateHealthCheck",
                          "route53:UpdateHealthCheck",
                          "route53:ChangeResourceRecordSets",
                          "route53:DeleteHealthCheck"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_appmesh_controller_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "appmesh_envoy_proxy",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.appmesh_envoy_proxy",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "appmesh:StreamAggregatedResources"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "acm:ExportCertificate",
                          "acm-pca:GetCertificateAuthorityCertificate"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_appmesh_envoy_proxy_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "aws_gateway_controller",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.aws_gateway_controller",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "vpc-lattice:*",
                          "ec2:DescribeVpcs",
                          "ec2:DescribeSubnets",
                          "ec2:DescribeTags",
                          "ec2:DescribeSecurityGroups",
                          "logs:CreateLogDelivery",
                          "logs:GetLogDelivery",
                          "logs:DescribeLogGroups",
                          "logs:PutResourcePolicy",
                          "logs:DescribeResourcePolicies",
                          "logs:UpdateLogDelivery",
                          "logs:DeleteLogDelivery",
                          "logs:ListLogDeliveries",
                          "tag:GetResources",
                          "firehose:TagDeliveryStream",
                          "s3:GetBucketPolicy",
                          "s3:PutBucketPolicy"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "iam:CreateServiceLinkedRole"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "references": [
                              "local.dns_suffix"
                            ]
                          },
                          "variable": {
                            "constant_value": "iam:AWSServiceName"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.dns_suffix"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "iam:CreateServiceLinkedRole"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "references": [
                              "local.dns_suffix"
                            ]
                          },
                          "variable": {
                            "constant_value": "iam:AWSServiceName"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.dns_suffix"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_aws_gateway_controller_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "cert_manager",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.cert_manager",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "route53:GetChange"
                        ]
                      },
                      "resources": {
                        "references": [
                          "local.partition"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "route53:ChangeResourceRecordSets",
                          "route53:ListResourceRecordSets"
                        ]
                      },
                      "resources": {
                        "references": [
                          "var.cert_manager_hosted_zone_arns"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "route53:ListHostedZonesByName"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_cert_manager_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "cluster_autoscaler",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.cluster_autoscaler",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "autoscaling:DescribeAutoScalingGroups",
                          "autoscaling:DescribeAutoScalingInstances",
                          "autoscaling:DescribeLaunchConfigurations",
                          "autoscaling:DescribeScalingActivities",
                          "autoscaling:DescribeTags",
                          "ec2:DescribeLaunchTemplateVersions",
                          "ec2:DescribeInstanceTypes",
                          "eks:DescribeNodegroup",
                          "ec2:DescribeImages",
                          "ec2:GetInstanceTypesFromInstanceRequirements"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_cluster_autoscaler_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "ebs_csi",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.ebs_csi",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:CreateSnapshot",
                          "ec2:AttachVolume",
                          "ec2:DetachVolume",
                          "ec2:ModifyVolume",
                          "ec2:DescribeAvailabilityZones",
                          "ec2:DescribeInstances",
                          "ec2:DescribeSnapshots",
                          "ec2:DescribeTags",
                          "ec2:DescribeVolumes",
                          "ec2:DescribeVolumesModifications",
                          "ec2:EnableFastSnapshotRestores"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:CreateTags"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "constant_value": [
                              "CreateVolume",
                              "CreateSnapshot"
                            ]
                          },
                          "variable": {
                            "constant_value": "ec2:CreateAction"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.partition"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:DeleteTags"
                        ]
                      },
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.partition"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:CreateVolume"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              true
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/ebs.csi.aws.com/cluster"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "local.partition"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:CreateVolume"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              "*"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/CSIVolumeName"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "local.partition"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:CreateVolume"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              "owned"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/kubernetes.io/cluster/*"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:CreateVolume"
                        ]
                      },
                      "resources": {
                        "references": [
                          "local.partition"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:DeleteVolume"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              true
                            ]
                          },
                          "variable": {
                            "constant_value": "ec2:ResourceTag/ebs.csi.aws.com/cluster"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:DeleteVolume"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              "*"
                            ]
                          },
                          "variable": {
                            "constant_value": "ec2:ResourceTag/CSIVolumeName"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:DeleteVolume"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              "owned"
                            ]
                          },
                          "variable": {
                            "constant_value": "ec2:ResourceTag/kubernetes.io/cluster/*"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:DeleteVolume"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              "*"
                            ]
                          },
                          "variable": {
                            "constant_value": "ec2:ResourceTag/kubernetes.io/created-for/pvc/name"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:DeleteSnapshot"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              "*"
                            ]
                          },
                          "variable": {
                            "constant_value": "ec2:ResourceTag/CSIVolumeSnapshotName"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:DeleteSnapshot"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              true
                            ]
                          },
                          "variable": {
                            "constant_value": "ec2:ResourceTag/ebs.csi.aws.com/cluster"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_ebs_csi_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "efs_csi",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.efs_csi",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:DescribeAvailabilityZones",
                          "elasticfilesystem:DescribeAccessPoints",
                          "elasticfilesystem:DescribeFileSystems",
                          "elasticfilesystem:DescribeMountTargets"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "elasticfilesystem:CreateAccessPoint"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              "true"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/efs.csi.aws.com/cluster"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "elasticfilesystem:TagResource"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              "true"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/efs.csi.aws.com/cluster"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "elasticfilesystem:DeleteAccessPoint"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "constant_value": [
                              "true"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:ResourceTag/efs.csi.aws.com/cluster"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_efs_csi_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "external_dns",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.external_dns",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "route53:ChangeResourceRecordSets"
                        ]
                      },
                      "resources": {
                        "references": [
                          "var.external_dns_hosted_zone_arns"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "route53:ListHostedZones",
                          "route53:ListResourceRecordSets",
                          "route53:ListTagsForResources"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_external_dns_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "external_secrets",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.external_secrets",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "ssm:DescribeParameters"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "secretsmanager:ListSecrets",
                          "secretsmanager:BatchGetSecretValue"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "secretsmanager:GetResourcePolicy",
                          "secretsmanager:GetSecretValue",
                          "secretsmanager:DescribeSecret",
                          "secretsmanager:ListSecretVersionIds"
                        ]
                      },
                      "resources": {
                        "references": [
                          "var.external_secrets_secrets_manager_arns"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_external_secrets_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "fsx_lustre_csi",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.fsx_lustre_csi",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "iam:CreateServiceLinkedRole",
                          "iam:AttachRolePolicy",
                          "iam:PutRolePolicy"
                        ]
                      },
                      "resources": {
                        "references": [
                          "var.fsx_lustre_csi_service_role_arns"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "iam:CreateServiceLinkedRole"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "references": [
                              "local.dns_suffix"
                            ]
                          },
                          "variable": {
                            "constant_value": "iam:AWSServiceName"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "s3:ListBucket",
                          "fsx:CreateFileSystem",
                          "fsx:DeleteFileSystem",
                          "fsx:DescribeFileSystems",
                          "fsx:TagResource",
                          "fsx:UpdateFileSystem"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_fsx_lustre_csi_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "fsx_openzfs_csi",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.fsx_openzfs_csi",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "iam:CreateServiceLinkedRole",
                          "iam:AttachRolePolicy",
                          "iam:PutRolePolicy"
                        ]
                      },
                      "resources": {
                        "references": [
                          "var.fsx_openzfs_csi_service_role_arns"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "iam:CreateServiceLinkedRole"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "references": [
                              "local.dns_suffix"
                            ]
                          },
                          "variable": {
                            "constant_value": "iam:AWSServiceName"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "fsx:CreateFileSystem",
                          "fsx:UpdateFileSystem",
                          "fsx:DeleteFileSystem",
                          "fsx:DescribeFileSystems",
                          "fsx:CreateVolume",
                          "fsx:DeleteVolume",
                          "fsx:DescribeVolumes",
                          "fsx:CreateSnapshot",
                          "fsx:DeleteSnapshot",
                          "fsx:DescribeSnapshots",
                          "fsx:TagResource",
                          "fsx:ListTagsForResource"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_fsx_openzfs_csi_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "karpenter_controller",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.karpenter_controller",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:CreateFleet",
                          "ec2:CreateLaunchTemplate",
                          "ec2:CreateTags",
                          "ec2:DescribeAvailabilityZones",
                          "ec2:DescribeImages",
                          "ec2:DescribeInstances",
                          "ec2:DescribeInstanceTypeOfferings",
                          "ec2:DescribeInstanceTypes",
                          "ec2:DescribeLaunchTemplates",
                          "ec2:DescribeSecurityGroups",
                          "ec2:DescribeSpotPriceHistory",
                          "ec2:DescribeSubnets",
                          "pricing:GetProducts"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:TerminateInstances",
                          "ec2:DeleteLaunchTemplate"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "references": [
                              "local.karpenter_controller_cluster_name"
                            ]
                          },
                          "variable": {
                            "references": [
                              "var.karpenter_tag_key"
                            ]
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:RunInstances"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "references": [
                              "local.karpenter_controller_cluster_name"
                            ]
                          },
                          "variable": {
                            "references": [
                              "var.karpenter_tag_key"
                            ]
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.account_id"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:RunInstances"
                        ]
                      },
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.partition",
                          "local.account_id",
                          "local.partition",
                          "local.account_id",
                          "local.partition",
                          "local.account_id",
                          "local.partition",
                          "local.account_id",
                          "local.partition",
                          "local.account_id",
                          "local.partition",
                          "var.karpenter_subnet_account_id",
                          "local.account_id"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ssm:GetParameter"
                        ]
                      },
                      "resources": {
                        "references": [
                          "var.karpenter_controller_ssm_parameter_arns"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "iam:PassRole"
                        ]
                      },
                      "resources": {
                        "references": [
                          "var.karpenter_controller_node_iam_role_arns"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "eks:DescribeCluster"
                        ]
                      },
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.region",
                          "local.account_id",
                          "local.karpenter_controller_cluster_name"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_karpenter_controller_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "load_balancer_controller",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.load_balancer_controller",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "iam:CreateServiceLinkedRole"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "references": [
                              "local.dns_suffix"
                            ]
                          },
                          "variable": {
                            "constant_value": "iam:AWSServiceName"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:DescribeAccountAttributes",
                          "ec2:DescribeAddresses",
                          "ec2:DescribeAvailabilityZones",
                          "ec2:DescribeInternetGateways",
                          "ec2:DescribeVpcs",
                          "ec2:DescribeVpcPeeringConnections",
                          "ec2:DescribeSubnets",
                          "ec2:DescribeSecurityGroups",
                          "ec2:DescribeInstances",
                          "ec2:DescribeNetworkInterfaces",
                          "ec2:DescribeTags",
                          "ec2:GetCoipPoolUsage",
                          "ec2:DescribeCoipPools",
                          "ec2:GetSecurityGroupsForVpc",
                          "ec2:DescribeIpamPools",
                          "ec2:DescribeRouteTables",
                          "elasticloadbalancing:DescribeLoadBalancers",
                          "elasticloadbalancing:DescribeLoadBalancerAttributes",
                          "elasticloadbalancing:DescribeListeners",
                          "elasticloadbalancing:DescribeListenerCertificates",
                          "elasticloadbalancing:DescribeSSLPolicies",
                          "elasticloadbalancing:DescribeRules",
                          "elasticloadbalancing:DescribeTargetGroups",
                          "elasticloadbalancing:DescribeTargetGroupAttributes",
                          "elasticloadbalancing:DescribeTargetHealth",
                          "elasticloadbalancing:DescribeTags",
                          "elasticloadbalancing:DescribeTrustStores",
                          "elasticloadbalancing:DescribeListenerAttributes",
                          "elasticloadbalancing:DescribeCapacityReservation"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "cognito-idp:DescribeUserPoolClient",
                          "acm:ListCertificates",
                          "acm:DescribeCertificate",
                          "iam:ListServerCertificates",
                          "iam:GetServerCertificate",
                          "waf-regional:GetWebACL",
                          "waf-regional:GetWebACLForResource",
                          "waf-regional:AssociateWebACL",
                          "waf-regional:DisassociateWebACL",
                          "wafv2:GetWebACL",
                          "wafv2:GetWebACLForResource",
                          "wafv2:AssociateWebACL",
                          "wafv2:DisassociateWebACL",
                          "shield:GetSubscriptionState",
                          "shield:DescribeProtection",
                          "shield:CreateProtection",
                          "shield:DeleteProtection"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:AuthorizeSecurityGroupIngress",
                          "ec2:RevokeSecurityGroupIngress"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:CreateSecurityGroup"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:CreateTags"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "constant_value": [
                              "CreateSecurityGroup"
                            ]
                          },
                          "variable": {
                            "constant_value": "ec2:CreateAction"
                          }
                        },
                        {
                          "test": {
                            "constant_value": "Null"
                          },
                          "values": {
                            "constant_value": [
                              "false"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/elbv2.k8s.aws/cluster"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "local.partition"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:CreateTags",
                          "ec2:DeleteTags"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "Null"
                          },
                          "values": {
                            "constant_value": [
                              "true"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/elbv2.k8s.aws/cluster"
                          }
                        },
                        {
                          "test": {
                            "constant_value": "Null"
                          },
                          "values": {
                            "constant_value": [
                              "false"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:ResourceTag/elbv2.k8s.aws/cluster"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "local.partition"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:AuthorizeSecurityGroupIngress",
                          "ec2:RevokeSecurityGroupIngress",
                          "ec2:DeleteSecurityGroup"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "Null"
                          },
                          "values": {
                            "constant_value": [
                              "false"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:ResourceTag/elbv2.k8s.aws/cluster"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "elasticloadbalancing:CreateLoadBalancer",
                          "elasticloadbalancing:CreateTargetGroup"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "Null"
                          },
                          "values": {
                            "constant_value": [
                              "false"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/elbv2.k8s.aws/cluster"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "elasticloadbalancing:CreateListener",
                          "elasticloadbalancing:DeleteListener",
                          "elasticloadbalancing:CreateRule",
                          "elasticloadbalancing:DeleteRule"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "elasticloadbalancing:AddTags",
                          "elasticloadbalancing:RemoveTags"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "Null"
                          },
                          "values": {
                            "constant_value": [
                              "true"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/elbv2.k8s.aws/cluster"
                          }
                        },
                        {
                          "test": {
                            "constant_value": "Null"
                          },
                          "values": {
                            "constant_value": [
                              "false"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:ResourceTag/elbv2.k8s.aws/cluster"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.partition",
                          "local.partition"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "elasticloadbalancing:AddTags",
                          "elasticloadbalancing:RemoveTags"
                        ]
                      },
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.partition",
                          "local.partition",
                          "local.partition"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "elasticloadbalancing:ModifyLoadBalancerAttributes",
                          "elasticloadbalancing:SetIpAddressType",
                          "elasticloadbalancing:SetSecurityGroups",
                          "elasticloadbalancing:SetSubnets",
                          "elasticloadbalancing:DeleteLoadBalancer",
                          "elasticloadbalancing:ModifyTargetGroup",
                          "elasticloadbalancing:ModifyTargetGroupAttributes",
                          "elasticloadbalancing:DeleteTargetGroup",
                          "elasticloadbalancing:ModifyListenerAttributes",
                          "elasticloadbalancing:ModifyCapacityReservation",
                          "elasticloadbalancing:ModifyIpPools"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "Null"
                          },
                          "values": {
                            "constant_value": [
                              "false"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:ResourceTag/elbv2.k8s.aws/cluster"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "elasticloadbalancing:AddTags"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "constant_value": [
                              "CreateTargetGroup",
                              "CreateLoadBalancer"
                            ]
                          },
                          "variable": {
                            "constant_value": "elasticloadbalancing:CreateAction"
                          }
                        },
                        {
                          "test": {
                            "constant_value": "Null"
                          },
                          "values": {
                            "constant_value": [
                              "false"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/elbv2.k8s.aws/cluster"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.partition",
                          "local.partition"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "elasticloadbalancing:RegisterTargets",
                          "elasticloadbalancing:DeregisterTargets"
                        ]
                      },
                      "resources": {
                        "references": [
                          "local.partition"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "elasticloadbalancing:SetWebAcl",
                          "elasticloadbalancing:ModifyListener",
                          "elasticloadbalancing:AddListenerCertificates",
                          "elasticloadbalancing:RemoveListenerCertificates",
                          "elasticloadbalancing:ModifyRule",
                          "elasticloadbalancing:SetRulePriorities"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_load_balancer_controller_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "load_balancer_controller_targetgroup_only",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.load_balancer_controller_targetgroup_only",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:DescribeSecurityGroups",
                          "ec2:DescribeInstances",
                          "ec2:DescribeVpcs",
                          "ec2:AuthorizeSecurityGroupIngress",
                          "ec2:RevokeSecurityGroupIngress",
                          "elasticloadbalancing:DescribeTargetGroups",
                          "elasticloadbalancing:DescribeTargetHealth"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "elasticloadbalancing:ModifyTargetGroup",
                          "elasticloadbalancing:ModifyTargetGroupAttributes",
                          "elasticloadbalancing:RegisterTargets",
                          "elasticloadbalancing:DeregisterTargets"
                        ]
                      },
                      "resources": {
                        "references": [
                          "var.load_balancer_controller_targetgroup_arns"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_load_balancer_controller_targetgroup_binding_only_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "mountpoint_s3_csi",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.mountpoint_s3_csi",
                "expressions": {
                  "statement": [
                    {
                      "sid": {
                        "constant_value": "MountpointFullBucketAccess"
                      },
                      "actions": {
                        "constant_value": [
                          "s3:ListBucket"
                        ]
                      },
                      "resources": {
                        "references": [
                          "var.mountpoint_s3_csi_bucket_arns",
                          "local.partition"
                        ]
                      }
                    },
                    {
                      "sid": {
                        "constant_value": "MountpointFullObjectAccess"
                      },
                      "actions": {
                        "constant_value": [
                          "s3:GetObject",
                          "s3:PutObject",
                          "s3:AbortMultipartUpload",
                          "s3:DeleteObject"
                        ]
                      },
                      "resources": {
                        "references": [
                          "var.mountpoint_s3_csi_path_arns"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_mountpoint_s3_csi_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "node_termination_handler",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.node_termination_handler",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "autoscaling:CompleteLifecycleAction",
                          "autoscaling:DescribeAutoScalingInstances",
                          "autoscaling:DescribeTags",
                          "ec2:DescribeInstances"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "sqs:DeleteMessage",
                          "sqs:ReceiveMessage"
                        ]
                      },
                      "resources": {
                        "references": [
                          "var.node_termination_handler_sqs_queue_arns"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_node_termination_handler_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "this",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.this",
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "velero",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.velero",
                "expressions": {
                  "statement": [
                    {
                      "sid": {
                        "constant_value": "Ec2ReadWrite"
                      },
                      "actions": {
                        "constant_value": [
                          "ec2:DescribeVolumes",
                          "ec2:DescribeSnapshots",
                          "ec2:CreateTags",
                          "ec2:CreateVolume",
                          "ec2:CreateSnapshot",
                          "ec2:DeleteSnapshot"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "sid": {
                        "constant_value": "S3ReadWrite"
                      },
                      "actions": {
                        "constant_value": [
                          "s3:GetObject",
                          "s3:DeleteObject",
                          "s3:PutObject",
                          "s3:PutObjectTagging",
                          "s3:AbortMultipartUpload",
                          "s3:ListMultipartUploadParts"
                        ]
                      },
                      "resources": {
                        "references": [
                          "var.velero_s3_bucket_arns"
                        ]
                      }
                    },
                    {
                      "sid": {
                        "constant_value": "S3List"
                      },
                      "actions": {
                        "constant_value": [
                          "s3:ListBucket"
                        ]
                      },
                      "resources": {
                        "references": [
                          "var.velero_s3_bucket_arns"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_velero_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "vpc_cni",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.vpc_cni",
                "expressions": {
                  "statement": [
                    {
                      "sid": {
                        "constant_value": "CreateTags"
                      },
                      "actions": {
                        "constant_value": [
                          "ec2:CreateTags"
                        ]
                      },
                      "resources": {
                        "references": [
                          "local.partition"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_vpc_cni_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "current",
                "type": "aws_partition",
                "address": "data.aws_partition.current",
                "schema_version": 0,
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "current",
                "type": "aws_region",
                "address": "data.aws_region.current",
                "schema_version": 0,
                "provider_config_key": "aws"
              }
            ],
            "variables": {
              "tags": {
                "default": {},
                "description": "A map of tags to add the the IAM role"
              },
              "role_name": {
                "description": "Name of IAM role"
              },
              "role_path": {
                "default": "/",
                "description": "Path of IAM role"
              },
              "create_role": {
                "default": true,
                "description": "Whether to create a role"
              },
              "oidc_providers": {
                "default": {},
                "description": "Map of OIDC providers where each provider map should contain the `provider_arn` and `namespace_service_accounts`"
              },
              "role_description": {
                "description": "IAM Role description"
              },
              "role_name_prefix": {
                "description": "IAM role name prefix"
              },
              "role_policy_arns": {
                "default": {},
                "description": "ARNs of any policies to attach to the IAM role"
              },
              "karpenter_tag_key": {
                "default": "karpenter.sh/discovery",
                "description": "Tag key (`{key = value}`) applied to resources launched by Karpenter through the Karpenter provisioner"
              },
              "policy_name_prefix": {
                "default": "AmazonEKS_",
                "description": "IAM policy name prefix"
              },
              "ebs_csi_kms_cmk_ids": {
                "default": [],
                "description": "KMS CMK IDs to allow EBS CSI to manage encrypted volumes"
              },
              "vpc_cni_enable_ipv4": {
                "default": false,
                "description": "Determines whether to enable IPv4 permissions for VPC CNI policy"
              },
              "vpc_cni_enable_ipv6": {
                "default": false,
                "description": "Determines whether to enable IPv6 permissions for VPC CNI policy"
              },
              "attach_velero_policy": {
                "default": false,
                "description": "Determines whether to attach the Velero IAM policy to the role"
              },
              "max_session_duration": {
                "description": "Maximum CLI/API session duration in seconds between 3600 and 43200"
              },
              "attach_ebs_csi_policy": {
                "default": false,
                "description": "Determines whether to attach the EBS CSI IAM policy to the role"
              },
              "attach_efs_csi_policy": {
                "default": false,
                "description": "Determines whether to attach the EFS CSI IAM policy to the role"
              },
              "attach_vpc_cni_policy": {
                "default": false,
                "description": "Determines whether to attach the VPC CNI IAM policy to the role"
              },
              "force_detach_policies": {
                "default": true,
                "description": "Whether policies should be detached from this role when destroying"
              },
              "velero_s3_bucket_arns": {
                "default": [
                  "*"
                ],
                "description": "List of S3 Bucket ARNs that Velero needs access to in order to backup and restore cluster resources"
              },
              "allow_self_assume_role": {
                "default": false,
                "description": "Determines whether to allow the role to be [assume itself](https://aws.amazon.com/blogs/security/announcing-an-update-to-iam-role-trust-policy-behavior/)"
              },
              "karpenter_sqs_queue_arn": {
                "description": "(Optional) ARN of SQS used by Karpenter when native node termination handling is enabled"
              },
              "assume_role_condition_test": {
                "default": "StringEquals",
                "description": "Name of the [IAM condition operator](https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html) to evaluate when assuming the role"
              },
              "attach_cert_manager_policy": {
                "default": false,
                "description": "Determines whether to attach the Cert Manager IAM policy to the role"
              },
              "attach_external_dns_policy": {
                "default": false,
                "description": "Determines whether to attach the External DNS IAM policy to the role"
              },
              "mountpoint_s3_csi_kms_arns": {
                "default": [],
                "description": "KMS Key ARNs to allow Mountpoint S3 CSI driver to download and upload Objects of a S3 bucket using `aws:kms` SSE"
              },
              "karpenter_subnet_account_id": {
                "default": "",
                "description": "Account ID of where the subnets Karpenter will utilize resides. Used when subnets are shared from another account"
              },
              "mountpoint_s3_csi_path_arns": {
                "default": [],
                "description": "S3 path ARNs to allow Mountpoint S3 CSI driver to manage items at the provided path(s). This is required if `attach_mountpoint_s3_csi_policy = true`"
              },
              "attach_fsx_lustre_csi_policy": {
                "default": false,
                "description": "Determines whether to attach the FSx for Lustre CSI Driver IAM policy to the role"
              },
              "attach_fsx_openzfs_csi_policy": {
                "default": false,
                "description": "Determines whether to attach the FSx for OpenZFS CSI Driver IAM policy to the role"
              },
              "cert_manager_hosted_zone_arns": {
                "default": [
                  "arn:aws:route53:::hostedzone/*"
                ],
                "description": "Route53 hosted zone ARNs to allow Cert manager to manage records"
              },
              "external_dns_hosted_zone_arns": {
                "default": [
                  "arn:aws:route53:::hostedzone/*"
                ],
                "description": "Route53 hosted zone ARNs to allow External DNS to manage records"
              },
              "external_secrets_kms_key_arns": {
                "default": [
                  "arn:aws:kms:*:*:key/*"
                ],
                "description": "List of KMS Key ARNs that are used by Secrets Manager that contain secrets to mount using External Secrets"
              },
              "mountpoint_s3_csi_bucket_arns": {
                "default": [],
                "description": "S3 bucket ARNs to allow Mountpoint S3 CSI to list buckets"
              },
              "role_permissions_boundary_arn": {
                "description": "Permissions boundary ARN to use for IAM role"
              },
              "attach_external_secrets_policy": {
                "default": false,
                "description": "Determines whether to attach the External Secrets policy to the role"
              },
              "cluster_autoscaler_cluster_ids": {
                "default": [],
                "description": "[Deprecated - use `cluster_autoscaler_cluster_names`] List of cluster names to appropriately scope permissions within the Cluster Autoscaler IAM policy"
              },
              "vpc_cni_enable_cloudwatch_logs": {
                "default": false,
                "description": "Determines whether to enable VPC CNI permission to create CloudWatch Log groups and publish network policy events"
              },
              "attach_mountpoint_s3_csi_policy": {
                "default": false,
                "description": "Determines whether to attach the Mountpoint S3 CSI IAM policy to the role"
              },
              "karpenter_controller_cluster_id": {
                "default": "*",
                "description": "[Deprecated - use `karpenter_controller_cluster_name`] The name of the cluster where the Karpenter controller is provisioned/managing"
              },
              "attach_appmesh_controller_policy": {
                "default": false,
                "description": "Determines whether to attach the Appmesh Controller policy to the role"
              },
              "attach_cluster_autoscaler_policy": {
                "default": false,
                "description": "Determines whether to attach the Cluster Autoscaler IAM policy to the role"
              },
              "cluster_autoscaler_cluster_names": {
                "default": [],
                "description": "List of cluster names to appropriately scope permissions within the Cluster Autoscaler IAM policy"
              },
              "fsx_lustre_csi_service_role_arns": {
                "default": [
                  "arn:aws:iam::*:role/aws-service-role/s3.data-source.lustre.fsx.amazonaws.com/*"
                ],
                "description": "Service role ARNs to allow FSx for Lustre CSI create and manage FSX for Lustre service linked roles"
              },
              "attach_appmesh_envoy_proxy_policy": {
                "default": false,
                "description": "Determines whether to attach the Appmesh envoy proxy policy to the role"
              },
              "fsx_openzfs_csi_service_role_arns": {
                "default": [
                  "arn:aws:iam::*:role/aws-service-role/fsx.amazonaws.com/*"
                ],
                "description": "Service role ARNs to allow FSx for OpenZFS CSI create and manage FSX for openzfs service linked roles"
              },
              "karpenter_controller_cluster_name": {
                "default": "*",
                "description": "The name of the cluster where the Karpenter controller is provisioned/managing"
              },
              "attach_karpenter_controller_policy": {
                "default": false,
                "description": "Determines whether to attach the Karpenter Controller policy to the role"
              },
              "external_secrets_ssm_parameter_arns": {
                "default": [
                  "arn:aws:ssm:*:*:parameter/*"
                ],
                "description": "List of Systems Manager Parameter ARNs that contain secrets to mount using External Secrets"
              },
              "attach_aws_gateway_controller_policy": {
                "default": false,
                "description": "Determines whether to attach the AWS Gateway Controller IAM policy to the role"
              },
              "external_secrets_secrets_manager_arns": {
                "default": [
                  "arn:aws:secretsmanager:*:*:secret:*"
                ],
                "description": "List of Secrets Manager ARNs that contain secrets to mount using External Secrets"
              },
              "attach_cloudwatch_observability_policy": {
                "default": false,
                "description": "Determines whether to attach the Amazon CloudWatch Observability IAM policies to the role"
              },
              "attach_load_balancer_controller_policy": {
                "default": false,
                "description": "Determines whether to attach the Load Balancer Controller policy to the role"
              },
              "attach_node_termination_handler_policy": {
                "default": false,
                "description": "Determines whether to attach the Node Termination Handler policy to the role"
              },
              "karpenter_controller_node_iam_role_arns": {
                "default": [
                  "*"
                ],
                "description": "List of node IAM role ARNs Karpenter can use to launch nodes"
              },
              "karpenter_controller_ssm_parameter_arns": {
                "default": [
                  "arn:aws:ssm:*:*:parameter/aws/service/*"
                ],
                "description": "List of SSM Parameter ARNs that contain AMI IDs launched by Karpenter"
              },
              "node_termination_handler_sqs_queue_arns": {
                "default": [
                  "*"
                ],
                "description": "List of SQS ARNs that contain node termination events"
              },
              "load_balancer_controller_targetgroup_arns": {
                "default": [
                  "arn:aws:elasticloadbalancing:*:*:targetgroup/*/*"
                ],
                "description": "List of Target groups ARNs using Load Balancer Controller"
              },
              "enable_karpenter_instance_profile_creation": {
                "default": false,
                "description": "Determines whether Karpenter will be allowed to create the IAM instance profile (v1beta1/v0.32+)"
              },
              "attach_amazon_managed_service_prometheus_policy": {
                "default": false,
                "description": "Determines whether to attach the Amazon Managed Service for Prometheus IAM policy to the role"
              },
              "amazon_managed_service_prometheus_workspace_arns": {
                "default": [
                  "*"
                ],
                "description": "List of AMP Workspace ARNs to read and write metrics"
              },
              "external_secrets_secrets_manager_create_permission": {
                "default": false,
                "description": "Determins whether External Secrets may use secretsmanager:CreateSecret"
              },
              "attach_load_balancer_controller_targetgroup_binding_only_policy": {
                "default": false,
                "description": "Determines whether to attach the Load Balancer Controller policy for the TargetGroupBinding only"
              }
            }
          },
          "source": "terraform-aws-modules/iam/aws//modules/iam-role-for-service-accounts-eks",
          "expressions": {
            "tags": {
              "references": [
                "local.tags"
              ]
            },
            "role_name": {
              "references": [
                "var.nuon_id"
              ]
            },
            "oidc_providers": {
              "references": [
                "module.eks.oidc_provider_arn",
                "module.eks",
                "local.ebs_csi.name",
                "local.ebs_csi",
                "local.ebs_csi.name",
                "local.ebs_csi"
              ]
            },
            "attach_ebs_csi_policy": {
              "constant_value": true
            }
          },
          "version_constraint": "~> 5.0"
        },
        "additional_irsa": {
          "module": {
            "outputs": {
              "iam_role_arn": {
                "expression": {
                  "references": [
                    "aws_iam_role.this[0].arn",
                    "aws_iam_role.this[0]",
                    "aws_iam_role.this"
                  ]
                },
                "description": "ARN of IAM role"
              },
              "iam_role_name": {
                "expression": {
                  "references": [
                    "aws_iam_role.this[0].name",
                    "aws_iam_role.this[0]",
                    "aws_iam_role.this"
                  ]
                },
                "description": "Name of IAM role"
              },
              "iam_role_path": {
                "expression": {
                  "references": [
                    "aws_iam_role.this[0].path",
                    "aws_iam_role.this[0]",
                    "aws_iam_role.this"
                  ]
                },
                "description": "Path of IAM role"
              },
              "iam_role_unique_id": {
                "expression": {
                  "references": [
                    "aws_iam_role.this[0].unique_id",
                    "aws_iam_role.this[0]",
                    "aws_iam_role.this"
                  ]
                },
                "description": "Unique ID of IAM role"
              }
            },
            "resources": [
              {
                "mode": "managed",
                "name": "amazon_managed_service_prometheus",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.amazon_managed_service_prometheus",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.amazon_managed_service_prometheus[0].json",
                      "data.aws_iam_policy_document.amazon_managed_service_prometheus[0]",
                      "data.aws_iam_policy_document.amazon_managed_service_prometheus"
                    ]
                  },
                  "description": {
                    "constant_value": "Provides permissions to for Amazon Managed Service for Prometheus"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_amazon_managed_service_prometheus_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "appmesh_controller",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.appmesh_controller",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.appmesh_controller[0].json",
                      "data.aws_iam_policy_document.appmesh_controller[0]",
                      "data.aws_iam_policy_document.appmesh_controller"
                    ]
                  },
                  "description": {
                    "constant_value": "Provides permissions to for appmesh controller"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_appmesh_controller_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "appmesh_envoy_proxy",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.appmesh_envoy_proxy",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.appmesh_envoy_proxy[0].json",
                      "data.aws_iam_policy_document.appmesh_envoy_proxy[0]",
                      "data.aws_iam_policy_document.appmesh_envoy_proxy"
                    ]
                  },
                  "description": {
                    "constant_value": "Provides permissions to for appmesh envoy proxy"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_appmesh_envoy_proxy_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "aws_gateway_controller",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.aws_gateway_controller",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.aws_gateway_controller[0].json",
                      "data.aws_iam_policy_document.aws_gateway_controller[0]",
                      "data.aws_iam_policy_document.aws_gateway_controller"
                    ]
                  },
                  "description": {
                    "constant_value": "Provides permissions for the AWS Gateway Controller"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_aws_gateway_controller_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "cert_manager",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.cert_manager",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.cert_manager[0].json",
                      "data.aws_iam_policy_document.cert_manager[0]",
                      "data.aws_iam_policy_document.cert_manager"
                    ]
                  },
                  "description": {
                    "constant_value": "Cert Manager policy to allow management of Route53 hosted zone records"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_cert_manager_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "cluster_autoscaler",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.cluster_autoscaler",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.cluster_autoscaler[0].json",
                      "data.aws_iam_policy_document.cluster_autoscaler[0]",
                      "data.aws_iam_policy_document.cluster_autoscaler"
                    ]
                  },
                  "description": {
                    "constant_value": "Cluster autoscaler policy to allow examination and modification of EC2 Auto Scaling Groups"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_cluster_autoscaler_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "ebs_csi",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.ebs_csi",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.ebs_csi[0].json",
                      "data.aws_iam_policy_document.ebs_csi[0]",
                      "data.aws_iam_policy_document.ebs_csi"
                    ]
                  },
                  "description": {
                    "constant_value": "Provides permissions to manage EBS volumes via the container storage interface driver"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_ebs_csi_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "efs_csi",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.efs_csi",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.efs_csi[0].json",
                      "data.aws_iam_policy_document.efs_csi[0]",
                      "data.aws_iam_policy_document.efs_csi"
                    ]
                  },
                  "description": {
                    "constant_value": "Provides permissions to manage EFS volumes via the container storage interface driver"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_efs_csi_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "external_dns",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.external_dns",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.external_dns[0].json",
                      "data.aws_iam_policy_document.external_dns[0]",
                      "data.aws_iam_policy_document.external_dns"
                    ]
                  },
                  "description": {
                    "constant_value": "External DNS policy to allow management of Route53 hosted zone records"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_external_dns_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "external_secrets",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.external_secrets",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.external_secrets[0].json",
                      "data.aws_iam_policy_document.external_secrets[0]",
                      "data.aws_iam_policy_document.external_secrets"
                    ]
                  },
                  "description": {
                    "constant_value": "Provides permissions to for External Secrets to retrieve secrets from AWS SSM and AWS Secrets Manager"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_external_secrets_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "fsx_lustre_csi",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.fsx_lustre_csi",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.fsx_lustre_csi[0].json",
                      "data.aws_iam_policy_document.fsx_lustre_csi[0]",
                      "data.aws_iam_policy_document.fsx_lustre_csi"
                    ]
                  },
                  "description": {
                    "constant_value": "Provides permissions to manage FSx Lustre volumes via the container storage interface driver"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_fsx_lustre_csi_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "fsx_openzfs_csi",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.fsx_openzfs_csi",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.fsx_openzfs_csi[0].json",
                      "data.aws_iam_policy_document.fsx_openzfs_csi[0]",
                      "data.aws_iam_policy_document.fsx_openzfs_csi"
                    ]
                  },
                  "description": {
                    "constant_value": "Provides permissions to manage FSx OpenZFS volumes via the container storage interface driver"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_fsx_openzfs_csi_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "karpenter_controller",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.karpenter_controller",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.karpenter_controller[0].json",
                      "data.aws_iam_policy_document.karpenter_controller[0]",
                      "data.aws_iam_policy_document.karpenter_controller"
                    ]
                  },
                  "description": {
                    "constant_value": "Provides permissions to handle node termination events via the Node Termination Handler"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_karpenter_controller_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "load_balancer_controller",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.load_balancer_controller",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.load_balancer_controller[0].json",
                      "data.aws_iam_policy_document.load_balancer_controller[0]",
                      "data.aws_iam_policy_document.load_balancer_controller"
                    ]
                  },
                  "description": {
                    "constant_value": "Provides permissions for AWS Load Balancer Controller addon"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_load_balancer_controller_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "load_balancer_controller_targetgroup_only",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.load_balancer_controller_targetgroup_only",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.load_balancer_controller_targetgroup_only[0].json",
                      "data.aws_iam_policy_document.load_balancer_controller_targetgroup_only[0]",
                      "data.aws_iam_policy_document.load_balancer_controller_targetgroup_only"
                    ]
                  },
                  "description": {
                    "constant_value": "Provides permissions for AWS Load Balancer Controller addon in TargetGroup binding only scenario"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_load_balancer_controller_targetgroup_binding_only_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "mountpoint_s3_csi",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.mountpoint_s3_csi",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.mountpoint_s3_csi[0].json",
                      "data.aws_iam_policy_document.mountpoint_s3_csi[0]",
                      "data.aws_iam_policy_document.mountpoint_s3_csi"
                    ]
                  },
                  "description": {
                    "constant_value": "Mountpoint S3 CSI driver policy to allow management of S3"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_mountpoint_s3_csi_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "node_termination_handler",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.node_termination_handler",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.node_termination_handler[0].json",
                      "data.aws_iam_policy_document.node_termination_handler[0]",
                      "data.aws_iam_policy_document.node_termination_handler"
                    ]
                  },
                  "description": {
                    "constant_value": "Provides permissions to handle node termination events via the Node Termination Handler"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_node_termination_handler_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "velero",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.velero",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.velero[0].json",
                      "data.aws_iam_policy_document.velero[0]",
                      "data.aws_iam_policy_document.velero"
                    ]
                  },
                  "description": {
                    "constant_value": "Provides Velero permissions to backup and restore cluster resources"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_velero_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "vpc_cni",
                "type": "aws_iam_policy",
                "address": "aws_iam_policy.vpc_cni",
                "expressions": {
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.vpc_cni[0].json",
                      "data.aws_iam_policy_document.vpc_cni[0]",
                      "data.aws_iam_policy_document.vpc_cni"
                    ]
                  },
                  "description": {
                    "constant_value": "Provides the Amazon VPC CNI Plugin (amazon-vpc-cni-k8s) the permissions it requires to modify the IPv4/IPv6 address configuration on your EKS worker nodes"
                  },
                  "name_prefix": {
                    "references": [
                      "var.policy_name_prefix"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_vpc_cni_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "this",
                "type": "aws_iam_role",
                "address": "aws_iam_role.this",
                "expressions": {
                  "name": {
                    "references": [
                      "var.role_name"
                    ]
                  },
                  "path": {
                    "references": [
                      "var.role_path"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  },
                  "description": {
                    "references": [
                      "var.role_description"
                    ]
                  },
                  "name_prefix": {
                    "references": [
                      "var.role_name_prefix"
                    ]
                  },
                  "assume_role_policy": {
                    "references": [
                      "data.aws_iam_policy_document.this[0].json",
                      "data.aws_iam_policy_document.this[0]",
                      "data.aws_iam_policy_document.this"
                    ]
                  },
                  "max_session_duration": {
                    "references": [
                      "var.max_session_duration"
                    ]
                  },
                  "permissions_boundary": {
                    "references": [
                      "var.role_permissions_boundary_arn"
                    ]
                  },
                  "force_detach_policies": {
                    "references": [
                      "var.force_detach_policies"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "amazon_cloudwatch_observability",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.amazon_cloudwatch_observability",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "each.value"
                    ]
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "local.partition",
                    "local.partition",
                    "var.create_role",
                    "var.attach_cloudwatch_observability_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "amazon_managed_service_prometheus",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.amazon_managed_service_prometheus",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.amazon_managed_service_prometheus[0].arn",
                      "aws_iam_policy.amazon_managed_service_prometheus[0]",
                      "aws_iam_policy.amazon_managed_service_prometheus"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_amazon_managed_service_prometheus_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "appmesh_controller",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.appmesh_controller",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.appmesh_controller[0].arn",
                      "aws_iam_policy.appmesh_controller[0]",
                      "aws_iam_policy.appmesh_controller"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_appmesh_controller_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "appmesh_envoy_proxy",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.appmesh_envoy_proxy",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.appmesh_envoy_proxy[0].arn",
                      "aws_iam_policy.appmesh_envoy_proxy[0]",
                      "aws_iam_policy.appmesh_envoy_proxy"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_appmesh_envoy_proxy_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "aws_gateway_controller",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.aws_gateway_controller",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.aws_gateway_controller[0].arn",
                      "aws_iam_policy.aws_gateway_controller[0]",
                      "aws_iam_policy.aws_gateway_controller"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_aws_gateway_controller_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "cert_manager",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.cert_manager",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.cert_manager[0].arn",
                      "aws_iam_policy.cert_manager[0]",
                      "aws_iam_policy.cert_manager"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_cert_manager_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "cluster_autoscaler",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.cluster_autoscaler",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.cluster_autoscaler[0].arn",
                      "aws_iam_policy.cluster_autoscaler[0]",
                      "aws_iam_policy.cluster_autoscaler"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_cluster_autoscaler_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "ebs_csi",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.ebs_csi",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.ebs_csi[0].arn",
                      "aws_iam_policy.ebs_csi[0]",
                      "aws_iam_policy.ebs_csi"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_ebs_csi_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "efs_csi",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.efs_csi",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.efs_csi[0].arn",
                      "aws_iam_policy.efs_csi[0]",
                      "aws_iam_policy.efs_csi"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_efs_csi_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "external_dns",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.external_dns",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.external_dns[0].arn",
                      "aws_iam_policy.external_dns[0]",
                      "aws_iam_policy.external_dns"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_external_dns_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "external_secrets",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.external_secrets",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.external_secrets[0].arn",
                      "aws_iam_policy.external_secrets[0]",
                      "aws_iam_policy.external_secrets"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_external_secrets_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "fsx_lustre_csi",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.fsx_lustre_csi",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.fsx_lustre_csi[0].arn",
                      "aws_iam_policy.fsx_lustre_csi[0]",
                      "aws_iam_policy.fsx_lustre_csi"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_fsx_lustre_csi_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "fsx_openzfs_csi",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.fsx_openzfs_csi",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.fsx_openzfs_csi[0].arn",
                      "aws_iam_policy.fsx_openzfs_csi[0]",
                      "aws_iam_policy.fsx_openzfs_csi"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_fsx_openzfs_csi_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "karpenter_controller",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.karpenter_controller",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.karpenter_controller[0].arn",
                      "aws_iam_policy.karpenter_controller[0]",
                      "aws_iam_policy.karpenter_controller"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_karpenter_controller_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "load_balancer_controller",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.load_balancer_controller",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.load_balancer_controller[0].arn",
                      "aws_iam_policy.load_balancer_controller[0]",
                      "aws_iam_policy.load_balancer_controller"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_load_balancer_controller_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "load_balancer_controller_targetgroup_only",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.load_balancer_controller_targetgroup_only",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.load_balancer_controller_targetgroup_only[0].arn",
                      "aws_iam_policy.load_balancer_controller_targetgroup_only[0]",
                      "aws_iam_policy.load_balancer_controller_targetgroup_only"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_load_balancer_controller_targetgroup_binding_only_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "mountpoint_s3_csi",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.mountpoint_s3_csi",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.mountpoint_s3_csi[0].arn",
                      "aws_iam_policy.mountpoint_s3_csi[0]",
                      "aws_iam_policy.mountpoint_s3_csi"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_mountpoint_s3_csi_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "node_termination_handler",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.node_termination_handler",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.node_termination_handler[0].arn",
                      "aws_iam_policy.node_termination_handler[0]",
                      "aws_iam_policy.node_termination_handler"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_node_termination_handler_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "this",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.this",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "each.value"
                    ]
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "var.role_policy_arns",
                    "var.create_role"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "velero",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.velero",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.velero[0].arn",
                      "aws_iam_policy.velero[0]",
                      "aws_iam_policy.velero"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_velero_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "vpc_cni",
                "type": "aws_iam_role_policy_attachment",
                "address": "aws_iam_role_policy_attachment.vpc_cni",
                "expressions": {
                  "role": {
                    "references": [
                      "aws_iam_role.this[0].name",
                      "aws_iam_role.this[0]",
                      "aws_iam_role.this"
                    ]
                  },
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.vpc_cni[0].arn",
                      "aws_iam_policy.vpc_cni[0]",
                      "aws_iam_policy.vpc_cni"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_vpc_cni_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "current",
                "type": "aws_caller_identity",
                "address": "data.aws_caller_identity.current",
                "schema_version": 0,
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "amazon_managed_service_prometheus",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.amazon_managed_service_prometheus",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "aps:RemoteWrite",
                          "aps:QueryMetrics",
                          "aps:GetSeries",
                          "aps:GetLabels",
                          "aps:GetMetricMetadata"
                        ]
                      },
                      "resources": {
                        "references": [
                          "var.amazon_managed_service_prometheus_workspace_arns"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_amazon_managed_service_prometheus_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "appmesh_controller",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.appmesh_controller",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "appmesh:ListVirtualRouters",
                          "appmesh:ListVirtualServices",
                          "appmesh:ListRoutes",
                          "appmesh:ListGatewayRoutes",
                          "appmesh:ListMeshes",
                          "appmesh:ListVirtualNodes",
                          "appmesh:ListVirtualGateways",
                          "appmesh:DescribeMesh",
                          "appmesh:DescribeVirtualRouter",
                          "appmesh:DescribeRoute",
                          "appmesh:DescribeVirtualNode",
                          "appmesh:DescribeVirtualGateway",
                          "appmesh:DescribeGatewayRoute",
                          "appmesh:DescribeVirtualService",
                          "appmesh:CreateMesh",
                          "appmesh:CreateVirtualRouter",
                          "appmesh:CreateVirtualGateway",
                          "appmesh:CreateVirtualService",
                          "appmesh:CreateGatewayRoute",
                          "appmesh:CreateRoute",
                          "appmesh:CreateVirtualNode",
                          "appmesh:UpdateMesh",
                          "appmesh:UpdateRoute",
                          "appmesh:UpdateVirtualGateway",
                          "appmesh:UpdateVirtualRouter",
                          "appmesh:UpdateGatewayRoute",
                          "appmesh:UpdateVirtualService",
                          "appmesh:UpdateVirtualNode",
                          "appmesh:DeleteMesh",
                          "appmesh:DeleteRoute",
                          "appmesh:DeleteVirtualRouter",
                          "appmesh:DeleteGatewayRoute",
                          "appmesh:DeleteVirtualService",
                          "appmesh:DeleteVirtualNode",
                          "appmesh:DeleteVirtualGateway"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "iam:CreateServiceLinkedRole"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "references": [
                              "local.dns_suffix"
                            ]
                          },
                          "variable": {
                            "constant_value": "iam:AWSServiceName"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.dns_suffix"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "acm:ListCertificates",
                          "acm:DescribeCertificate",
                          "acm-pca:DescribeCertificateAuthority",
                          "acm-pca:ListCertificateAuthorities"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "servicediscovery:CreateService",
                          "servicediscovery:DeleteService",
                          "servicediscovery:GetService",
                          "servicediscovery:GetInstance",
                          "servicediscovery:RegisterInstance",
                          "servicediscovery:DeregisterInstance",
                          "servicediscovery:ListInstances",
                          "servicediscovery:ListNamespaces",
                          "servicediscovery:ListServices",
                          "servicediscovery:GetInstancesHealthStatus",
                          "servicediscovery:UpdateInstanceCustomHealthStatus",
                          "servicediscovery:GetOperation",
                          "route53:GetHealthCheck",
                          "route53:CreateHealthCheck",
                          "route53:UpdateHealthCheck",
                          "route53:ChangeResourceRecordSets",
                          "route53:DeleteHealthCheck"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_appmesh_controller_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "appmesh_envoy_proxy",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.appmesh_envoy_proxy",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "appmesh:StreamAggregatedResources"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "acm:ExportCertificate",
                          "acm-pca:GetCertificateAuthorityCertificate"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_appmesh_envoy_proxy_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "aws_gateway_controller",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.aws_gateway_controller",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "vpc-lattice:*",
                          "ec2:DescribeVpcs",
                          "ec2:DescribeSubnets",
                          "ec2:DescribeTags",
                          "ec2:DescribeSecurityGroups",
                          "logs:CreateLogDelivery",
                          "logs:GetLogDelivery",
                          "logs:DescribeLogGroups",
                          "logs:PutResourcePolicy",
                          "logs:DescribeResourcePolicies",
                          "logs:UpdateLogDelivery",
                          "logs:DeleteLogDelivery",
                          "logs:ListLogDeliveries",
                          "tag:GetResources",
                          "firehose:TagDeliveryStream",
                          "s3:GetBucketPolicy",
                          "s3:PutBucketPolicy"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "iam:CreateServiceLinkedRole"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "references": [
                              "local.dns_suffix"
                            ]
                          },
                          "variable": {
                            "constant_value": "iam:AWSServiceName"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.dns_suffix"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "iam:CreateServiceLinkedRole"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "references": [
                              "local.dns_suffix"
                            ]
                          },
                          "variable": {
                            "constant_value": "iam:AWSServiceName"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.dns_suffix"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_aws_gateway_controller_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "cert_manager",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.cert_manager",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "route53:GetChange"
                        ]
                      },
                      "resources": {
                        "references": [
                          "local.partition"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "route53:ChangeResourceRecordSets",
                          "route53:ListResourceRecordSets"
                        ]
                      },
                      "resources": {
                        "references": [
                          "var.cert_manager_hosted_zone_arns"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "route53:ListHostedZonesByName"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_cert_manager_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "cluster_autoscaler",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.cluster_autoscaler",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "autoscaling:DescribeAutoScalingGroups",
                          "autoscaling:DescribeAutoScalingInstances",
                          "autoscaling:DescribeLaunchConfigurations",
                          "autoscaling:DescribeScalingActivities",
                          "autoscaling:DescribeTags",
                          "ec2:DescribeLaunchTemplateVersions",
                          "ec2:DescribeInstanceTypes",
                          "eks:DescribeNodegroup",
                          "ec2:DescribeImages",
                          "ec2:GetInstanceTypesFromInstanceRequirements"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_cluster_autoscaler_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "ebs_csi",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.ebs_csi",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:CreateSnapshot",
                          "ec2:AttachVolume",
                          "ec2:DetachVolume",
                          "ec2:ModifyVolume",
                          "ec2:DescribeAvailabilityZones",
                          "ec2:DescribeInstances",
                          "ec2:DescribeSnapshots",
                          "ec2:DescribeTags",
                          "ec2:DescribeVolumes",
                          "ec2:DescribeVolumesModifications",
                          "ec2:EnableFastSnapshotRestores"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:CreateTags"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "constant_value": [
                              "CreateVolume",
                              "CreateSnapshot"
                            ]
                          },
                          "variable": {
                            "constant_value": "ec2:CreateAction"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.partition"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:DeleteTags"
                        ]
                      },
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.partition"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:CreateVolume"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              true
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/ebs.csi.aws.com/cluster"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "local.partition"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:CreateVolume"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              "*"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/CSIVolumeName"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "local.partition"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:CreateVolume"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              "owned"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/kubernetes.io/cluster/*"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:CreateVolume"
                        ]
                      },
                      "resources": {
                        "references": [
                          "local.partition"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:DeleteVolume"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              true
                            ]
                          },
                          "variable": {
                            "constant_value": "ec2:ResourceTag/ebs.csi.aws.com/cluster"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:DeleteVolume"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              "*"
                            ]
                          },
                          "variable": {
                            "constant_value": "ec2:ResourceTag/CSIVolumeName"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:DeleteVolume"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              "owned"
                            ]
                          },
                          "variable": {
                            "constant_value": "ec2:ResourceTag/kubernetes.io/cluster/*"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:DeleteVolume"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              "*"
                            ]
                          },
                          "variable": {
                            "constant_value": "ec2:ResourceTag/kubernetes.io/created-for/pvc/name"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:DeleteSnapshot"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              "*"
                            ]
                          },
                          "variable": {
                            "constant_value": "ec2:ResourceTag/CSIVolumeSnapshotName"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:DeleteSnapshot"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              true
                            ]
                          },
                          "variable": {
                            "constant_value": "ec2:ResourceTag/ebs.csi.aws.com/cluster"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_ebs_csi_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "efs_csi",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.efs_csi",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:DescribeAvailabilityZones",
                          "elasticfilesystem:DescribeAccessPoints",
                          "elasticfilesystem:DescribeFileSystems",
                          "elasticfilesystem:DescribeMountTargets"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "elasticfilesystem:CreateAccessPoint"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              "true"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/efs.csi.aws.com/cluster"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "elasticfilesystem:TagResource"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "constant_value": [
                              "true"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/efs.csi.aws.com/cluster"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "elasticfilesystem:DeleteAccessPoint"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "constant_value": [
                              "true"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:ResourceTag/efs.csi.aws.com/cluster"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_efs_csi_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "external_dns",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.external_dns",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "route53:ChangeResourceRecordSets"
                        ]
                      },
                      "resources": {
                        "references": [
                          "var.external_dns_hosted_zone_arns"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "route53:ListHostedZones",
                          "route53:ListResourceRecordSets",
                          "route53:ListTagsForResources"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_external_dns_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "external_secrets",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.external_secrets",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "ssm:DescribeParameters"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "secretsmanager:ListSecrets",
                          "secretsmanager:BatchGetSecretValue"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "secretsmanager:GetResourcePolicy",
                          "secretsmanager:GetSecretValue",
                          "secretsmanager:DescribeSecret",
                          "secretsmanager:ListSecretVersionIds"
                        ]
                      },
                      "resources": {
                        "references": [
                          "var.external_secrets_secrets_manager_arns"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_external_secrets_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "fsx_lustre_csi",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.fsx_lustre_csi",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "iam:CreateServiceLinkedRole",
                          "iam:AttachRolePolicy",
                          "iam:PutRolePolicy"
                        ]
                      },
                      "resources": {
                        "references": [
                          "var.fsx_lustre_csi_service_role_arns"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "iam:CreateServiceLinkedRole"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "references": [
                              "local.dns_suffix"
                            ]
                          },
                          "variable": {
                            "constant_value": "iam:AWSServiceName"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "s3:ListBucket",
                          "fsx:CreateFileSystem",
                          "fsx:DeleteFileSystem",
                          "fsx:DescribeFileSystems",
                          "fsx:TagResource",
                          "fsx:UpdateFileSystem"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_fsx_lustre_csi_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "fsx_openzfs_csi",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.fsx_openzfs_csi",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "iam:CreateServiceLinkedRole",
                          "iam:AttachRolePolicy",
                          "iam:PutRolePolicy"
                        ]
                      },
                      "resources": {
                        "references": [
                          "var.fsx_openzfs_csi_service_role_arns"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "iam:CreateServiceLinkedRole"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringLike"
                          },
                          "values": {
                            "references": [
                              "local.dns_suffix"
                            ]
                          },
                          "variable": {
                            "constant_value": "iam:AWSServiceName"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "fsx:CreateFileSystem",
                          "fsx:UpdateFileSystem",
                          "fsx:DeleteFileSystem",
                          "fsx:DescribeFileSystems",
                          "fsx:CreateVolume",
                          "fsx:DeleteVolume",
                          "fsx:DescribeVolumes",
                          "fsx:CreateSnapshot",
                          "fsx:DeleteSnapshot",
                          "fsx:DescribeSnapshots",
                          "fsx:TagResource",
                          "fsx:ListTagsForResource"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_fsx_openzfs_csi_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "karpenter_controller",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.karpenter_controller",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:CreateFleet",
                          "ec2:CreateLaunchTemplate",
                          "ec2:CreateTags",
                          "ec2:DescribeAvailabilityZones",
                          "ec2:DescribeImages",
                          "ec2:DescribeInstances",
                          "ec2:DescribeInstanceTypeOfferings",
                          "ec2:DescribeInstanceTypes",
                          "ec2:DescribeLaunchTemplates",
                          "ec2:DescribeSecurityGroups",
                          "ec2:DescribeSpotPriceHistory",
                          "ec2:DescribeSubnets",
                          "pricing:GetProducts"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:TerminateInstances",
                          "ec2:DeleteLaunchTemplate"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "references": [
                              "local.karpenter_controller_cluster_name"
                            ]
                          },
                          "variable": {
                            "references": [
                              "var.karpenter_tag_key"
                            ]
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:RunInstances"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "references": [
                              "local.karpenter_controller_cluster_name"
                            ]
                          },
                          "variable": {
                            "references": [
                              "var.karpenter_tag_key"
                            ]
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.account_id"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:RunInstances"
                        ]
                      },
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.partition",
                          "local.account_id",
                          "local.partition",
                          "local.account_id",
                          "local.partition",
                          "local.account_id",
                          "local.partition",
                          "local.account_id",
                          "local.partition",
                          "local.account_id",
                          "local.partition",
                          "var.karpenter_subnet_account_id",
                          "local.account_id"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ssm:GetParameter"
                        ]
                      },
                      "resources": {
                        "references": [
                          "var.karpenter_controller_ssm_parameter_arns"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "iam:PassRole"
                        ]
                      },
                      "resources": {
                        "references": [
                          "var.karpenter_controller_node_iam_role_arns"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "eks:DescribeCluster"
                        ]
                      },
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.region",
                          "local.account_id",
                          "local.karpenter_controller_cluster_name"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_karpenter_controller_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "load_balancer_controller",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.load_balancer_controller",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "iam:CreateServiceLinkedRole"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "references": [
                              "local.dns_suffix"
                            ]
                          },
                          "variable": {
                            "constant_value": "iam:AWSServiceName"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:DescribeAccountAttributes",
                          "ec2:DescribeAddresses",
                          "ec2:DescribeAvailabilityZones",
                          "ec2:DescribeInternetGateways",
                          "ec2:DescribeVpcs",
                          "ec2:DescribeVpcPeeringConnections",
                          "ec2:DescribeSubnets",
                          "ec2:DescribeSecurityGroups",
                          "ec2:DescribeInstances",
                          "ec2:DescribeNetworkInterfaces",
                          "ec2:DescribeTags",
                          "ec2:GetCoipPoolUsage",
                          "ec2:DescribeCoipPools",
                          "ec2:GetSecurityGroupsForVpc",
                          "ec2:DescribeIpamPools",
                          "ec2:DescribeRouteTables",
                          "elasticloadbalancing:DescribeLoadBalancers",
                          "elasticloadbalancing:DescribeLoadBalancerAttributes",
                          "elasticloadbalancing:DescribeListeners",
                          "elasticloadbalancing:DescribeListenerCertificates",
                          "elasticloadbalancing:DescribeSSLPolicies",
                          "elasticloadbalancing:DescribeRules",
                          "elasticloadbalancing:DescribeTargetGroups",
                          "elasticloadbalancing:DescribeTargetGroupAttributes",
                          "elasticloadbalancing:DescribeTargetHealth",
                          "elasticloadbalancing:DescribeTags",
                          "elasticloadbalancing:DescribeTrustStores",
                          "elasticloadbalancing:DescribeListenerAttributes",
                          "elasticloadbalancing:DescribeCapacityReservation"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "cognito-idp:DescribeUserPoolClient",
                          "acm:ListCertificates",
                          "acm:DescribeCertificate",
                          "iam:ListServerCertificates",
                          "iam:GetServerCertificate",
                          "waf-regional:GetWebACL",
                          "waf-regional:GetWebACLForResource",
                          "waf-regional:AssociateWebACL",
                          "waf-regional:DisassociateWebACL",
                          "wafv2:GetWebACL",
                          "wafv2:GetWebACLForResource",
                          "wafv2:AssociateWebACL",
                          "wafv2:DisassociateWebACL",
                          "shield:GetSubscriptionState",
                          "shield:DescribeProtection",
                          "shield:CreateProtection",
                          "shield:DeleteProtection"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:AuthorizeSecurityGroupIngress",
                          "ec2:RevokeSecurityGroupIngress"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:CreateSecurityGroup"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:CreateTags"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "constant_value": [
                              "CreateSecurityGroup"
                            ]
                          },
                          "variable": {
                            "constant_value": "ec2:CreateAction"
                          }
                        },
                        {
                          "test": {
                            "constant_value": "Null"
                          },
                          "values": {
                            "constant_value": [
                              "false"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/elbv2.k8s.aws/cluster"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "local.partition"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:CreateTags",
                          "ec2:DeleteTags"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "Null"
                          },
                          "values": {
                            "constant_value": [
                              "true"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/elbv2.k8s.aws/cluster"
                          }
                        },
                        {
                          "test": {
                            "constant_value": "Null"
                          },
                          "values": {
                            "constant_value": [
                              "false"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:ResourceTag/elbv2.k8s.aws/cluster"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "local.partition"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:AuthorizeSecurityGroupIngress",
                          "ec2:RevokeSecurityGroupIngress",
                          "ec2:DeleteSecurityGroup"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "Null"
                          },
                          "values": {
                            "constant_value": [
                              "false"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:ResourceTag/elbv2.k8s.aws/cluster"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "elasticloadbalancing:CreateLoadBalancer",
                          "elasticloadbalancing:CreateTargetGroup"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "Null"
                          },
                          "values": {
                            "constant_value": [
                              "false"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/elbv2.k8s.aws/cluster"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "elasticloadbalancing:CreateListener",
                          "elasticloadbalancing:DeleteListener",
                          "elasticloadbalancing:CreateRule",
                          "elasticloadbalancing:DeleteRule"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "elasticloadbalancing:AddTags",
                          "elasticloadbalancing:RemoveTags"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "Null"
                          },
                          "values": {
                            "constant_value": [
                              "true"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/elbv2.k8s.aws/cluster"
                          }
                        },
                        {
                          "test": {
                            "constant_value": "Null"
                          },
                          "values": {
                            "constant_value": [
                              "false"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:ResourceTag/elbv2.k8s.aws/cluster"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.partition",
                          "local.partition"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "elasticloadbalancing:AddTags",
                          "elasticloadbalancing:RemoveTags"
                        ]
                      },
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.partition",
                          "local.partition",
                          "local.partition"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "elasticloadbalancing:ModifyLoadBalancerAttributes",
                          "elasticloadbalancing:SetIpAddressType",
                          "elasticloadbalancing:SetSecurityGroups",
                          "elasticloadbalancing:SetSubnets",
                          "elasticloadbalancing:DeleteLoadBalancer",
                          "elasticloadbalancing:ModifyTargetGroup",
                          "elasticloadbalancing:ModifyTargetGroupAttributes",
                          "elasticloadbalancing:DeleteTargetGroup",
                          "elasticloadbalancing:ModifyListenerAttributes",
                          "elasticloadbalancing:ModifyCapacityReservation",
                          "elasticloadbalancing:ModifyIpPools"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "Null"
                          },
                          "values": {
                            "constant_value": [
                              "false"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:ResourceTag/elbv2.k8s.aws/cluster"
                          }
                        }
                      ],
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "elasticloadbalancing:AddTags"
                        ]
                      },
                      "condition": [
                        {
                          "test": {
                            "constant_value": "StringEquals"
                          },
                          "values": {
                            "constant_value": [
                              "CreateTargetGroup",
                              "CreateLoadBalancer"
                            ]
                          },
                          "variable": {
                            "constant_value": "elasticloadbalancing:CreateAction"
                          }
                        },
                        {
                          "test": {
                            "constant_value": "Null"
                          },
                          "values": {
                            "constant_value": [
                              "false"
                            ]
                          },
                          "variable": {
                            "constant_value": "aws:RequestTag/elbv2.k8s.aws/cluster"
                          }
                        }
                      ],
                      "resources": {
                        "references": [
                          "local.partition",
                          "local.partition",
                          "local.partition"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "elasticloadbalancing:RegisterTargets",
                          "elasticloadbalancing:DeregisterTargets"
                        ]
                      },
                      "resources": {
                        "references": [
                          "local.partition"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "elasticloadbalancing:SetWebAcl",
                          "elasticloadbalancing:ModifyListener",
                          "elasticloadbalancing:AddListenerCertificates",
                          "elasticloadbalancing:RemoveListenerCertificates",
                          "elasticloadbalancing:ModifyRule",
                          "elasticloadbalancing:SetRulePriorities"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_load_balancer_controller_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "load_balancer_controller_targetgroup_only",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.load_balancer_controller_targetgroup_only",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "ec2:DescribeSecurityGroups",
                          "ec2:DescribeInstances",
                          "ec2:DescribeVpcs",
                          "ec2:AuthorizeSecurityGroupIngress",
                          "ec2:RevokeSecurityGroupIngress",
                          "elasticloadbalancing:DescribeTargetGroups",
                          "elasticloadbalancing:DescribeTargetHealth"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "elasticloadbalancing:ModifyTargetGroup",
                          "elasticloadbalancing:ModifyTargetGroupAttributes",
                          "elasticloadbalancing:RegisterTargets",
                          "elasticloadbalancing:DeregisterTargets"
                        ]
                      },
                      "resources": {
                        "references": [
                          "var.load_balancer_controller_targetgroup_arns"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_load_balancer_controller_targetgroup_binding_only_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "mountpoint_s3_csi",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.mountpoint_s3_csi",
                "expressions": {
                  "statement": [
                    {
                      "sid": {
                        "constant_value": "MountpointFullBucketAccess"
                      },
                      "actions": {
                        "constant_value": [
                          "s3:ListBucket"
                        ]
                      },
                      "resources": {
                        "references": [
                          "var.mountpoint_s3_csi_bucket_arns",
                          "local.partition"
                        ]
                      }
                    },
                    {
                      "sid": {
                        "constant_value": "MountpointFullObjectAccess"
                      },
                      "actions": {
                        "constant_value": [
                          "s3:GetObject",
                          "s3:PutObject",
                          "s3:AbortMultipartUpload",
                          "s3:DeleteObject"
                        ]
                      },
                      "resources": {
                        "references": [
                          "var.mountpoint_s3_csi_path_arns"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_mountpoint_s3_csi_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "node_termination_handler",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.node_termination_handler",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "autoscaling:CompleteLifecycleAction",
                          "autoscaling:DescribeAutoScalingInstances",
                          "autoscaling:DescribeTags",
                          "ec2:DescribeInstances"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "actions": {
                        "constant_value": [
                          "sqs:DeleteMessage",
                          "sqs:ReceiveMessage"
                        ]
                      },
                      "resources": {
                        "references": [
                          "var.node_termination_handler_sqs_queue_arns"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_node_termination_handler_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "this",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.this",
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "velero",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.velero",
                "expressions": {
                  "statement": [
                    {
                      "sid": {
                        "constant_value": "Ec2ReadWrite"
                      },
                      "actions": {
                        "constant_value": [
                          "ec2:DescribeVolumes",
                          "ec2:DescribeSnapshots",
                          "ec2:CreateTags",
                          "ec2:CreateVolume",
                          "ec2:CreateSnapshot",
                          "ec2:DeleteSnapshot"
                        ]
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    },
                    {
                      "sid": {
                        "constant_value": "S3ReadWrite"
                      },
                      "actions": {
                        "constant_value": [
                          "s3:GetObject",
                          "s3:DeleteObject",
                          "s3:PutObject",
                          "s3:PutObjectTagging",
                          "s3:AbortMultipartUpload",
                          "s3:ListMultipartUploadParts"
                        ]
                      },
                      "resources": {
                        "references": [
                          "var.velero_s3_bucket_arns"
                        ]
                      }
                    },
                    {
                      "sid": {
                        "constant_value": "S3List"
                      },
                      "actions": {
                        "constant_value": [
                          "s3:ListBucket"
                        ]
                      },
                      "resources": {
                        "references": [
                          "var.velero_s3_bucket_arns"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_velero_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "vpc_cni",
                "type": "aws_iam_policy_document",
                "address": "data.aws_iam_policy_document.vpc_cni",
                "expressions": {
                  "statement": [
                    {
                      "sid": {
                        "constant_value": "CreateTags"
                      },
                      "actions": {
                        "constant_value": [
                          "ec2:CreateTags"
                        ]
                      },
                      "resources": {
                        "references": [
                          "local.partition"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_role",
                    "var.attach_vpc_cni_policy"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "current",
                "type": "aws_partition",
                "address": "data.aws_partition.current",
                "schema_version": 0,
                "provider_config_key": "aws"
              },
              {
                "mode": "data",
                "name": "current",
                "type": "aws_region",
                "address": "data.aws_region.current",
                "schema_version": 0,
                "provider_config_key": "aws"
              }
            ],
            "variables": {
              "tags": {
                "default": {},
                "description": "A map of tags to add the the IAM role"
              },
              "role_name": {
                "description": "Name of IAM role"
              },
              "role_path": {
                "default": "/",
                "description": "Path of IAM role"
              },
              "create_role": {
                "default": true,
                "description": "Whether to create a role"
              },
              "oidc_providers": {
                "default": {},
                "description": "Map of OIDC providers where each provider map should contain the `provider_arn` and `namespace_service_accounts`"
              },
              "role_description": {
                "description": "IAM Role description"
              },
              "role_name_prefix": {
                "description": "IAM role name prefix"
              },
              "role_policy_arns": {
                "default": {},
                "description": "ARNs of any policies to attach to the IAM role"
              },
              "karpenter_tag_key": {
                "default": "karpenter.sh/discovery",
                "description": "Tag key (`{key = value}`) applied to resources launched by Karpenter through the Karpenter provisioner"
              },
              "policy_name_prefix": {
                "default": "AmazonEKS_",
                "description": "IAM policy name prefix"
              },
              "ebs_csi_kms_cmk_ids": {
                "default": [],
                "description": "KMS CMK IDs to allow EBS CSI to manage encrypted volumes"
              },
              "vpc_cni_enable_ipv4": {
                "default": false,
                "description": "Determines whether to enable IPv4 permissions for VPC CNI policy"
              },
              "vpc_cni_enable_ipv6": {
                "default": false,
                "description": "Determines whether to enable IPv6 permissions for VPC CNI policy"
              },
              "attach_velero_policy": {
                "default": false,
                "description": "Determines whether to attach the Velero IAM policy to the role"
              },
              "max_session_duration": {
                "description": "Maximum CLI/API session duration in seconds between 3600 and 43200"
              },
              "attach_ebs_csi_policy": {
                "default": false,
                "description": "Determines whether to attach the EBS CSI IAM policy to the role"
              },
              "attach_efs_csi_policy": {
                "default": false,
                "description": "Determines whether to attach the EFS CSI IAM policy to the role"
              },
              "attach_vpc_cni_policy": {
                "default": false,
                "description": "Determines whether to attach the VPC CNI IAM policy to the role"
              },
              "force_detach_policies": {
                "default": true,
                "description": "Whether policies should be detached from this role when destroying"
              },
              "velero_s3_bucket_arns": {
                "default": [
                  "*"
                ],
                "description": "List of S3 Bucket ARNs that Velero needs access to in order to backup and restore cluster resources"
              },
              "allow_self_assume_role": {
                "default": false,
                "description": "Determines whether to allow the role to be [assume itself](https://aws.amazon.com/blogs/security/announcing-an-update-to-iam-role-trust-policy-behavior/)"
              },
              "karpenter_sqs_queue_arn": {
                "description": "(Optional) ARN of SQS used by Karpenter when native node termination handling is enabled"
              },
              "assume_role_condition_test": {
                "default": "StringEquals",
                "description": "Name of the [IAM condition operator](https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html) to evaluate when assuming the role"
              },
              "attach_cert_manager_policy": {
                "default": false,
                "description": "Determines whether to attach the Cert Manager IAM policy to the role"
              },
              "attach_external_dns_policy": {
                "default": false,
                "description": "Determines whether to attach the External DNS IAM policy to the role"
              },
              "mountpoint_s3_csi_kms_arns": {
                "default": [],
                "description": "KMS Key ARNs to allow Mountpoint S3 CSI driver to download and upload Objects of a S3 bucket using `aws:kms` SSE"
              },
              "karpenter_subnet_account_id": {
                "default": "",
                "description": "Account ID of where the subnets Karpenter will utilize resides. Used when subnets are shared from another account"
              },
              "mountpoint_s3_csi_path_arns": {
                "default": [],
                "description": "S3 path ARNs to allow Mountpoint S3 CSI driver to manage items at the provided path(s). This is required if `attach_mountpoint_s3_csi_policy = true`"
              },
              "attach_fsx_lustre_csi_policy": {
                "default": false,
                "description": "Determines whether to attach the FSx for Lustre CSI Driver IAM policy to the role"
              },
              "attach_fsx_openzfs_csi_policy": {
                "default": false,
                "description": "Determines whether to attach the FSx for OpenZFS CSI Driver IAM policy to the role"
              },
              "cert_manager_hosted_zone_arns": {
                "default": [
                  "arn:aws:route53:::hostedzone/*"
                ],
                "description": "Route53 hosted zone ARNs to allow Cert manager to manage records"
              },
              "external_dns_hosted_zone_arns": {
                "default": [
                  "arn:aws:route53:::hostedzone/*"
                ],
                "description": "Route53 hosted zone ARNs to allow External DNS to manage records"
              },
              "external_secrets_kms_key_arns": {
                "default": [
                  "arn:aws:kms:*:*:key/*"
                ],
                "description": "List of KMS Key ARNs that are used by Secrets Manager that contain secrets to mount using External Secrets"
              },
              "mountpoint_s3_csi_bucket_arns": {
                "default": [],
                "description": "S3 bucket ARNs to allow Mountpoint S3 CSI to list buckets"
              },
              "role_permissions_boundary_arn": {
                "description": "Permissions boundary ARN to use for IAM role"
              },
              "attach_external_secrets_policy": {
                "default": false,
                "description": "Determines whether to attach the External Secrets policy to the role"
              },
              "cluster_autoscaler_cluster_ids": {
                "default": [],
                "description": "[Deprecated - use `cluster_autoscaler_cluster_names`] List of cluster names to appropriately scope permissions within the Cluster Autoscaler IAM policy"
              },
              "vpc_cni_enable_cloudwatch_logs": {
                "default": false,
                "description": "Determines whether to enable VPC CNI permission to create CloudWatch Log groups and publish network policy events"
              },
              "attach_mountpoint_s3_csi_policy": {
                "default": false,
                "description": "Determines whether to attach the Mountpoint S3 CSI IAM policy to the role"
              },
              "karpenter_controller_cluster_id": {
                "default": "*",
                "description": "[Deprecated - use `karpenter_controller_cluster_name`] The name of the cluster where the Karpenter controller is provisioned/managing"
              },
              "attach_appmesh_controller_policy": {
                "default": false,
                "description": "Determines whether to attach the Appmesh Controller policy to the role"
              },
              "attach_cluster_autoscaler_policy": {
                "default": false,
                "description": "Determines whether to attach the Cluster Autoscaler IAM policy to the role"
              },
              "cluster_autoscaler_cluster_names": {
                "default": [],
                "description": "List of cluster names to appropriately scope permissions within the Cluster Autoscaler IAM policy"
              },
              "fsx_lustre_csi_service_role_arns": {
                "default": [
                  "arn:aws:iam::*:role/aws-service-role/s3.data-source.lustre.fsx.amazonaws.com/*"
                ],
                "description": "Service role ARNs to allow FSx for Lustre CSI create and manage FSX for Lustre service linked roles"
              },
              "attach_appmesh_envoy_proxy_policy": {
                "default": false,
                "description": "Determines whether to attach the Appmesh envoy proxy policy to the role"
              },
              "fsx_openzfs_csi_service_role_arns": {
                "default": [
                  "arn:aws:iam::*:role/aws-service-role/fsx.amazonaws.com/*"
                ],
                "description": "Service role ARNs to allow FSx for OpenZFS CSI create and manage FSX for openzfs service linked roles"
              },
              "karpenter_controller_cluster_name": {
                "default": "*",
                "description": "The name of the cluster where the Karpenter controller is provisioned/managing"
              },
              "attach_karpenter_controller_policy": {
                "default": false,
                "description": "Determines whether to attach the Karpenter Controller policy to the role"
              },
              "external_secrets_ssm_parameter_arns": {
                "default": [
                  "arn:aws:ssm:*:*:parameter/*"
                ],
                "description": "List of Systems Manager Parameter ARNs that contain secrets to mount using External Secrets"
              },
              "attach_aws_gateway_controller_policy": {
                "default": false,
                "description": "Determines whether to attach the AWS Gateway Controller IAM policy to the role"
              },
              "external_secrets_secrets_manager_arns": {
                "default": [
                  "arn:aws:secretsmanager:*:*:secret:*"
                ],
                "description": "List of Secrets Manager ARNs that contain secrets to mount using External Secrets"
              },
              "attach_cloudwatch_observability_policy": {
                "default": false,
                "description": "Determines whether to attach the Amazon CloudWatch Observability IAM policies to the role"
              },
              "attach_load_balancer_controller_policy": {
                "default": false,
                "description": "Determines whether to attach the Load Balancer Controller policy to the role"
              },
              "attach_node_termination_handler_policy": {
                "default": false,
                "description": "Determines whether to attach the Node Termination Handler policy to the role"
              },
              "karpenter_controller_node_iam_role_arns": {
                "default": [
                  "*"
                ],
                "description": "List of node IAM role ARNs Karpenter can use to launch nodes"
              },
              "karpenter_controller_ssm_parameter_arns": {
                "default": [
                  "arn:aws:ssm:*:*:parameter/aws/service/*"
                ],
                "description": "List of SSM Parameter ARNs that contain AMI IDs launched by Karpenter"
              },
              "node_termination_handler_sqs_queue_arns": {
                "default": [
                  "*"
                ],
                "description": "List of SQS ARNs that contain node termination events"
              },
              "load_balancer_controller_targetgroup_arns": {
                "default": [
                  "arn:aws:elasticloadbalancing:*:*:targetgroup/*/*"
                ],
                "description": "List of Target groups ARNs using Load Balancer Controller"
              },
              "enable_karpenter_instance_profile_creation": {
                "default": false,
                "description": "Determines whether Karpenter will be allowed to create the IAM instance profile (v1beta1/v0.32+)"
              },
              "attach_amazon_managed_service_prometheus_policy": {
                "default": false,
                "description": "Determines whether to attach the Amazon Managed Service for Prometheus IAM policy to the role"
              },
              "amazon_managed_service_prometheus_workspace_arns": {
                "default": [
                  "*"
                ],
                "description": "List of AMP Workspace ARNs to read and write metrics"
              },
              "external_secrets_secrets_manager_create_permission": {
                "default": false,
                "description": "Determins whether External Secrets may use secretsmanager:CreateSecret"
              },
              "attach_load_balancer_controller_targetgroup_binding_only_policy": {
                "default": false,
                "description": "Determines whether to attach the Load Balancer Controller policy for the TargetGroupBinding only"
              }
            }
          },
          "source": "terraform-aws-modules/iam/aws//modules/iam-role-for-service-accounts-eks",
          "depends_on": [
            "module.eks"
          ],
          "expressions": {
            "tags": {
              "references": [
                "local.tags"
              ]
            },
            "role_name": {
              "references": [
                "each.value.role_name",
                "each.value"
              ]
            },
            "oidc_providers": {
              "references": [
                "module.eks.oidc_provider_arn",
                "module.eks",
                "each.value.namespace",
                "each.value",
                "each.value.service_account",
                "each.value"
              ]
            },
            "attach_ebs_csi_policy": {
              "constant_value": false
            }
          },
          "version_constraint": "~> 5.0",
          "for_each_expression": {
            "references": [
              "var.additional_irsas"
            ]
          }
        },
        "additional_subnet_tags": {
          "module": {
            "resources": [
              {
                "mode": "managed",
                "name": "private_subnets_cluster_tags",
                "type": "aws_ec2_tag",
                "address": "aws_ec2_tag.private_subnets_cluster_tags",
                "expressions": {
                  "key": {
                    "references": [
                      "var.eks_cluster_name"
                    ]
                  },
                  "value": {
                    "constant_value": "shared"
                  },
                  "resource_id": {
                    "references": [
                      "each.value"
                    ]
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "var.private_subnet_ids"
                  ]
                },
                "provider_config_key": "aws"
              },
              {
                "mode": "managed",
                "name": "public_subnets_cluster_tags",
                "type": "aws_ec2_tag",
                "address": "aws_ec2_tag.public_subnets_cluster_tags",
                "expressions": {
                  "key": {
                    "references": [
                      "var.eks_cluster_name"
                    ]
                  },
                  "value": {
                    "constant_value": "shared"
                  },
                  "resource_id": {
                    "references": [
                      "each.value"
                    ]
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "var.public_subnet_ids"
                  ]
                },
                "provider_config_key": "aws"
              }
            ],
            "variables": {
              "eks_cluster_name": {
                "description": "EKS Cluster Name"
              },
              "public_subnet_ids": {
                "default": [],
                "description": "List of public subnet ids."
              },
              "private_subnet_ids": {
                "default": [],
                "description": "List of private subnet ids."
              }
            }
          },
          "source": "./subnet_tags",
          "depends_on": [
            "module.eks"
          ],
          "expressions": {
            "eks_cluster_name": {
              "references": [
                "module.eks.cluster_name",
                "module.eks"
              ]
            },
            "public_subnet_ids": {
              "references": [
                "local.subnets.public.ids",
                "local.subnets.public",
                "local.subnets"
              ]
            },
            "private_subnet_ids": {
              "references": [
                "local.subnets.private.ids",
                "local.subnets.private",
                "local.subnets"
              ]
            }
          },
          "count_expression": {
            "references": [
              "module.eks.cluster_name",
              "module.eks",
              "var.nuon_id"
            ]
          }
        }
      }
    },
    "provider_config": {
      "aws": {
        "name": "aws",
        "full_name": "registry.terraform.io/hashicorp/aws",
        "expressions": {
          "region": {
            "references": [
              "var.region"
            ]
          },
          "default_tags": [
            {
              "tags": {
                "references": [
                  "local.default_tags"
                ]
              }
            }
          ]
        },
        "version_constraint": "5.94.1"
      },
      "helm": {
        "name": "helm",
        "full_name": "registry.terraform.io/hashicorp/helm",
        "version_constraint": "2.17.0"
      },
      "kubectl": {
        "name": "kubectl",
        "full_name": "registry.terraform.io/gavinbunney/kubectl",
        "version_constraint": "1.19.0"
      },
      "helm.main": {
        "name": "helm",
        "alias": "main",
        "full_name": "registry.terraform.io/hashicorp/helm",
        "expressions": {
          "kubernetes": [
            {
              "exec": [
                {
                  "args": {
                    "references": [
                      "local.k8s_exec.args",
                      "local.k8s_exec"
                    ]
                  },
                  "command": {
                    "references": [
                      "local.k8s_exec.command",
                      "local.k8s_exec"
                    ]
                  },
                  "api_version": {
                    "references": [
                      "local.k8s_exec.api_version",
                      "local.k8s_exec"
                    ]
                  }
                }
              ],
              "host": {
                "references": [
                  "module.eks.cluster_endpoint",
                  "module.eks"
                ]
              },
              "cluster_ca_certificate": {
                "references": [
                  "module.eks.cluster_certificate_authority_data",
                  "module.eks"
                ]
              }
            }
          ],
          "helm_driver": {
            "references": [
              "var.helm_driver"
            ]
          }
        },
        "version_constraint": "2.17.0"
      },
      "kubernetes": {
        "name": "kubernetes",
        "full_name": "registry.terraform.io/hashicorp/kubernetes",
        "version_constraint": "2.36.0"
      },
      "kubectl.main": {
        "name": "kubectl",
        "alias": "main",
        "full_name": "registry.terraform.io/gavinbunney/kubectl",
        "expressions": {
          "exec": [
            {
              "args": {
                "references": [
                  "local.k8s_exec.args",
                  "local.k8s_exec"
                ]
              },
              "command": {
                "references": [
                  "local.k8s_exec.command",
                  "local.k8s_exec"
                ]
              },
              "api_version": {
                "references": [
                  "local.k8s_exec.api_version",
                  "local.k8s_exec"
                ]
              }
            }
          ],
          "host": {
            "references": [
              "module.eks.cluster_endpoint",
              "module.eks"
            ]
          },
          "load_config_file": {
            "constant_value": false
          },
          "apply_retry_count": {
            "constant_value": 5
          },
          "cluster_ca_certificate": {
            "references": [
              "module.eks.cluster_certificate_authority_data",
              "module.eks"
            ]
          }
        },
        "version_constraint": "1.19.0"
      },
      "module.eks:tls": {
        "name": "tls",
        "full_name": "registry.terraform.io/hashicorp/tls",
        "module_address": "module.eks",
        "version_constraint": ">= 3.0.0"
      },
      "kubernetes.main": {
        "name": "kubernetes",
        "alias": "main",
        "full_name": "registry.terraform.io/hashicorp/kubernetes",
        "expressions": {
          "exec": [
            {
              "args": {
                "references": [
                  "local.k8s_exec.args",
                  "local.k8s_exec"
                ]
              },
              "command": {
                "references": [
                  "local.k8s_exec.command",
                  "local.k8s_exec"
                ]
              },
              "api_version": {
                "references": [
                  "local.k8s_exec.api_version",
                  "local.k8s_exec"
                ]
              }
            }
          ],
          "host": {
            "references": [
              "module.eks.cluster_endpoint",
              "module.eks"
            ]
          },
          "cluster_ca_certificate": {
            "references": [
              "module.eks.cluster_certificate_authority_data",
              "module.eks"
            ]
          }
        },
        "version_constraint": "2.36.0"
      },
      "module.eks:time": {
        "name": "time",
        "full_name": "registry.terraform.io/hashicorp/time",
        "module_address": "module.eks",
        "version_constraint": ">= 0.9.0"
      },
      "module.eks.module.eks_managed_node_group.module.user_data:null": {
        "name": "null",
        "full_name": "registry.terraform.io/hashicorp/null",
        "module_address": "module.eks.module.eks_managed_node_group.module.user_data",
        "version_constraint": ">= 3.0.0"
      },
      "module.eks.module.self_managed_node_group.module.user_data:null": {
        "name": "null",
        "full_name": "registry.terraform.io/hashicorp/null",
        "module_address": "module.eks.module.self_managed_node_group.module.user_data",
        "version_constraint": ">= 3.0.0"
      },
      "module.eks.module.eks_managed_node_group.module.user_data:cloudinit": {
        "name": "cloudinit",
        "full_name": "registry.terraform.io/hashicorp/cloudinit",
        "module_address": "module.eks.module.eks_managed_node_group.module.user_data",
        "version_constraint": ">= 2.0.0"
      },
      "module.eks.module.self_managed_node_group.module.user_data:cloudinit": {
        "name": "cloudinit",
        "full_name": "registry.terraform.io/hashicorp/cloudinit",
        "module_address": "module.eks.module.self_managed_node_group.module.user_data",
        "version_constraint": ">= 2.0.0"
      }
    }
  },
  "format_version": "1.2",
  "output_changes": {
    "ecr": {
      "after": {
        "registry_url": "949309607565.dkr.ecr.us-west-2.amazonaws.com",
        "repository_name": "inlr2e5a7mf3x9mbkh98p6bhek"
      },
      "before": null,
      "actions": [
        "create"
      ],
      "after_unknown": {
        "registry_id": true,
        "repository_arn": true,
        "repository_url": true
      },
      "after_sensitive": false,
      "before_sensitive": false
    },
    "vpc": {
      "after": {
        "id": "vpc-0a878a1b9409f2d67",
        "arn": "arn:aws:ec2:us-west-2:949309607565:vpc/vpc-0a878a1b9409f2d67",
        "azs": [
          "us-west-2a",
          "us-west-2b",
          "us-west-2c",
          "us-west-2d"
        ],
        "cidr": "10.128.0.0/16",
        "runner_subnet_id": "subnet-0c4bdda4edea760f7",
        "public_subnet_ids": [
          "subnet-08835c2dfd063c6e9",
          "subnet-07b0abfa248cdf1dc",
          "subnet-06d314e9e8df480d6"
        ],
        "private_subnet_ids": [
          "subnet-09c6a3a806aee2f8d",
          "subnet-00adff60c11824aed",
          "subnet-0c81560eb05406dff"
        ],
        "runner_subnet_cidr": "10.128.128.0/24",
        "default_security_group_id": "sg-0d56678bf703dd8d9",
        "public_subnet_cidr_blocks": [
          "10.128.0.128/26",
          "10.128.0.64/26",
          "10.128.0.0/26"
        ],
        "private_subnet_cidr_blocks": [
          "10.128.132.0/24",
          "10.128.134.0/24",
          "10.128.130.0/24"
        ]
      },
      "before": null,
      "actions": [
        "create"
      ],
      "after_unknown": false,
      "after_sensitive": false,
      "before_sensitive": false
    },
    "account": {
      "after": {
        "id": "949309607565",
        "region": "us-west-2"
      },
      "before": null,
      "actions": [
        "create"
      ],
      "after_unknown": false,
      "after_sensitive": false,
      "before_sensitive": false
    },
    "cluster": {
      "after": {
        "name": "n-inlr2e5a7mf3x9mbkh98p6bhek",
        "node_groups": {
          "karpenter": {
            "platform": "linux",
            "node_group_labels": {
              "karpenter.sh/controller": "true"
            },
            "node_group_taints": [
              {
                "key": "karpenter.sh/controller",
                "value": "true",
                "effect": "NO_SCHEDULE"
              }
            ],
            "autoscaling_group_schedule_arns": {}
          }
        }
      },
      "before": null,
      "actions": [
        "create"
      ],
      "after_unknown": {
        "arn": true,
        "status": true,
        "endpoint": true,
        "node_groups": {
          "karpenter": {
            "iam_role_arn": true,
            "iam_role_name": true,
            "node_group_id": true,
            "node_group_arn": true,
            "node_group_labels": {},
            "node_group_status": true,
            "node_group_taints": [
              {}
            ],
            "iam_role_unique_id": true,
            "launch_template_id": true,
            "launch_template_arn": true,
            "launch_template_name": true,
            "node_group_resources": true,
            "launch_template_latest_version": true,
            "autoscaling_group_schedule_arns": {},
            "node_group_autoscaling_group_names": true
          }
        },
        "oidc_provider": true,
        "oidc_issuer_url": true,
        "platform_version": true,
        "oidc_provider_arn": true,
        "node_security_group_id": true,
        "cluster_security_group_id": true,
        "certificate_authority_data": true
      },
      "after_sensitive": false,
      "before_sensitive": false
    },
    "nuon_dns": {
      "after": {
        "enabled": true,
        "cert_manager": {
          "enabled": true
        },
        "external_dns": {
          "enabled": true
        },
        "ingress_nginx": {
          "enabled": true
        },
        "public_domain": {
          "name": "nuon-dev-main-us-west-2.nuon.run"
        },
        "internal_domain": {
          "name": "internal.nuon-dev-main-us-west-2.nuon.run"
        },
        "alb_ingress_controller": {
          "enabled": true
        }
      },
      "before": null,
      "actions": [
        "create"
      ],
      "after_unknown": {
        "cert_manager": {
          "id": true,
          "chart": true,
          "revision": true
        },
        "external_dns": {
          "id": true,
          "chart": true,
          "revision": true
        },
        "ingress_nginx": {
          "id": true,
          "chart": true,
          "revision": true
        },
        "public_domain": {
          "zone_id": true,
          "nameservers": true
        },
        "internal_domain": {
          "zone_id": true,
          "nameservers": true
        },
        "alb_ingress_controller": {
          "id": true,
          "chart": true,
          "revision": true
        }
      },
      "after_sensitive": false,
      "before_sensitive": false
    },
    "karpenter": {
      "after": {
        "discovery_key": "karpenter.sh/discovery",
        "discovery_value": "n-inlr2e5a7mf3x9mbkh98p6bhek",
        "instance_profile": {
          "name": "KarpenterNodeInstanceProfile-n-inlr2e5a7mf3x9mbkh98p6bhek"
        }
      },
      "before": null,
      "actions": [
        "create"
      ],
      "after_unknown": {
        "instance_profile": {
          "id": true,
          "arn": true
        }
      },
      "after_sensitive": false,
      "before_sensitive": false
    },
    "namespaces": {
      "after": [
        "clickhouse",
        "ctl-api",
        "dashboard-ui",
        "inlr2e5a7mf3x9mbkh98p6bhek",
        "temporal"
      ],
      "before": null,
      "actions": [
        "create"
      ],
      "after_unknown": false,
      "after_sensitive": false,
      "before_sensitive": false
    },
    "additional_irsa": {
      "after": {},
      "before": null,
      "actions": [
        "create"
      ],
      "after_unknown": false,
      "after_sensitive": false,
      "before_sensitive": false
    }
  },
  "planned_values": {
    "outputs": {
      "ecr": {
        "sensitive": false
      },
      "vpc": {
        "type": [
          "object",
          {
            "id": "string",
            "arn": "string",
            "azs": [
              "list",
              "string"
            ],
            "cidr": "string",
            "runner_subnet_id": "string",
            "public_subnet_ids": [
              "list",
              "string"
            ],
            "private_subnet_ids": [
              "list",
              "string"
            ],
            "runner_subnet_cidr": "string",
            "default_security_group_id": "string",
            "public_subnet_cidr_blocks": [
              "tuple",
              [
                "string",
                "string",
                "string"
              ]
            ],
            "private_subnet_cidr_blocks": [
              "tuple",
              [
                "string",
                "string",
                "string"
              ]
            ]
          }
        ],
        "value": {
          "id": "vpc-0a878a1b9409f2d67",
          "arn": "arn:aws:ec2:us-west-2:949309607565:vpc/vpc-0a878a1b9409f2d67",
          "azs": [
            "us-west-2a",
            "us-west-2b",
            "us-west-2c",
            "us-west-2d"
          ],
          "cidr": "10.128.0.0/16",
          "runner_subnet_id": "subnet-0c4bdda4edea760f7",
          "public_subnet_ids": [
            "subnet-08835c2dfd063c6e9",
            "subnet-07b0abfa248cdf1dc",
            "subnet-06d314e9e8df480d6"
          ],
          "private_subnet_ids": [
            "subnet-09c6a3a806aee2f8d",
            "subnet-00adff60c11824aed",
            "subnet-0c81560eb05406dff"
          ],
          "runner_subnet_cidr": "10.128.128.0/24",
          "default_security_group_id": "sg-0d56678bf703dd8d9",
          "public_subnet_cidr_blocks": [
            "10.128.0.128/26",
            "10.128.0.64/26",
            "10.128.0.0/26"
          ],
          "private_subnet_cidr_blocks": [
            "10.128.132.0/24",
            "10.128.134.0/24",
            "10.128.130.0/24"
          ]
        },
        "sensitive": false
      },
      "account": {
        "type": [
          "object",
          {
            "id": "string",
            "region": "string"
          }
        ],
        "value": {
          "id": "949309607565",
          "region": "us-west-2"
        },
        "sensitive": false
      },
      "cluster": {
        "sensitive": false
      },
      "nuon_dns": {
        "sensitive": false
      },
      "karpenter": {
        "sensitive": false
      },
      "namespaces": {
        "type": [
          "tuple",
          [
            "string",
            "string",
            "string",
            "string",
            "string"
          ]
        ],
        "value": [
          "clickhouse",
          "ctl-api",
          "dashboard-ui",
          "inlr2e5a7mf3x9mbkh98p6bhek",
          "temporal"
        ],
        "sensitive": false
      },
      "additional_irsa": {
        "type": [
          "object",
          {}
        ],
        "value": {},
        "sensitive": false
      }
    },
    "root_module": {
      "resources": [
        {
          "mode": "managed",
          "name": "private_subnets_karpenter_tags",
          "type": "aws_ec2_tag",
          "index": "subnet-00adff60c11824aed",
          "values": {
            "key": "karpenter.sh/discovery",
            "value": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "resource_id": "subnet-00adff60c11824aed"
          },
          "address": "aws_ec2_tag.private_subnets_karpenter_tags[\"subnet-00adff60c11824aed\"]",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "sensitive_values": {}
        },
        {
          "mode": "managed",
          "name": "private_subnets_karpenter_tags",
          "type": "aws_ec2_tag",
          "index": "subnet-09c6a3a806aee2f8d",
          "values": {
            "key": "karpenter.sh/discovery",
            "value": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "resource_id": "subnet-09c6a3a806aee2f8d"
          },
          "address": "aws_ec2_tag.private_subnets_karpenter_tags[\"subnet-09c6a3a806aee2f8d\"]",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "sensitive_values": {}
        },
        {
          "mode": "managed",
          "name": "private_subnets_karpenter_tags",
          "type": "aws_ec2_tag",
          "index": "subnet-0c81560eb05406dff",
          "values": {
            "key": "karpenter.sh/discovery",
            "value": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "resource_id": "subnet-0c81560eb05406dff"
          },
          "address": "aws_ec2_tag.private_subnets_karpenter_tags[\"subnet-0c81560eb05406dff\"]",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "sensitive_values": {}
        },
        {
          "mode": "managed",
          "name": "karpenter",
          "type": "aws_iam_instance_profile",
          "values": {
            "name": "KarpenterNodeInstanceProfile-n-inlr2e5a7mf3x9mbkh98p6bhek",
            "path": "/",
            "tags": null,
            "tags_all": {
              "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
              "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
              "sandbox.nuon.co/name": "aws-eks",
              "sandbox.nuon.co/variant": "karpenter"
            }
          },
          "address": "aws_iam_instance_profile.karpenter",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "sensitive_values": {
            "tags_all": {}
          }
        },
        {
          "mode": "managed",
          "name": "ecr_access",
          "type": "aws_iam_policy",
          "values": {
            "name": "ecr-access-inlr2e5a7mf3x9mbkh98p6bhek",
            "path": "/",
            "tags": {
              "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek"
            },
            "tags_all": {
              "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
              "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
              "sandbox.nuon.co/name": "aws-eks",
              "sandbox.nuon.co/variant": "karpenter"
            },
            "description": null
          },
          "address": "aws_iam_policy.ecr_access",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "sensitive_values": {
            "tags": {},
            "tags_all": {}
          }
        },
        {
          "mode": "managed",
          "name": "ecr_access_deprovision",
          "type": "aws_iam_role_policy_attachment",
          "values": {
            "role": "inlr2e5a7mf3x9mbkh98p6bhek-deprovision"
          },
          "address": "aws_iam_role_policy_attachment.ecr_access_deprovision",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "sensitive_values": {}
        },
        {
          "mode": "managed",
          "name": "ecr_access_maintenance",
          "type": "aws_iam_role_policy_attachment",
          "values": {
            "role": "inlr2e5a7mf3x9mbkh98p6bhek-maintenance"
          },
          "address": "aws_iam_role_policy_attachment.ecr_access_maintenance",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "sensitive_values": {}
        },
        {
          "mode": "managed",
          "name": "ecr_access_provision",
          "type": "aws_iam_role_policy_attachment",
          "values": {
            "role": "inlr2e5a7mf3x9mbkh98p6bhek-provision"
          },
          "address": "aws_iam_role_policy_attachment.ecr_access_provision",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "sensitive_values": {}
        },
        {
          "mode": "managed",
          "name": "eks",
          "type": "aws_kms_key",
          "values": {
            "tags": null,
            "tags_all": {
              "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
              "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
              "sandbox.nuon.co/name": "aws-eks",
              "sandbox.nuon.co/variant": "karpenter"
            },
            "timeouts": null,
            "key_usage": "ENCRYPT_DECRYPT",
            "is_enabled": true,
            "xks_key_id": null,
            "description": "Key for n-inlr2e5a7mf3x9mbkh98p6bhek EKS cluster",
            "custom_key_store_id": null,
            "enable_key_rotation": false,
            "deletion_window_in_days": null,
            "customer_master_key_spec": "SYMMETRIC_DEFAULT",
            "bypass_policy_lockout_safety_check": false
          },
          "address": "aws_kms_key.eks",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "sensitive_values": {
            "tags_all": {}
          }
        },
        {
          "mode": "managed",
          "name": "runner_cluster_access",
          "type": "aws_security_group_rule",
          "values": {
            "self": false,
            "type": "ingress",
            "to_port": 0,
            "protocol": "-1",
            "timeouts": null,
            "from_port": 0,
            "cidr_blocks": null,
            "description": "Allow ingress traffic from runner.",
            "prefix_list_ids": null,
            "ipv6_cidr_blocks": null,
            "source_security_group_id": "sg-0c375c07bca25c2bd"
          },
          "address": "aws_security_group_rule.runner_cluster_access",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 2,
          "sensitive_values": {}
        },
        {
          "mode": "data",
          "name": "ecr",
          "type": "aws_iam_policy_document",
          "values": {
            "version": null,
            "policy_id": null,
            "statement": [
              {
                "sid": null,
                "effect": "Allow",
                "actions": [
                  "cloudtrail:LookupEvents",
                  "ecr:*"
                ],
                "condition": [],
                "resources": [
                  null
                ],
                "principals": [],
                "not_actions": null,
                "not_resources": null,
                "not_principals": []
              },
              {
                "sid": null,
                "effect": "Allow",
                "actions": [
                  "iam:CreateServiceLinkedRole"
                ],
                "condition": [
                  {
                    "test": "StringEquals",
                    "values": [
                      "replication.ecr.amazonaws.com"
                    ],
                    "variable": "iam:AWSServiceName"
                  }
                ],
                "resources": [
                  null
                ],
                "principals": [],
                "not_actions": null,
                "not_resources": null,
                "not_principals": []
              }
            ],
            "source_json": null,
            "override_json": null,
            "source_policy_documents": null,
            "override_policy_documents": null
          },
          "address": "data.aws_iam_policy_document.ecr",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "sensitive_values": {
            "statement": [
              {
                "actions": [
                  false,
                  false
                ],
                "condition": [],
                "resources": [
                  false
                ],
                "principals": [],
                "not_principals": []
              },
              {
                "actions": [
                  false
                ],
                "condition": [
                  {
                    "values": [
                      false
                    ]
                  }
                ],
                "resources": [
                  false
                ],
                "principals": [],
                "not_principals": []
              }
            ]
          }
        },
        {
          "mode": "managed",
          "name": "ebs_csi",
          "type": "helm_release",
          "values": {
            "set": [],
            "lint": false,
            "name": "ebs-csi-controller",
            "wait": true,
            "chart": "aws-ebs-csi-driver",
            "devel": null,
            "atomic": false,
            "status": "deployed",
            "verify": false,
            "keyring": null,
            "replace": false,
            "timeout": 300,
            "version": "2.16.0",
            "set_list": [],
            "namespace": "ebs-csi-controller",
            "skip_crds": false,
            "postrender": [],
            "repository": "https://kubernetes-sigs.github.io/aws-ebs-csi-driver",
            "description": null,
            "max_history": 0,
            "force_update": false,
            "reset_values": false,
            "reuse_values": false,
            "recreate_pods": false,
            "set_sensitive": [],
            "wait_for_jobs": false,
            "cleanup_on_fail": false,
            "upgrade_install": null,
            "create_namespace": true,
            "disable_webhooks": false,
            "pass_credentials": false,
            "dependency_update": false,
            "disable_crd_hooks": false,
            "repository_ca_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "repository_cert_file": null,
            "render_subchart_notes": true,
            "disable_openapi_validation": false
          },
          "address": "helm_release.ebs_csi",
          "provider_name": "registry.terraform.io/hashicorp/helm",
          "schema_version": 1,
          "sensitive_values": {
            "set": [],
            "values": [],
            "metadata": [],
            "set_list": [],
            "postrender": [],
            "set_sensitive": [],
            "repository_password": true
          }
        },
        {
          "mode": "managed",
          "name": "karpenter",
          "type": "helm_release",
          "values": {
            "set": [],
            "lint": false,
            "name": "karpenter",
            "wait": true,
            "chart": "karpenter",
            "devel": null,
            "atomic": false,
            "status": "deployed",
            "verify": false,
            "keyring": null,
            "replace": false,
            "timeout": 300,
            "version": "1.4.0",
            "set_list": [],
            "namespace": "kube-system",
            "skip_crds": false,
            "postrender": [],
            "repository": "oci://public.ecr.aws/karpenter",
            "description": null,
            "max_history": 0,
            "force_update": false,
            "reset_values": false,
            "reuse_values": false,
            "recreate_pods": false,
            "set_sensitive": [],
            "wait_for_jobs": false,
            "cleanup_on_fail": false,
            "upgrade_install": null,
            "create_namespace": false,
            "disable_webhooks": false,
            "pass_credentials": false,
            "dependency_update": false,
            "disable_crd_hooks": false,
            "repository_ca_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "repository_cert_file": null,
            "render_subchart_notes": true,
            "disable_openapi_validation": false
          },
          "address": "helm_release.karpenter",
          "provider_name": "registry.terraform.io/hashicorp/helm",
          "schema_version": 1,
          "sensitive_values": {
            "set": [],
            "values": [],
            "metadata": [],
            "set_list": [],
            "postrender": [],
            "set_sensitive": [],
            "repository_password": true
          }
        },
        {
          "mode": "managed",
          "name": "karpenter_crd",
          "type": "helm_release",
          "values": {
            "set": [],
            "lint": false,
            "name": "karpenter-crd",
            "wait": true,
            "chart": "karpenter-crd",
            "devel": null,
            "atomic": false,
            "status": "deployed",
            "values": [
              "\"karpenter_namespace\": \"kube-system\"\n\"webhook\":\n  \"enabled\": true\n  \"port\": 8443\n  \"serviceName\": \"karpenter\"\n"
            ],
            "verify": false,
            "keyring": null,
            "replace": false,
            "timeout": 300,
            "version": "1.4.0",
            "set_list": [],
            "namespace": "kube-system",
            "skip_crds": false,
            "postrender": [],
            "repository": "oci://public.ecr.aws/karpenter",
            "description": null,
            "max_history": 0,
            "force_update": false,
            "reset_values": false,
            "reuse_values": false,
            "recreate_pods": false,
            "set_sensitive": [],
            "wait_for_jobs": false,
            "cleanup_on_fail": false,
            "upgrade_install": null,
            "create_namespace": false,
            "disable_webhooks": false,
            "pass_credentials": false,
            "dependency_update": false,
            "disable_crd_hooks": false,
            "repository_ca_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "repository_cert_file": null,
            "render_subchart_notes": true,
            "disable_openapi_validation": false
          },
          "address": "helm_release.karpenter_crd",
          "provider_name": "registry.terraform.io/hashicorp/helm",
          "schema_version": 1,
          "sensitive_values": {
            "set": [],
            "values": [
              false
            ],
            "metadata": [],
            "set_list": [],
            "postrender": [],
            "set_sensitive": [],
            "repository_password": true
          }
        },
        {
          "mode": "managed",
          "name": "kyverno",
          "type": "helm_release",
          "values": {
            "set": [],
            "lint": false,
            "name": "kyverno",
            "wait": true,
            "chart": "kyverno",
            "devel": null,
            "atomic": false,
            "status": "deployed",
            "values": [
              "crds:\n  install: true\nadmissionController:\n  replicas: 3\n  topologySpreadConstraints:\n    - maxSkew: 1\n      minDomains: 2\n      topologyKey: \"topology.kubernetes.io/zone\"\n      whenUnsatisfiable: DoNotSchedule\n      labelSelector:\n        matchLabels:\n          app.kubernetes.io/component: admission-controller\n    - maxSkew: 1\n      minDomains: 3\n      topologyKey: \"kubernetes.io/hostname\"\n      whenUnsatisfiable: DoNotSchedule\n      labelSelector:\n        matchLabels:\n          app.kubernetes.io/component: admission-controller\nbackgroundController:\n  replicas: 2\n  topologySpreadConstraints:\n    - maxSkew: 1\n      minDomains: 2\n      topologyKey: \"topology.kubernetes.io/zone\"\n      whenUnsatisfiable: DoNotSchedule\n      labelSelector:\n        matchLabels:\n          app.kubernetes.io/component: background-controller\n    - maxSkew: 1\n      minDomains: 2\n      topologyKey: \"kubernetes.io/hostname\"\n      whenUnsatisfiable: DoNotSchedule\n      labelSelector:\n        matchLabels:\n          app.kubernetes.io/component: background-controller\ncleanupController:\n  replicas: 2\nreportsController:\n  replicas: 2\n\nglobal:\n  tolerations:\n  - effect: NoSchedule\n    key: CriticalAddonsOnly\n    value: \"true\"\n  - effect: NoSchedule\n    key: karpenter.sh/controller\n    value: \"true\"\n"
            ],
            "verify": false,
            "keyring": null,
            "replace": false,
            "timeout": 300,
            "version": "3.3.7",
            "set_list": [],
            "namespace": "kyverno",
            "skip_crds": false,
            "postrender": [],
            "repository": "https://kyverno.github.io/kyverno/",
            "description": null,
            "max_history": 0,
            "force_update": false,
            "reset_values": false,
            "reuse_values": false,
            "recreate_pods": false,
            "set_sensitive": [],
            "wait_for_jobs": false,
            "cleanup_on_fail": false,
            "upgrade_install": null,
            "create_namespace": true,
            "disable_webhooks": false,
            "pass_credentials": false,
            "dependency_update": false,
            "disable_crd_hooks": false,
            "repository_ca_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "repository_cert_file": null,
            "render_subchart_notes": true,
            "disable_openapi_validation": false
          },
          "address": "helm_release.kyverno",
          "provider_name": "registry.terraform.io/hashicorp/helm",
          "schema_version": 1,
          "sensitive_values": {
            "set": [],
            "values": [
              false
            ],
            "metadata": [],
            "set_list": [],
            "postrender": [],
            "set_sensitive": [],
            "repository_password": true
          }
        },
        {
          "mode": "managed",
          "name": "metrics_server",
          "type": "helm_release",
          "values": {
            "set": [],
            "lint": false,
            "name": "metrics-server",
            "wait": true,
            "chart": "metrics-server",
            "devel": null,
            "atomic": false,
            "status": "deployed",
            "values": [
              "\"tolerations\":\n- \"effect\": \"NoSchedule\"\n  \"key\": \"karpenter.sh/controller\"\n  \"value\": \"true\"\n- \"effect\": \"NoSchedule\"\n  \"key\": \"CriticalAddonsOnly\"\n  \"value\": \"true\"\n"
            ],
            "verify": false,
            "keyring": null,
            "replace": false,
            "timeout": 300,
            "version": "3.8.2",
            "set_list": [],
            "namespace": "metrics-server",
            "skip_crds": false,
            "postrender": [],
            "repository": "https://kubernetes-sigs.github.io/metrics-server/",
            "description": null,
            "max_history": 0,
            "force_update": false,
            "reset_values": false,
            "reuse_values": false,
            "recreate_pods": false,
            "set_sensitive": [],
            "wait_for_jobs": false,
            "cleanup_on_fail": false,
            "upgrade_install": null,
            "create_namespace": true,
            "disable_webhooks": false,
            "pass_credentials": false,
            "dependency_update": false,
            "disable_crd_hooks": false,
            "repository_ca_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "repository_cert_file": null,
            "render_subchart_notes": true,
            "disable_openapi_validation": false
          },
          "address": "helm_release.metrics_server",
          "provider_name": "registry.terraform.io/hashicorp/helm",
          "schema_version": 1,
          "sensitive_values": {
            "set": [],
            "values": [
              false
            ],
            "metadata": [],
            "set_list": [],
            "postrender": [],
            "set_sensitive": [],
            "repository_password": true
          }
        },
        {
          "mode": "managed",
          "name": "default_policies",
          "type": "kubectl_manifest",
          "index": "./values/kyverno/policies/restrict-binding-system-groups.yaml",
          "values": {
            "kind": "ClusterPolicy",
            "name": "restrict-binding-system-groups",
            "wait": null,
            "timeouts": null,
            "force_new": false,
            "yaml_body": "# src: https://kyverno.io/policies/other/restrict-binding-system-groups/restrict-binding-system-groups/\n---\napiVersion: kyverno.io/v1\nkind: ClusterPolicy\nmetadata:\n  name: restrict-binding-system-groups\n  annotations:\n    policies.kyverno.io/title: Restrict Binding System Groups\n    policies.kyverno.io/category: Security, EKS Best Practices\n    policies.kyverno.io/severity: medium\n    policies.kyverno.io/subject: RoleBinding, ClusterRoleBinding, RBAC\n    kyverno.io/kyverno-version: 1.8.0\n    policies.kyverno.io/minversion: 1.6.0\n    kyverno.io/kubernetes-version: \"1.32\"\n    policies.kyverno.io/description: >-\n      Certain system groups exist in Kubernetes which grant permissions that\n      are used for certain system-level functions yet typically never appropriate\n      for other users. This policy prevents creating bindings to some of these\n      groups including system:anonymous, system:unauthenticated, and system:masters.\nspec:\n  validationFailureAction: Audit\n  background: true\n  rules:\n    - name: restrict-anonymous\n      match:\n        any:\n        - resources:\n            kinds:\n              - RoleBinding\n              - ClusterRoleBinding\n      validate:\n        message: \"Binding to system:anonymous is not allowed.\"\n        pattern:\n          subjects:\n            - name: \"!system:anonymous\"\n    - name: restrict-unauthenticated\n      match:\n        any:\n        - resources:\n            kinds:\n              - RoleBinding\n              - ClusterRoleBinding\n      validate:\n        message: \"Binding to system:unauthenticated is not allowed.\"\n        pattern:\n          subjects:\n            - name: \"!system:unauthenticated\"\n    - name: restrict-masters\n      match:\n        any:\n        - resources:\n            kinds:\n              - RoleBinding\n              - ClusterRoleBinding\n      validate:\n        message: \"Binding to system:masters is not allowed.\"\n        pattern:\n          subjects:\n            - name: \"!system:masters\"\n",
            "apply_only": false,
            "api_version": "kyverno.io/v1",
            "ignore_fields": null,
            "force_conflicts": false,
            "validate_schema": true,
            "sensitive_fields": null,
            "wait_for_rollout": true,
            "yaml_body_parsed": "apiVersion: kyverno.io/v1\nkind: ClusterPolicy\nmetadata:\n  annotations:\n    kyverno.io/kubernetes-version: \"1.32\"\n    kyverno.io/kyverno-version: 1.8.0\n    policies.kyverno.io/category: Security, EKS Best Practices\n    policies.kyverno.io/description: Certain system groups exist in Kubernetes which\n      grant permissions that are used for certain system-level functions yet typically\n      never appropriate for other users. This policy prevents creating bindings to\n      some of these groups including system:anonymous, system:unauthenticated, and\n      system:masters.\n    policies.kyverno.io/minversion: 1.6.0\n    policies.kyverno.io/severity: medium\n    policies.kyverno.io/subject: RoleBinding, ClusterRoleBinding, RBAC\n    policies.kyverno.io/title: Restrict Binding System Groups\n  name: restrict-binding-system-groups\nspec:\n  background: true\n  rules:\n  - match:\n      any:\n      - resources:\n          kinds:\n          - RoleBinding\n          - ClusterRoleBinding\n    name: restrict-anonymous\n    validate:\n      message: Binding to system:anonymous is not allowed.\n      pattern:\n        subjects:\n        - name: '!system:anonymous'\n  - match:\n      any:\n      - resources:\n          kinds:\n          - RoleBinding\n          - ClusterRoleBinding\n    name: restrict-unauthenticated\n    validate:\n      message: Binding to system:unauthenticated is not allowed.\n      pattern:\n        subjects:\n        - name: '!system:unauthenticated'\n  - match:\n      any:\n      - resources:\n          kinds:\n          - RoleBinding\n          - ClusterRoleBinding\n    name: restrict-masters\n    validate:\n      message: Binding to system:masters is not allowed.\n      pattern:\n        subjects:\n        - name: '!system:masters'\n  validationFailureAction: Audit\n",
            "server_side_apply": false,
            "override_namespace": null
          },
          "address": "kubectl_manifest.default_policies[\"./values/kyverno/policies/restrict-binding-system-groups.yaml\"]",
          "provider_name": "registry.terraform.io/gavinbunney/kubectl",
          "schema_version": 1,
          "sensitive_values": {
            "yaml_body": true,
            "yaml_incluster": true,
            "live_manifest_incluster": true
          }
        },
        {
          "mode": "managed",
          "name": "default_policies",
          "type": "kubectl_manifest",
          "index": "./values/kyverno/policies/restrict-secret-role-verbs.yaml",
          "values": {
            "kind": "ClusterPolicy",
            "name": "restrict-secret-role-verbs",
            "wait": null,
            "timeouts": null,
            "force_new": false,
            "yaml_body": "apiVersion: kyverno.io/v1\nkind: ClusterPolicy\nmetadata:\n  name: restrict-secret-role-verbs\n  annotations:\n    policies.kyverno.io/title: Restrict Secret Verbs in Roles\n    policies.kyverno.io/category: Security\n    policies.kyverno.io/severity: medium\n    policies.kyverno.io/subject: Role, ClusterRole, RBAC\n    kyverno.io/kyverno-version: 1.6.2\n    policies.kyverno.io/minversion: 1.6.0\n    kyverno.io/kubernetes-version: \"1.23\"\n    policies.kyverno.io/description: >-\n      The verbs `get`, `list`, and `watch` in a Role or ClusterRole, when paired with the Secrets resource, effectively\n      allows Secrets to be read which may expose sensitive information. This policy prevents\n      a Role or ClusterRole from using these verbs in tandem with Secret resources. In order to\n      fully implement this control, it is recommended to pair this policy with another which\n      also prevents use of the wildcard ('*') in the verbs list either when explicitly naming Secrets\n      or when also using a wildcard in the base API group.\nspec:\n  validationFailureAction: Audit\n  background: false\n  rules:\n    - name: deny-reads-to-non-helm-secrets\n      match:\n        any:\n        - resources:\n            kinds:\n              - Role\n              - ClusterRole\n        preconditions:\n          all:\n          - key: \"{{ request.userInfo.groups }}\"\n            operator: AnyIn\n            value: [\"maintenance\"]\n      validate:\n        message: \"Requesting verbs `get`, `list`, or `watch` on Secrets is forbidden.\"\n        deny:\n          conditions:\n            all:\n            - key: [\"get\",\"list\",\"watch\"]\n              operator: AnyIn\n              value: \"{{ request.object.rules[?resources.contains(@,'secrets')].verbs[] }}\"\n            - key: \"{{ request.object.metadata.labels.owner || 'owner-not-defined'}}\"\n              operator: NotEquals\n              value: \"helm\"\n",
            "apply_only": false,
            "api_version": "kyverno.io/v1",
            "ignore_fields": null,
            "force_conflicts": false,
            "validate_schema": true,
            "sensitive_fields": null,
            "wait_for_rollout": true,
            "yaml_body_parsed": "apiVersion: kyverno.io/v1\nkind: ClusterPolicy\nmetadata:\n  annotations:\n    kyverno.io/kubernetes-version: \"1.23\"\n    kyverno.io/kyverno-version: 1.6.2\n    policies.kyverno.io/category: Security\n    policies.kyverno.io/description: The verbs `get`, `list`, and `watch` in a Role\n      or ClusterRole, when paired with the Secrets resource, effectively allows Secrets\n      to be read which may expose sensitive information. This policy prevents a Role\n      or ClusterRole from using these verbs in tandem with Secret resources. In order\n      to fully implement this control, it is recommended to pair this policy with\n      another which also prevents use of the wildcard ('*') in the verbs list either\n      when explicitly naming Secrets or when also using a wildcard in the base API\n      group.\n    policies.kyverno.io/minversion: 1.6.0\n    policies.kyverno.io/severity: medium\n    policies.kyverno.io/subject: Role, ClusterRole, RBAC\n    policies.kyverno.io/title: Restrict Secret Verbs in Roles\n  name: restrict-secret-role-verbs\nspec:\n  background: false\n  rules:\n  - match:\n      any:\n      - resources:\n          kinds:\n          - Role\n          - ClusterRole\n      preconditions:\n        all:\n        - key: '{{ request.userInfo.groups }}'\n          operator: AnyIn\n          value:\n          - maintenance\n    name: deny-reads-to-non-helm-secrets\n    validate:\n      deny:\n        conditions:\n          all:\n          - key:\n            - get\n            - list\n            - watch\n            operator: AnyIn\n            value: '{{ request.object.rules[?resources.contains(@,''secrets'')].verbs[]\n              }}'\n          - key: '{{ request.object.metadata.labels.owner || ''owner-not-defined''}}'\n            operator: NotEquals\n            value: helm\n      message: Requesting verbs `get`, `list`, or `watch` on Secrets is forbidden.\n  validationFailureAction: Audit\n",
            "server_side_apply": false,
            "override_namespace": null
          },
          "address": "kubectl_manifest.default_policies[\"./values/kyverno/policies/restrict-secret-role-verbs.yaml\"]",
          "provider_name": "registry.terraform.io/gavinbunney/kubectl",
          "schema_version": 1,
          "sensitive_values": {
            "yaml_body": true,
            "yaml_incluster": true,
            "live_manifest_incluster": true
          }
        },
        {
          "mode": "managed",
          "name": "karpenter_ec2nodeclass_default",
          "type": "kubectl_manifest",
          "values": {
            "kind": "EC2NodeClass",
            "name": "default",
            "wait": null,
            "timeouts": null,
            "force_new": false,
            "yaml_body": "\"apiVersion\": \"karpenter.k8s.aws/v1\"\n\"kind\": \"EC2NodeClass\"\n\"metadata\":\n  \"name\": \"default\"\n\"spec\":\n  \"amiSelectorTerms\":\n  - \"alias\": \"al2023@latest\"\n  \"instanceProfile\": \"KarpenterNodeInstanceProfile-n-inlr2e5a7mf3x9mbkh98p6bhek\"\n  \"metadataOptions\":\n    \"httpPutResponseHopLimit\": 2\n  \"securityGroupSelectorTerms\":\n  - \"tags\":\n      \"karpenter.sh/discovery\": \"n-inlr2e5a7mf3x9mbkh98p6bhek\"\n  \"subnetSelectorTerms\":\n  - \"tags\":\n      \"karpenter.sh/discovery\": \"n-inlr2e5a7mf3x9mbkh98p6bhek\"\n  \"tags\":\n    \"NUON_INSTALL_ID\": \"inlr2e5a7mf3x9mbkh98p6bhek\"\n    \"install.nuon.co/id\": \"inlr2e5a7mf3x9mbkh98p6bhek\"\n    \"sandbox.nuon.co/name\": \"aws-eks\"\n    \"sandbox.nuon.co/variant\": \"karpenter\"\n",
            "apply_only": false,
            "api_version": "karpenter.k8s.aws/v1",
            "ignore_fields": null,
            "force_conflicts": false,
            "validate_schema": true,
            "sensitive_fields": null,
            "wait_for_rollout": true,
            "yaml_body_parsed": "apiVersion: karpenter.k8s.aws/v1\nkind: EC2NodeClass\nmetadata:\n  name: default\nspec:\n  amiSelectorTerms:\n  - alias: al2023@latest\n  instanceProfile: KarpenterNodeInstanceProfile-n-inlr2e5a7mf3x9mbkh98p6bhek\n  metadataOptions:\n    httpPutResponseHopLimit: 2\n  securityGroupSelectorTerms:\n  - tags:\n      karpenter.sh/discovery: n-inlr2e5a7mf3x9mbkh98p6bhek\n  subnetSelectorTerms:\n  - tags:\n      karpenter.sh/discovery: n-inlr2e5a7mf3x9mbkh98p6bhek\n  tags:\n    NUON_INSTALL_ID: inlr2e5a7mf3x9mbkh98p6bhek\n    install.nuon.co/id: inlr2e5a7mf3x9mbkh98p6bhek\n    sandbox.nuon.co/name: aws-eks\n    sandbox.nuon.co/variant: karpenter\n",
            "server_side_apply": false,
            "override_namespace": null
          },
          "address": "kubectl_manifest.karpenter_ec2nodeclass_default",
          "provider_name": "registry.terraform.io/gavinbunney/kubectl",
          "schema_version": 1,
          "sensitive_values": {
            "yaml_body": true,
            "yaml_incluster": true,
            "live_manifest_incluster": true
          }
        },
        {
          "mode": "managed",
          "name": "karpenter_nodepool_default",
          "type": "kubectl_manifest",
          "values": {
            "kind": "NodePool",
            "name": "default",
            "wait": null,
            "timeouts": null,
            "force_new": false,
            "yaml_body": "\"apiVersion\": \"karpenter.sh/v1\"\n\"kind\": \"NodePool\"\n\"metadata\":\n  \"name\": \"default\"\n\"spec\":\n  \"disruption\":\n    \"budgets\":\n    - \"nodes\": \"1\"\n    \"consolidateAfter\": \"5m\"\n    \"consolidationPolicy\": \"WhenEmptyOrUnderutilized\"\n  \"limits\":\n    \"cpu\": 100\n    \"memory\": \"200Gi\"\n  \"template\":\n    \"spec\":\n      \"expireAfter\": \"732h\"\n      \"nodeClassRef\":\n        \"group\": \"karpenter.k8s.aws\"\n        \"kind\": \"EC2NodeClass\"\n        \"name\": \"default\"\n      \"requirements\":\n      - \"key\": \"karpenter.sh/capacity-type\"\n        \"operator\": \"In\"\n        \"values\":\n        - \"on-demand\"\n      - \"key\": \"node.kubernetes.io/instance-type\"\n        \"operator\": \"In\"\n        \"values\":\n        - \"t3a.medium\"\n      - \"key\": \"topology.kubernetes.io/zone\"\n        \"operator\": \"In\"\n        \"values\":\n        - \"us-west-2a\"\n        - \"us-west-2b\"\n        - \"us-west-2c\"\n",
            "apply_only": false,
            "api_version": "karpenter.sh/v1",
            "ignore_fields": null,
            "force_conflicts": false,
            "validate_schema": true,
            "sensitive_fields": null,
            "wait_for_rollout": true,
            "yaml_body_parsed": "apiVersion: karpenter.sh/v1\nkind: NodePool\nmetadata:\n  name: default\nspec:\n  disruption:\n    budgets:\n    - nodes: \"1\"\n    consolidateAfter: 5m\n    consolidationPolicy: WhenEmptyOrUnderutilized\n  limits:\n    cpu: 100\n    memory: 200Gi\n  template:\n    spec:\n      expireAfter: 732h\n      nodeClassRef:\n        group: karpenter.k8s.aws\n        kind: EC2NodeClass\n        name: default\n      requirements:\n      - key: karpenter.sh/capacity-type\n        operator: In\n        values:\n        - on-demand\n      - key: node.kubernetes.io/instance-type\n        operator: In\n        values:\n        - t3a.medium\n      - key: topology.kubernetes.io/zone\n        operator: In\n        values:\n        - us-west-2a\n        - us-west-2b\n        - us-west-2c\n",
            "server_side_apply": false,
            "override_namespace": null
          },
          "address": "kubectl_manifest.karpenter_nodepool_default",
          "provider_name": "registry.terraform.io/gavinbunney/kubectl",
          "schema_version": 1,
          "sensitive_values": {
            "yaml_body": true,
            "yaml_incluster": true,
            "live_manifest_incluster": true
          }
        },
        {
          "mode": "managed",
          "name": "maintenance",
          "type": "kubectl_manifest",
          "values": {
            "kind": "ClusterRole",
            "name": "maintenance",
            "wait": null,
            "timeouts": null,
            "force_new": false,
            "yaml_body": "\"apiVersion\": \"rbac.authorization.k8s.io/v1\"\n\"kind\": \"ClusterRole\"\n\"metadata\":\n  \"labels\":\n    \"nuon.co/source\": \"sandbox-defaults\"\n  \"name\": \"maintenance\"\n\"rules\":\n- \"apiGroups\":\n  - \"cert-manager.io\"\n  \"resources\":\n  - \"certificates\"\n  - \"certificaterequests\"\n  - \"issuers\"\n  \"verbs\":\n  - \"create\"\n  - \"delete\"\n  - \"deletecollection\"\n  - \"patch\"\n  - \"update\"\n- \"apiGroups\":\n  - \"cert-manager.io\"\n  \"resources\":\n  - \"certificates/status\"\n  \"verbs\":\n  - \"update\"\n- \"apiGroups\":\n  - \"acme.cert-manager.io\"\n  \"resources\":\n  - \"challenges\"\n  - \"orders\"\n  \"verbs\":\n  - \"create\"\n  - \"delete\"\n  - \"deletecollection\"\n  - \"patch\"\n  - \"update\"\n- \"apiGroups\":\n  - \"cert-manager.io\"\n  \"resources\":\n  - \"certificates\"\n  - \"certificaterequests\"\n  - \"issuers\"\n  \"verbs\":\n  - \"get\"\n  - \"list\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"acme.cert-manager.io\"\n  \"resources\":\n  - \"challenges\"\n  - \"orders\"\n  \"verbs\":\n  - \"get\"\n  - \"list\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"\"\n  \"resources\":\n  - \"pods/attach\"\n  - \"pods/exec\"\n  - \"pods/portforward\"\n  - \"pods/proxy\"\n  - \"services/proxy\"\n  \"verbs\":\n  - \"get\"\n  - \"list\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"\"\n  \"resources\":\n  - \"serviceaccounts\"\n  \"verbs\":\n  - \"impersonate\"\n- \"apiGroups\":\n  - \"\"\n  \"resources\":\n  - \"pods\"\n  - \"pods/attach\"\n  - \"pods/exec\"\n  - \"pods/portforward\"\n  - \"pods/proxy\"\n  \"verbs\":\n  - \"create\"\n  - \"delete\"\n  - \"deletecollection\"\n  - \"patch\"\n  - \"update\"\n- \"apiGroups\":\n  - \"\"\n  \"resources\":\n  - \"pods/eviction\"\n  \"verbs\":\n  - \"create\"\n- \"apiGroups\":\n  - \"\"\n  \"resources\":\n  - \"configmaps\"\n  - \"events\"\n  - \"persistentvolumeclaims\"\n  - \"replicationcontrollers\"\n  - \"replicationcontrollers/scale\"\n  - \"secrets\"\n  - \"serviceaccounts\"\n  - \"services\"\n  - \"services/proxy\"\n  \"verbs\":\n  - \"create\"\n  - \"delete\"\n  - \"deletecollection\"\n  - \"patch\"\n  - \"update\"\n- \"apiGroups\":\n  - \"\"\n  \"resources\":\n  - \"serviceaccounts/token\"\n  \"verbs\":\n  - \"create\"\n- \"apiGroups\":\n  - \"apps\"\n  \"resources\":\n  - \"daemonsets\"\n  - \"deployments\"\n  - \"deployments/rollback\"\n  - \"deployments/scale\"\n  - \"replicasets\"\n  - \"replicasets/scale\"\n  - \"statefulsets\"\n  - \"statefulsets/scale\"\n  \"verbs\":\n  - \"create\"\n  - \"delete\"\n  - \"deletecollection\"\n  - \"patch\"\n  - \"update\"\n- \"apiGroups\":\n  - \"autoscaling\"\n  \"resources\":\n  - \"horizontalpodautoscalers\"\n  \"verbs\":\n  - \"create\"\n  - \"delete\"\n  - \"deletecollection\"\n  - \"patch\"\n  - \"update\"\n- \"apiGroups\":\n  - \"batch\"\n  \"resources\":\n  - \"cronjobs\"\n  - \"jobs\"\n  \"verbs\":\n  - \"create\"\n  - \"delete\"\n  - \"deletecollection\"\n  - \"patch\"\n  - \"update\"\n- \"apiGroups\":\n  - \"extensions\"\n  \"resources\":\n  - \"daemonsets\"\n  - \"deployments\"\n  - \"deployments/rollback\"\n  - \"deployments/scale\"\n  - \"ingresses\"\n  - \"networkpolicies\"\n  - \"replicasets\"\n  - \"replicasets/scale\"\n  - \"replicationcontrollers/scale\"\n  \"verbs\":\n  - \"create\"\n  - \"delete\"\n  - \"deletecollection\"\n  - \"patch\"\n  - \"update\"\n- \"apiGroups\":\n  - \"policy\"\n  \"resources\":\n  - \"poddisruptionbudgets\"\n  \"verbs\":\n  - \"create\"\n  - \"delete\"\n  - \"deletecollection\"\n  - \"patch\"\n  - \"update\"\n- \"apiGroups\":\n  - \"networking.k8s.io\"\n  \"resources\":\n  - \"ingresses\"\n  - \"networkpolicies\"\n  \"verbs\":\n  - \"create\"\n  - \"delete\"\n  - \"deletecollection\"\n  - \"patch\"\n  - \"update\"\n- \"apiGroups\":\n  - \"coordination.k8s.io\"\n  \"resources\":\n  - \"leases\"\n  \"verbs\":\n  - \"create\"\n  - \"delete\"\n  - \"deletecollection\"\n  - \"get\"\n  - \"list\"\n  - \"patch\"\n  - \"update\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"metrics.k8s.io\"\n  \"resources\":\n  - \"pods\"\n  - \"nodes\"\n  \"verbs\":\n  - \"get\"\n  - \"list\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"kyverno.io\"\n  \"resources\":\n  - \"cleanuppolicies\"\n  - \"clustercleanuppolicies\"\n  - \"policies\"\n  - \"clusterpolicies\"\n  \"verbs\":\n  - \"get\"\n  - \"list\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"wgpolicyk8s.io\"\n  \"resources\":\n  - \"policyreports\"\n  - \"clusterpolicyreports\"\n  \"verbs\":\n  - \"get\"\n  - \"list\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"reports.kyverno.io\"\n  \"resources\":\n  - \"ephemeralreports\"\n  - \"clusterephemeralreports\"\n  \"verbs\":\n  - \"get\"\n  - \"list\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"kyverno.io\"\n  \"resources\":\n  - \"updaterequests\"\n  \"verbs\":\n  - \"get\"\n  - \"list\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"\"\n  \"resources\":\n  - \"configmaps\"\n  - \"endpoints\"\n  - \"persistentvolumeclaims\"\n  - \"persistentvolumeclaims/status\"\n  - \"pods\"\n  - \"replicationcontrollers\"\n  - \"replicationcontrollers/scale\"\n  - \"serviceaccounts\"\n  - \"services\"\n  - \"services/status\"\n  \"verbs\":\n  - \"get\"\n  - \"list\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"\"\n  \"resources\":\n  - \"bindings\"\n  - \"events\"\n  - \"limitranges\"\n  - \"namespaces/status\"\n  - \"pods/log\"\n  - \"pods/status\"\n  - \"replicationcontrollers/status\"\n  - \"resourcequotas\"\n  - \"resourcequotas/status\"\n  \"verbs\":\n  - \"get\"\n  - \"list\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"\"\n  \"resources\":\n  - \"namespaces\"\n  \"verbs\":\n  - \"*\"\n- \"apiGroups\":\n  - \"discovery.k8s.io\"\n  \"resources\":\n  - \"endpointslices\"\n  \"verbs\":\n  - \"get\"\n  - \"list\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"apps\"\n  \"resources\":\n  - \"controllerrevisions\"\n  - \"daemonsets\"\n  - \"daemonsets/status\"\n  - \"deployments\"\n  - \"deployments/scale\"\n  - \"deployments/status\"\n  - \"replicasets\"\n  - \"replicasets/scale\"\n  - \"replicasets/status\"\n  - \"statefulsets\"\n  - \"statefulsets/scale\"\n  - \"statefulsets/status\"\n  \"verbs\":\n  - \"get\"\n  - \"list\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"autoscaling\"\n  \"resources\":\n  - \"horizontalpodautoscalers\"\n  - \"horizontalpodautoscalers/status\"\n  \"verbs\":\n  - \"get\"\n  - \"list\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"batch\"\n  \"resources\":\n  - \"cronjobs\"\n  - \"cronjobs/status\"\n  - \"jobs\"\n  - \"jobs/status\"\n  \"verbs\":\n  - \"get\"\n  - \"list\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"extensions\"\n  \"resources\":\n  - \"daemonsets\"\n  - \"daemonsets/status\"\n  - \"deployments\"\n  - \"deployments/scale\"\n  - \"deployments/status\"\n  - \"ingresses\"\n  - \"ingresses/status\"\n  - \"networkpolicies\"\n  - \"replicasets\"\n  - \"replicasets/scale\"\n  - \"replicasets/status\"\n  - \"replicationcontrollers/scale\"\n  \"verbs\":\n  - \"get\"\n  - \"list\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"policy\"\n  \"resources\":\n  - \"poddisruptionbudgets\"\n  - \"poddisruptionbudgets/status\"\n  \"verbs\":\n  - \"get\"\n  - \"list\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"networking.k8s.io\"\n  \"resources\":\n  - \"ingresses\"\n  - \"ingresses/status\"\n  - \"networkpolicies\"\n  \"verbs\":\n  - \"get\"\n  - \"list\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"kyverno.io\"\n  \"resources\":\n  - \"cleanuppolicies\"\n  - \"clustercleanuppolicies\"\n  - \"policies\"\n  - \"clusterpolicies\"\n  \"verbs\":\n  - \"create\"\n  - \"delete\"\n  - \"get\"\n  - \"list\"\n  - \"patch\"\n  - \"update\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"wgpolicyk8s.io\"\n  \"resources\":\n  - \"policyreports\"\n  - \"clusterpolicyreports\"\n  \"verbs\":\n  - \"create\"\n  - \"delete\"\n  - \"get\"\n  - \"list\"\n  - \"patch\"\n  - \"update\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"reports.kyverno.io\"\n  \"resources\":\n  - \"ephemeralreports\"\n  - \"clusterephemeralreports\"\n  \"verbs\":\n  - \"create\"\n  - \"delete\"\n  - \"get\"\n  - \"list\"\n  - \"patch\"\n  - \"update\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"kyverno.io\"\n  \"resources\":\n  - \"updaterequests\"\n  \"verbs\":\n  - \"create\"\n  - \"delete\"\n  - \"get\"\n  - \"list\"\n  - \"patch\"\n  - \"update\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"authorization.k8s.io\"\n  \"resources\":\n  - \"localsubjectaccessreviews\"\n  \"verbs\":\n  - \"create\"\n- \"apiGroups\":\n  - \"rbac.authorization.k8s.io\"\n  \"resources\":\n  - \"rolebindings\"\n  - \"roles\"\n  \"verbs\":\n  - \"create\"\n  - \"delete\"\n  - \"deletecollection\"\n  - \"get\"\n  - \"list\"\n  - \"patch\"\n  - \"update\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"apiextensions.k8s.io\"\n  \"resources\":\n  - \"*\"\n  \"verbs\":\n  - \"*\"\n- \"apiGroups\":\n  - \"karpenter.k8s.aws\"\n  - \"karpenter.sh\"\n  \"resources\":\n  - \"*\"\n  \"verbs\":\n  - \"*\"\n- \"apiGroups\":\n  - \"\"\n  \"resourceNames\":\n  - \"external-secrets-operator-webhook\"\n  \"resources\":\n  - \"secrets\"\n  \"verbs\":\n  - \"*\"\n- \"apiGroups\":\n  - \"rbac.authorization.k8s.io\"\n  \"resourceNames\":\n  - \"external-secrets-operator-cert-controller\"\n  - \"external-secrets-operator-controller\"\n  - \"external-secrets-operator-edit\"\n  - \"external-secrets-operator-servicebindings\"\n  - \"external-secrets-operator-view\"\n  \"resources\":\n  - \"clusterroles\"\n  \"verbs\":\n  - \"*\"\n- \"apiGroups\":\n  - \"rbac.authorization.k8s.io\"\n  \"resourceNames\":\n  - \"external-secrets-operator-cert-controller\"\n  - \"external-secrets-operator-controller\"\n  - \"external-secrets-operator-edit\"\n  - \"external-secrets-operator-servicebindings\"\n  - \"external-secrets-operator-view\"\n  \"resources\":\n  - \"clusterrolebindings\"\n  \"verbs\":\n  - \"*\"\n- \"apiGroups\":\n  - \"admissionregistration.k8s.io\"\n  \"resourceNames\":\n  - \"secretstore-validate\"\n  - \"externalsecret-validate\"\n  \"resources\":\n  - \"validatingwebhookconfigurations\"\n  \"verbs\":\n  - \"*\"\n- \"apiGroups\":\n  - \"rbac.authorization.k8s.io\"\n  \"resourceNames\":\n  - \"external-secrets-operator-cert-controller\"\n  \"resources\":\n  - \"clusterroles\"\n  - \"clusterrolebindings\"\n  \"verbs\":\n  - \"create\"\n  - \"*\"\n",
            "apply_only": false,
            "api_version": "rbac.authorization.k8s.io/v1",
            "ignore_fields": null,
            "force_conflicts": false,
            "validate_schema": true,
            "sensitive_fields": null,
            "wait_for_rollout": true,
            "yaml_body_parsed": "apiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  labels:\n    nuon.co/source: sandbox-defaults\n  name: maintenance\nrules:\n- apiGroups:\n  - cert-manager.io\n  resources:\n  - certificates\n  - certificaterequests\n  - issuers\n  verbs:\n  - create\n  - delete\n  - deletecollection\n  - patch\n  - update\n- apiGroups:\n  - cert-manager.io\n  resources:\n  - certificates/status\n  verbs:\n  - update\n- apiGroups:\n  - acme.cert-manager.io\n  resources:\n  - challenges\n  - orders\n  verbs:\n  - create\n  - delete\n  - deletecollection\n  - patch\n  - update\n- apiGroups:\n  - cert-manager.io\n  resources:\n  - certificates\n  - certificaterequests\n  - issuers\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - acme.cert-manager.io\n  resources:\n  - challenges\n  - orders\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - \"\"\n  resources:\n  - pods/attach\n  - pods/exec\n  - pods/portforward\n  - pods/proxy\n  - services/proxy\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - \"\"\n  resources:\n  - serviceaccounts\n  verbs:\n  - impersonate\n- apiGroups:\n  - \"\"\n  resources:\n  - pods\n  - pods/attach\n  - pods/exec\n  - pods/portforward\n  - pods/proxy\n  verbs:\n  - create\n  - delete\n  - deletecollection\n  - patch\n  - update\n- apiGroups:\n  - \"\"\n  resources:\n  - pods/eviction\n  verbs:\n  - create\n- apiGroups:\n  - \"\"\n  resources:\n  - configmaps\n  - events\n  - persistentvolumeclaims\n  - replicationcontrollers\n  - replicationcontrollers/scale\n  - secrets\n  - serviceaccounts\n  - services\n  - services/proxy\n  verbs:\n  - create\n  - delete\n  - deletecollection\n  - patch\n  - update\n- apiGroups:\n  - \"\"\n  resources:\n  - serviceaccounts/token\n  verbs:\n  - create\n- apiGroups:\n  - apps\n  resources:\n  - daemonsets\n  - deployments\n  - deployments/rollback\n  - deployments/scale\n  - replicasets\n  - replicasets/scale\n  - statefulsets\n  - statefulsets/scale\n  verbs:\n  - create\n  - delete\n  - deletecollection\n  - patch\n  - update\n- apiGroups:\n  - autoscaling\n  resources:\n  - horizontalpodautoscalers\n  verbs:\n  - create\n  - delete\n  - deletecollection\n  - patch\n  - update\n- apiGroups:\n  - batch\n  resources:\n  - cronjobs\n  - jobs\n  verbs:\n  - create\n  - delete\n  - deletecollection\n  - patch\n  - update\n- apiGroups:\n  - extensions\n  resources:\n  - daemonsets\n  - deployments\n  - deployments/rollback\n  - deployments/scale\n  - ingresses\n  - networkpolicies\n  - replicasets\n  - replicasets/scale\n  - replicationcontrollers/scale\n  verbs:\n  - create\n  - delete\n  - deletecollection\n  - patch\n  - update\n- apiGroups:\n  - policy\n  resources:\n  - poddisruptionbudgets\n  verbs:\n  - create\n  - delete\n  - deletecollection\n  - patch\n  - update\n- apiGroups:\n  - networking.k8s.io\n  resources:\n  - ingresses\n  - networkpolicies\n  verbs:\n  - create\n  - delete\n  - deletecollection\n  - patch\n  - update\n- apiGroups:\n  - coordination.k8s.io\n  resources:\n  - leases\n  verbs:\n  - create\n  - delete\n  - deletecollection\n  - get\n  - list\n  - patch\n  - update\n  - watch\n- apiGroups:\n  - metrics.k8s.io\n  resources:\n  - pods\n  - nodes\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - kyverno.io\n  resources:\n  - cleanuppolicies\n  - clustercleanuppolicies\n  - policies\n  - clusterpolicies\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - wgpolicyk8s.io\n  resources:\n  - policyreports\n  - clusterpolicyreports\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - reports.kyverno.io\n  resources:\n  - ephemeralreports\n  - clusterephemeralreports\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - kyverno.io\n  resources:\n  - updaterequests\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - \"\"\n  resources:\n  - configmaps\n  - endpoints\n  - persistentvolumeclaims\n  - persistentvolumeclaims/status\n  - pods\n  - replicationcontrollers\n  - replicationcontrollers/scale\n  - serviceaccounts\n  - services\n  - services/status\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - \"\"\n  resources:\n  - bindings\n  - events\n  - limitranges\n  - namespaces/status\n  - pods/log\n  - pods/status\n  - replicationcontrollers/status\n  - resourcequotas\n  - resourcequotas/status\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - \"\"\n  resources:\n  - namespaces\n  verbs:\n  - '*'\n- apiGroups:\n  - discovery.k8s.io\n  resources:\n  - endpointslices\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - apps\n  resources:\n  - controllerrevisions\n  - daemonsets\n  - daemonsets/status\n  - deployments\n  - deployments/scale\n  - deployments/status\n  - replicasets\n  - replicasets/scale\n  - replicasets/status\n  - statefulsets\n  - statefulsets/scale\n  - statefulsets/status\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - autoscaling\n  resources:\n  - horizontalpodautoscalers\n  - horizontalpodautoscalers/status\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - batch\n  resources:\n  - cronjobs\n  - cronjobs/status\n  - jobs\n  - jobs/status\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - extensions\n  resources:\n  - daemonsets\n  - daemonsets/status\n  - deployments\n  - deployments/scale\n  - deployments/status\n  - ingresses\n  - ingresses/status\n  - networkpolicies\n  - replicasets\n  - replicasets/scale\n  - replicasets/status\n  - replicationcontrollers/scale\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - policy\n  resources:\n  - poddisruptionbudgets\n  - poddisruptionbudgets/status\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - networking.k8s.io\n  resources:\n  - ingresses\n  - ingresses/status\n  - networkpolicies\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - kyverno.io\n  resources:\n  - cleanuppolicies\n  - clustercleanuppolicies\n  - policies\n  - clusterpolicies\n  verbs:\n  - create\n  - delete\n  - get\n  - list\n  - patch\n  - update\n  - watch\n- apiGroups:\n  - wgpolicyk8s.io\n  resources:\n  - policyreports\n  - clusterpolicyreports\n  verbs:\n  - create\n  - delete\n  - get\n  - list\n  - patch\n  - update\n  - watch\n- apiGroups:\n  - reports.kyverno.io\n  resources:\n  - ephemeralreports\n  - clusterephemeralreports\n  verbs:\n  - create\n  - delete\n  - get\n  - list\n  - patch\n  - update\n  - watch\n- apiGroups:\n  - kyverno.io\n  resources:\n  - updaterequests\n  verbs:\n  - create\n  - delete\n  - get\n  - list\n  - patch\n  - update\n  - watch\n- apiGroups:\n  - authorization.k8s.io\n  resources:\n  - localsubjectaccessreviews\n  verbs:\n  - create\n- apiGroups:\n  - rbac.authorization.k8s.io\n  resources:\n  - rolebindings\n  - roles\n  verbs:\n  - create\n  - delete\n  - deletecollection\n  - get\n  - list\n  - patch\n  - update\n  - watch\n- apiGroups:\n  - apiextensions.k8s.io\n  resources:\n  - '*'\n  verbs:\n  - '*'\n- apiGroups:\n  - karpenter.k8s.aws\n  - karpenter.sh\n  resources:\n  - '*'\n  verbs:\n  - '*'\n- apiGroups:\n  - \"\"\n  resourceNames:\n  - external-secrets-operator-webhook\n  resources:\n  - secrets\n  verbs:\n  - '*'\n- apiGroups:\n  - rbac.authorization.k8s.io\n  resourceNames:\n  - external-secrets-operator-cert-controller\n  - external-secrets-operator-controller\n  - external-secrets-operator-edit\n  - external-secrets-operator-servicebindings\n  - external-secrets-operator-view\n  resources:\n  - clusterroles\n  verbs:\n  - '*'\n- apiGroups:\n  - rbac.authorization.k8s.io\n  resourceNames:\n  - external-secrets-operator-cert-controller\n  - external-secrets-operator-controller\n  - external-secrets-operator-edit\n  - external-secrets-operator-servicebindings\n  - external-secrets-operator-view\n  resources:\n  - clusterrolebindings\n  verbs:\n  - '*'\n- apiGroups:\n  - admissionregistration.k8s.io\n  resourceNames:\n  - secretstore-validate\n  - externalsecret-validate\n  resources:\n  - validatingwebhookconfigurations\n  verbs:\n  - '*'\n- apiGroups:\n  - rbac.authorization.k8s.io\n  resourceNames:\n  - external-secrets-operator-cert-controller\n  resources:\n  - clusterroles\n  - clusterrolebindings\n  verbs:\n  - create\n  - '*'\n",
            "server_side_apply": false,
            "override_namespace": null
          },
          "address": "kubectl_manifest.maintenance",
          "provider_name": "registry.terraform.io/gavinbunney/kubectl",
          "schema_version": 1,
          "sensitive_values": {
            "yaml_body": true,
            "yaml_incluster": true,
            "live_manifest_incluster": true
          }
        },
        {
          "mode": "managed",
          "name": "maintenance_role_binding",
          "type": "kubectl_manifest",
          "values": {
            "kind": "ClusterRoleBinding",
            "name": "maintenance",
            "wait": null,
            "timeouts": null,
            "force_new": false,
            "namespace": "default",
            "yaml_body": "apiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: maintenance\n  namespace: default\nsubjects:\n- kind: Group\n  name: maintenance\n  apiGroup: rbac.authorization.k8s.io\nroleRef:\n  kind: ClusterRole\n  name: maintenance\n  apiGroup: rbac.authorization.k8s.io\n",
            "apply_only": false,
            "api_version": "rbac.authorization.k8s.io/v1",
            "ignore_fields": null,
            "force_conflicts": false,
            "validate_schema": true,
            "sensitive_fields": null,
            "wait_for_rollout": true,
            "yaml_body_parsed": "apiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: maintenance\n  namespace: default\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: maintenance\nsubjects:\n- apiGroup: rbac.authorization.k8s.io\n  kind: Group\n  name: maintenance\n",
            "server_side_apply": false,
            "override_namespace": null
          },
          "address": "kubectl_manifest.maintenance_role_binding",
          "provider_name": "registry.terraform.io/gavinbunney/kubectl",
          "schema_version": 1,
          "sensitive_values": {
            "yaml_body": true,
            "yaml_incluster": true,
            "live_manifest_incluster": true
          }
        },
        {
          "mode": "managed",
          "name": "namespaces",
          "type": "kubectl_manifest",
          "index": "clickhouse",
          "values": {
            "kind": "Namespace",
            "name": "clickhouse",
            "wait": null,
            "timeouts": null,
            "force_new": false,
            "yaml_body": "\"apiVersion\": \"v1\"\n\"kind\": \"Namespace\"\n\"metadata\":\n  \"name\": \"clickhouse\"\n",
            "apply_only": false,
            "api_version": "v1",
            "ignore_fields": null,
            "force_conflicts": false,
            "validate_schema": true,
            "sensitive_fields": null,
            "wait_for_rollout": true,
            "yaml_body_parsed": "apiVersion: v1\nkind: Namespace\nmetadata:\n  name: clickhouse\n",
            "server_side_apply": false,
            "override_namespace": null
          },
          "address": "kubectl_manifest.namespaces[\"clickhouse\"]",
          "provider_name": "registry.terraform.io/gavinbunney/kubectl",
          "schema_version": 1,
          "sensitive_values": {
            "yaml_body": true,
            "yaml_incluster": true,
            "live_manifest_incluster": true
          }
        },
        {
          "mode": "managed",
          "name": "namespaces",
          "type": "kubectl_manifest",
          "index": "ctl-api",
          "values": {
            "kind": "Namespace",
            "name": "ctl-api",
            "wait": null,
            "timeouts": null,
            "force_new": false,
            "yaml_body": "\"apiVersion\": \"v1\"\n\"kind\": \"Namespace\"\n\"metadata\":\n  \"name\": \"ctl-api\"\n",
            "apply_only": false,
            "api_version": "v1",
            "ignore_fields": null,
            "force_conflicts": false,
            "validate_schema": true,
            "sensitive_fields": null,
            "wait_for_rollout": true,
            "yaml_body_parsed": "apiVersion: v1\nkind: Namespace\nmetadata:\n  name: ctl-api\n",
            "server_side_apply": false,
            "override_namespace": null
          },
          "address": "kubectl_manifest.namespaces[\"ctl-api\"]",
          "provider_name": "registry.terraform.io/gavinbunney/kubectl",
          "schema_version": 1,
          "sensitive_values": {
            "yaml_body": true,
            "yaml_incluster": true,
            "live_manifest_incluster": true
          }
        },
        {
          "mode": "managed",
          "name": "namespaces",
          "type": "kubectl_manifest",
          "index": "dashboard-ui",
          "values": {
            "kind": "Namespace",
            "name": "dashboard-ui",
            "wait": null,
            "timeouts": null,
            "force_new": false,
            "yaml_body": "\"apiVersion\": \"v1\"\n\"kind\": \"Namespace\"\n\"metadata\":\n  \"name\": \"dashboard-ui\"\n",
            "apply_only": false,
            "api_version": "v1",
            "ignore_fields": null,
            "force_conflicts": false,
            "validate_schema": true,
            "sensitive_fields": null,
            "wait_for_rollout": true,
            "yaml_body_parsed": "apiVersion: v1\nkind: Namespace\nmetadata:\n  name: dashboard-ui\n",
            "server_side_apply": false,
            "override_namespace": null
          },
          "address": "kubectl_manifest.namespaces[\"dashboard-ui\"]",
          "provider_name": "registry.terraform.io/gavinbunney/kubectl",
          "schema_version": 1,
          "sensitive_values": {
            "yaml_body": true,
            "yaml_incluster": true,
            "live_manifest_incluster": true
          }
        },
        {
          "mode": "managed",
          "name": "namespaces",
          "type": "kubectl_manifest",
          "index": "inlr2e5a7mf3x9mbkh98p6bhek",
          "values": {
            "kind": "Namespace",
            "name": "inlr2e5a7mf3x9mbkh98p6bhek",
            "wait": null,
            "timeouts": null,
            "force_new": false,
            "yaml_body": "\"apiVersion\": \"v1\"\n\"kind\": \"Namespace\"\n\"metadata\":\n  \"name\": \"inlr2e5a7mf3x9mbkh98p6bhek\"\n",
            "apply_only": false,
            "api_version": "v1",
            "ignore_fields": null,
            "force_conflicts": false,
            "validate_schema": true,
            "sensitive_fields": null,
            "wait_for_rollout": true,
            "yaml_body_parsed": "apiVersion: v1\nkind: Namespace\nmetadata:\n  name: inlr2e5a7mf3x9mbkh98p6bhek\n",
            "server_side_apply": false,
            "override_namespace": null
          },
          "address": "kubectl_manifest.namespaces[\"inlr2e5a7mf3x9mbkh98p6bhek\"]",
          "provider_name": "registry.terraform.io/gavinbunney/kubectl",
          "schema_version": 1,
          "sensitive_values": {
            "yaml_body": true,
            "yaml_incluster": true,
            "live_manifest_incluster": true
          }
        },
        {
          "mode": "managed",
          "name": "namespaces",
          "type": "kubectl_manifest",
          "index": "temporal",
          "values": {
            "kind": "Namespace",
            "name": "temporal",
            "wait": null,
            "timeouts": null,
            "force_new": false,
            "yaml_body": "\"apiVersion\": \"v1\"\n\"kind\": \"Namespace\"\n\"metadata\":\n  \"name\": \"temporal\"\n",
            "apply_only": false,
            "api_version": "v1",
            "ignore_fields": null,
            "force_conflicts": false,
            "validate_schema": true,
            "sensitive_fields": null,
            "wait_for_rollout": true,
            "yaml_body_parsed": "apiVersion: v1\nkind: Namespace\nmetadata:\n  name: temporal\n",
            "server_side_apply": false,
            "override_namespace": null
          },
          "address": "kubectl_manifest.namespaces[\"temporal\"]",
          "provider_name": "registry.terraform.io/gavinbunney/kubectl",
          "schema_version": 1,
          "sensitive_values": {
            "yaml_body": true,
            "yaml_incluster": true,
            "live_manifest_incluster": true
          }
        },
        {
          "mode": "managed",
          "name": "vendor_policies",
          "type": "kubectl_manifest",
          "index": "0.yaml",
          "values": {
            "kind": "ClusterPolicy",
            "name": "disallow-ingress-nginx-custom-snippets",
            "wait": null,
            "timeouts": null,
            "force_new": false,
            "yaml_body": "apiVersion: kyverno.io/v1\nkind: ClusterPolicy\nmetadata:\n  name: disallow-ingress-nginx-custom-snippets\n  annotations:\n    policies.kyverno.io/title: Disallow Custom Snippets\n    policies.kyverno.io/category: Security, NGINX Ingress\n    policies.kyverno.io/subject: ConfigMap, Ingress\n    policies.kyverno.io/minversion: \"1.6.0\"\n    kyverno.io/kyverno-version: \"1.6.0\"\n    kyverno.io/kubernetes-version: \"1.23\"\n    policies.kyverno.io/description: >-\n      Users that can create or update ingress objects can use the custom snippets\n      feature to obtain all secrets in the cluster (CVE-2021-25742). This policy\n      disables allow-snippet-annotations in the ingress-nginx configuration and\n      blocks *-snippet annotations on an Ingress.\n      See: https://github.com/kubernetes/ingress-nginx/issues/7837\nspec:\n  validationFailureAction: Enforce\n  rules:\n    - name: check-config-map\n      match:\n        any:\n        - resources:\n            kinds:\n            - ConfigMap\n      validate:\n        message: \"ingress-nginx allow-snippet-annotations must be set to false\"\n        pattern:\n          =(data):\n            =(allow-snippet-annotations) : \"false\"\n    - name: check-ingress-annotations\n      match:\n        any:\n        - resources:\n            kinds:\n            - networking.k8s.io/v1/Ingress\n      validate:\n        message: \"ingress-nginx custom snippets are not allowed\"\n        pattern:\n          metadata:\n            =(annotations):\n              X(*-snippet): \"?*\"\n",
            "apply_only": false,
            "api_version": "kyverno.io/v1",
            "ignore_fields": null,
            "force_conflicts": false,
            "validate_schema": true,
            "sensitive_fields": null,
            "wait_for_rollout": true,
            "yaml_body_parsed": "apiVersion: kyverno.io/v1\nkind: ClusterPolicy\nmetadata:\n  annotations:\n    kyverno.io/kubernetes-version: \"1.23\"\n    kyverno.io/kyverno-version: 1.6.0\n    policies.kyverno.io/category: Security, NGINX Ingress\n    policies.kyverno.io/description: 'Users that can create or update ingress objects\n      can use the custom snippets feature to obtain all secrets in the cluster (CVE-2021-25742).\n      This policy disables allow-snippet-annotations in the ingress-nginx configuration\n      and blocks *-snippet annotations on an Ingress. See: https://github.com/kubernetes/ingress-nginx/issues/7837'\n    policies.kyverno.io/minversion: 1.6.0\n    policies.kyverno.io/subject: ConfigMap, Ingress\n    policies.kyverno.io/title: Disallow Custom Snippets\n  name: disallow-ingress-nginx-custom-snippets\nspec:\n  rules:\n  - match:\n      any:\n      - resources:\n          kinds:\n          - ConfigMap\n    name: check-config-map\n    validate:\n      message: ingress-nginx allow-snippet-annotations must be set to false\n      pattern:\n        =(data):\n          =(allow-snippet-annotations): \"false\"\n  - match:\n      any:\n      - resources:\n          kinds:\n          - networking.k8s.io/v1/Ingress\n    name: check-ingress-annotations\n    validate:\n      message: ingress-nginx custom snippets are not allowed\n      pattern:\n        metadata:\n          =(annotations):\n            X(*-snippet): ?*\n  validationFailureAction: Enforce\n",
            "server_side_apply": false,
            "override_namespace": null
          },
          "address": "kubectl_manifest.vendor_policies[\"0.yaml\"]",
          "provider_name": "registry.terraform.io/gavinbunney/kubectl",
          "schema_version": 1,
          "sensitive_values": {
            "yaml_body": true,
            "yaml_incluster": true,
            "live_manifest_incluster": true
          }
        }
      ],
      "child_modules": [
        {
          "address": "module.additional_subnet_tags[0]",
          "resources": [
            {
              "mode": "managed",
              "name": "private_subnets_cluster_tags",
              "type": "aws_ec2_tag",
              "index": "subnet-00adff60c11824aed",
              "values": {
                "key": "kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek",
                "value": "shared",
                "resource_id": "subnet-00adff60c11824aed"
              },
              "address": "module.additional_subnet_tags[0].aws_ec2_tag.private_subnets_cluster_tags[\"subnet-00adff60c11824aed\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {}
            },
            {
              "mode": "managed",
              "name": "private_subnets_cluster_tags",
              "type": "aws_ec2_tag",
              "index": "subnet-09c6a3a806aee2f8d",
              "values": {
                "key": "kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek",
                "value": "shared",
                "resource_id": "subnet-09c6a3a806aee2f8d"
              },
              "address": "module.additional_subnet_tags[0].aws_ec2_tag.private_subnets_cluster_tags[\"subnet-09c6a3a806aee2f8d\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {}
            },
            {
              "mode": "managed",
              "name": "private_subnets_cluster_tags",
              "type": "aws_ec2_tag",
              "index": "subnet-0c81560eb05406dff",
              "values": {
                "key": "kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek",
                "value": "shared",
                "resource_id": "subnet-0c81560eb05406dff"
              },
              "address": "module.additional_subnet_tags[0].aws_ec2_tag.private_subnets_cluster_tags[\"subnet-0c81560eb05406dff\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {}
            },
            {
              "mode": "managed",
              "name": "public_subnets_cluster_tags",
              "type": "aws_ec2_tag",
              "index": "subnet-06d314e9e8df480d6",
              "values": {
                "key": "kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek",
                "value": "shared",
                "resource_id": "subnet-06d314e9e8df480d6"
              },
              "address": "module.additional_subnet_tags[0].aws_ec2_tag.public_subnets_cluster_tags[\"subnet-06d314e9e8df480d6\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {}
            },
            {
              "mode": "managed",
              "name": "public_subnets_cluster_tags",
              "type": "aws_ec2_tag",
              "index": "subnet-07b0abfa248cdf1dc",
              "values": {
                "key": "kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek",
                "value": "shared",
                "resource_id": "subnet-07b0abfa248cdf1dc"
              },
              "address": "module.additional_subnet_tags[0].aws_ec2_tag.public_subnets_cluster_tags[\"subnet-07b0abfa248cdf1dc\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {}
            },
            {
              "mode": "managed",
              "name": "public_subnets_cluster_tags",
              "type": "aws_ec2_tag",
              "index": "subnet-08835c2dfd063c6e9",
              "values": {
                "key": "kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek",
                "value": "shared",
                "resource_id": "subnet-08835c2dfd063c6e9"
              },
              "address": "module.additional_subnet_tags[0].aws_ec2_tag.public_subnets_cluster_tags[\"subnet-08835c2dfd063c6e9\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {}
            }
          ]
        },
        {
          "address": "module.ebs_csi_irsa",
          "resources": [
            {
              "mode": "managed",
              "name": "ebs_csi",
              "type": "aws_iam_policy",
              "index": 0,
              "values": {
                "path": "/",
                "tags": {
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "policy": "{\"Statement\":[{\"Action\":[\"ec2:ModifyVolume\",\"ec2:EnableFastSnapshotRestores\",\"ec2:DetachVolume\",\"ec2:DescribeVolumesModifications\",\"ec2:DescribeVolumes\",\"ec2:DescribeTags\",\"ec2:DescribeSnapshots\",\"ec2:DescribeInstances\",\"ec2:DescribeAvailabilityZones\",\"ec2:CreateSnapshot\",\"ec2:AttachVolume\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":\"ec2:CreateTags\",\"Condition\":{\"StringEquals\":{\"ec2:CreateAction\":[\"CreateVolume\",\"CreateSnapshot\"]}},\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:volume/*\",\"arn:aws:ec2:*:*:snapshot/*\"]},{\"Action\":\"ec2:DeleteTags\",\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:volume/*\",\"arn:aws:ec2:*:*:snapshot/*\"]},{\"Action\":\"ec2:CreateVolume\",\"Condition\":{\"StringLike\":{\"aws:RequestTag/ebs.csi.aws.com/cluster\":\"true\"}},\"Effect\":\"Allow\",\"Resource\":\"arn:aws:ec2:*:*:volume/*\"},{\"Action\":\"ec2:CreateVolume\",\"Condition\":{\"StringLike\":{\"aws:RequestTag/CSIVolumeName\":\"*\"}},\"Effect\":\"Allow\",\"Resource\":\"arn:aws:ec2:*:*:volume/*\"},{\"Action\":\"ec2:CreateVolume\",\"Condition\":{\"StringLike\":{\"aws:RequestTag/kubernetes.io/cluster/*\":\"owned\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":\"ec2:CreateVolume\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:ec2:*:*:snapshot/*\"},{\"Action\":\"ec2:DeleteVolume\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/ebs.csi.aws.com/cluster\":\"true\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":\"ec2:DeleteVolume\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/CSIVolumeName\":\"*\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":\"ec2:DeleteVolume\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/kubernetes.io/cluster/*\":\"owned\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":\"ec2:DeleteVolume\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/kubernetes.io/created-for/pvc/name\":\"*\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":\"ec2:DeleteSnapshot\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/CSIVolumeSnapshotName\":\"*\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":\"ec2:DeleteSnapshot\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/ebs.csi.aws.com/cluster\":\"true\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}",
                "tags_all": {
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "description": "Provides permissions to manage EBS volumes via the container storage interface driver",
                "name_prefix": "AmazonEKS_EBS_CSI_Policy-"
              },
              "address": "module.ebs_csi_irsa.aws_iam_policy.ebs_csi[0]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "mode": "managed",
              "name": "this",
              "type": "aws_iam_role",
              "index": 0,
              "values": {
                "name": "ebs-csi-inlr2e5a7mf3x9mbkh98p6bhek",
                "path": "/",
                "tags": {
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "tags_all": {
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "description": null,
                "max_session_duration": 3600,
                "permissions_boundary": null,
                "force_detach_policies": true
              },
              "address": "module.ebs_csi_irsa.aws_iam_role.this[0]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {
                "tags": {},
                "tags_all": {},
                "inline_policy": [],
                "managed_policy_arns": []
              }
            },
            {
              "mode": "managed",
              "name": "ebs_csi",
              "type": "aws_iam_role_policy_attachment",
              "index": 0,
              "values": {
                "role": "ebs-csi-inlr2e5a7mf3x9mbkh98p6bhek"
              },
              "address": "module.ebs_csi_irsa.aws_iam_role_policy_attachment.ebs_csi[0]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {}
            },
            {
              "mode": "data",
              "name": "this",
              "type": "aws_iam_policy_document",
              "index": 0,
              "values": {
                "version": null,
                "policy_id": null,
                "statement": [
                  {
                    "sid": null,
                    "effect": "Allow",
                    "actions": [
                      "sts:AssumeRoleWithWebIdentity"
                    ],
                    "condition": [
                      {
                        "test": "StringEquals",
                        "values": [
                          "sts.amazonaws.com"
                        ]
                      },
                      {
                        "test": "StringEquals",
                        "values": [
                          "system:serviceaccount:ebs-csi-controller:ebs-csi-controller-sa"
                        ]
                      }
                    ],
                    "resources": null,
                    "principals": [
                      {
                        "type": "Federated",
                        "identifiers": [
                          null
                        ]
                      }
                    ],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  }
                ],
                "source_json": null,
                "override_json": null,
                "source_policy_documents": null,
                "override_policy_documents": null
              },
              "address": "module.ebs_csi_irsa.data.aws_iam_policy_document.this[0]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {
                "statement": [
                  {
                    "actions": [
                      false
                    ],
                    "condition": [
                      {
                        "values": [
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      }
                    ],
                    "principals": [
                      {
                        "identifiers": [
                          false
                        ]
                      }
                    ],
                    "not_principals": []
                  }
                ]
              }
            }
          ]
        },
        {
          "address": "module.ecr",
          "resources": [
            {
              "mode": "managed",
              "name": "this",
              "type": "aws_ecr_repository",
              "index": 0,
              "values": {
                "name": "inlr2e5a7mf3x9mbkh98p6bhek",
                "tags": {
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "tags_all": {
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "timeouts": null,
                "force_delete": true,
                "image_tag_mutability": "MUTABLE",
                "encryption_configuration": [
                  {
                    "encryption_type": "KMS"
                  }
                ],
                "image_scanning_configuration": [
                  {
                    "scan_on_push": false
                  }
                ]
              },
              "address": "module.ecr.aws_ecr_repository.this[0]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {
                "tags": {},
                "tags_all": {},
                "encryption_configuration": [
                  {}
                ],
                "image_scanning_configuration": [
                  {}
                ]
              }
            }
          ]
        },
        {
          "address": "module.eks",
          "resources": [
            {
              "mode": "managed",
              "name": "this",
              "type": "aws_cloudwatch_log_group",
              "index": 0,
              "values": {
                "name": "/aws/eks/n-inlr2e5a7mf3x9mbkh98p6bhek/cluster",
                "tags": {
                  "Name": "/aws/eks/n-inlr2e5a7mf3x9mbkh98p6bhek/cluster",
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "tags_all": {
                  "Name": "/aws/eks/n-inlr2e5a7mf3x9mbkh98p6bhek/cluster",
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "kms_key_id": null,
                "skip_destroy": false,
                "retention_in_days": 90
              },
              "address": "module.eks.aws_cloudwatch_log_group.this[0]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "mode": "managed",
              "name": "cluster_primary_security_group",
              "type": "aws_ec2_tag",
              "index": "NUON_INSTALL_ID",
              "values": {
                "key": "NUON_INSTALL_ID",
                "value": "inlr2e5a7mf3x9mbkh98p6bhek"
              },
              "address": "module.eks.aws_ec2_tag.cluster_primary_security_group[\"NUON_INSTALL_ID\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {}
            },
            {
              "mode": "managed",
              "name": "cluster_primary_security_group",
              "type": "aws_ec2_tag",
              "index": "install.nuon.co/id",
              "values": {
                "key": "install.nuon.co/id",
                "value": "inlr2e5a7mf3x9mbkh98p6bhek"
              },
              "address": "module.eks.aws_ec2_tag.cluster_primary_security_group[\"install.nuon.co/id\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {}
            },
            {
              "mode": "managed",
              "name": "cluster_primary_security_group",
              "type": "aws_ec2_tag",
              "index": "karpenter.sh/discovery",
              "values": {
                "key": "karpenter.sh/discovery",
                "value": "n-inlr2e5a7mf3x9mbkh98p6bhek"
              },
              "address": "module.eks.aws_ec2_tag.cluster_primary_security_group[\"karpenter.sh/discovery\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {}
            },
            {
              "mode": "managed",
              "name": "cluster_primary_security_group",
              "type": "aws_ec2_tag",
              "index": "sandbox.nuon.co/name",
              "values": {
                "key": "sandbox.nuon.co/name",
                "value": "aws-eks"
              },
              "address": "module.eks.aws_ec2_tag.cluster_primary_security_group[\"sandbox.nuon.co/name\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {}
            },
            {
              "mode": "managed",
              "name": "cluster_primary_security_group",
              "type": "aws_ec2_tag",
              "index": "sandbox.nuon.co/variant",
              "values": {
                "key": "sandbox.nuon.co/variant",
                "value": "karpenter"
              },
              "address": "module.eks.aws_ec2_tag.cluster_primary_security_group[\"sandbox.nuon.co/variant\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {}
            },
            {
              "mode": "managed",
              "name": "this",
              "type": "aws_eks_access_entry",
              "index": "deprovision",
              "values": {
                "tags": {
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "type": "STANDARD",
                "tags_all": {
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "timeouts": null,
                "principal_arn": "arn:aws:iam::949309607565:role/inlr2e5a7mf3x9mbkh98p6bhek-deprovision",
                "kubernetes_groups": [
                  "deprovision"
                ]
              },
              "address": "module.eks.aws_eks_access_entry.this[\"deprovision\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {
                "tags": {},
                "tags_all": {},
                "kubernetes_groups": [
                  false
                ]
              }
            },
            {
              "mode": "managed",
              "name": "this",
              "type": "aws_eks_access_entry",
              "index": "maintenance",
              "values": {
                "tags": {
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "type": "STANDARD",
                "tags_all": {
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "timeouts": null,
                "principal_arn": "arn:aws:iam::949309607565:role/inlr2e5a7mf3x9mbkh98p6bhek-maintenance",
                "kubernetes_groups": [
                  "maintenance"
                ]
              },
              "address": "module.eks.aws_eks_access_entry.this[\"maintenance\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {
                "tags": {},
                "tags_all": {},
                "kubernetes_groups": [
                  false
                ]
              }
            },
            {
              "mode": "managed",
              "name": "this",
              "type": "aws_eks_access_entry",
              "index": "provision",
              "values": {
                "tags": {
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "type": "STANDARD",
                "tags_all": {
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "timeouts": null,
                "principal_arn": "arn:aws:iam::949309607565:role/inlr2e5a7mf3x9mbkh98p6bhek-provision",
                "kubernetes_groups": [
                  "provision"
                ]
              },
              "address": "module.eks.aws_eks_access_entry.this[\"provision\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {
                "tags": {},
                "tags_all": {},
                "kubernetes_groups": [
                  false
                ]
              }
            },
            {
              "mode": "managed",
              "name": "this",
              "type": "aws_eks_access_policy_association",
              "index": "deprovision_cluster_admin",
              "values": {
                "timeouts": null,
                "policy_arn": "arn:aws:eks::aws:cluster-access-policy/AmazonEKSClusterAdminPolicy",
                "access_scope": [
                  {
                    "type": "cluster",
                    "namespaces": null
                  }
                ],
                "principal_arn": "arn:aws:iam::949309607565:role/inlr2e5a7mf3x9mbkh98p6bhek-deprovision"
              },
              "address": "module.eks.aws_eks_access_policy_association.this[\"deprovision_cluster_admin\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {
                "access_scope": [
                  {}
                ]
              }
            },
            {
              "mode": "managed",
              "name": "this",
              "type": "aws_eks_access_policy_association",
              "index": "deprovision_eks_admin",
              "values": {
                "timeouts": null,
                "policy_arn": "arn:aws:eks::aws:cluster-access-policy/AmazonEKSAdminPolicy",
                "access_scope": [
                  {
                    "type": "cluster",
                    "namespaces": null
                  }
                ],
                "principal_arn": "arn:aws:iam::949309607565:role/inlr2e5a7mf3x9mbkh98p6bhek-deprovision"
              },
              "address": "module.eks.aws_eks_access_policy_association.this[\"deprovision_eks_admin\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {
                "access_scope": [
                  {}
                ]
              }
            },
            {
              "mode": "managed",
              "name": "this",
              "type": "aws_eks_access_policy_association",
              "index": "maintenance_eks_admin",
              "values": {
                "timeouts": null,
                "policy_arn": "arn:aws:eks::aws:cluster-access-policy/AmazonEKSAdminPolicy",
                "access_scope": [
                  {
                    "type": "cluster",
                    "namespaces": null
                  }
                ],
                "principal_arn": "arn:aws:iam::949309607565:role/inlr2e5a7mf3x9mbkh98p6bhek-maintenance"
              },
              "address": "module.eks.aws_eks_access_policy_association.this[\"maintenance_eks_admin\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {
                "access_scope": [
                  {}
                ]
              }
            },
            {
              "mode": "managed",
              "name": "this",
              "type": "aws_eks_access_policy_association",
              "index": "maintenance_eks_view",
              "values": {
                "timeouts": null,
                "policy_arn": "arn:aws:eks::aws:cluster-access-policy/AmazonEKSClusterAdminPolicy",
                "access_scope": [
                  {
                    "type": "cluster",
                    "namespaces": null
                  }
                ],
                "principal_arn": "arn:aws:iam::949309607565:role/inlr2e5a7mf3x9mbkh98p6bhek-maintenance"
              },
              "address": "module.eks.aws_eks_access_policy_association.this[\"maintenance_eks_view\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {
                "access_scope": [
                  {}
                ]
              }
            },
            {
              "mode": "managed",
              "name": "this",
              "type": "aws_eks_access_policy_association",
              "index": "provision_cluster_admin",
              "values": {
                "timeouts": null,
                "policy_arn": "arn:aws:eks::aws:cluster-access-policy/AmazonEKSClusterAdminPolicy",
                "access_scope": [
                  {
                    "type": "cluster",
                    "namespaces": null
                  }
                ],
                "principal_arn": "arn:aws:iam::949309607565:role/inlr2e5a7mf3x9mbkh98p6bhek-provision"
              },
              "address": "module.eks.aws_eks_access_policy_association.this[\"provision_cluster_admin\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {
                "access_scope": [
                  {}
                ]
              }
            },
            {
              "mode": "managed",
              "name": "this",
              "type": "aws_eks_access_policy_association",
              "index": "provision_eks_admin",
              "values": {
                "timeouts": null,
                "policy_arn": "arn:aws:eks::aws:cluster-access-policy/AmazonEKSAdminPolicy",
                "access_scope": [
                  {
                    "type": "cluster",
                    "namespaces": null
                  }
                ],
                "principal_arn": "arn:aws:iam::949309607565:role/inlr2e5a7mf3x9mbkh98p6bhek-provision"
              },
              "address": "module.eks.aws_eks_access_policy_association.this[\"provision_eks_admin\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {
                "access_scope": [
                  {}
                ]
              }
            },
            {
              "mode": "managed",
              "name": "this",
              "type": "aws_eks_addon",
              "index": "coredns",
              "values": {
                "tags": {
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "preserve": true,
                "tags_all": {
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "timeouts": {
                  "create": null,
                  "delete": null,
                  "update": null
                },
                "addon_name": "coredns",
                "resolve_conflicts": null,
                "configuration_values": "{\"tolerations\":[{\"effect\":\"NoSchedule\",\"key\":\"karpenter.sh/controller\",\"value\":\"true\"},{\"effect\":\"NoSchedule\",\"key\":\"CriticalAddonsOnly\",\"value\":\"true\"}]}",
                "pod_identity_association": [],
                "service_account_role_arn": null,
                "resolve_conflicts_on_create": "OVERWRITE",
                "resolve_conflicts_on_update": "OVERWRITE"
              },
              "address": "module.eks.aws_eks_addon.this[\"coredns\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {
                "tags": {},
                "tags_all": {},
                "timeouts": {},
                "pod_identity_association": []
              }
            },
            {
              "mode": "managed",
              "name": "this",
              "type": "aws_eks_addon",
              "index": "eks-pod-identity-agent",
              "values": {
                "tags": {
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "preserve": true,
                "tags_all": {
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "timeouts": {
                  "create": null,
                  "delete": null,
                  "update": null
                },
                "addon_name": "eks-pod-identity-agent",
                "resolve_conflicts": null,
                "pod_identity_association": [],
                "service_account_role_arn": null,
                "resolve_conflicts_on_create": "OVERWRITE",
                "resolve_conflicts_on_update": "OVERWRITE"
              },
              "address": "module.eks.aws_eks_addon.this[\"eks-pod-identity-agent\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {
                "tags": {},
                "tags_all": {},
                "timeouts": {},
                "pod_identity_association": []
              }
            },
            {
              "mode": "managed",
              "name": "this",
              "type": "aws_eks_addon",
              "index": "kube-proxy",
              "values": {
                "tags": {
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "preserve": true,
                "tags_all": {
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "timeouts": {
                  "create": null,
                  "delete": null,
                  "update": null
                },
                "addon_name": "kube-proxy",
                "resolve_conflicts": null,
                "pod_identity_association": [],
                "service_account_role_arn": null,
                "resolve_conflicts_on_create": "OVERWRITE",
                "resolve_conflicts_on_update": "OVERWRITE"
              },
              "address": "module.eks.aws_eks_addon.this[\"kube-proxy\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {
                "tags": {},
                "tags_all": {},
                "timeouts": {},
                "pod_identity_association": []
              }
            },
            {
              "mode": "managed",
              "name": "this",
              "type": "aws_eks_addon",
              "index": "vpc-cni",
              "values": {
                "tags": {
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "preserve": true,
                "tags_all": {
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "timeouts": {
                  "create": null,
                  "delete": null,
                  "update": null
                },
                "addon_name": "vpc-cni",
                "resolve_conflicts": null,
                "pod_identity_association": [],
                "service_account_role_arn": null,
                "resolve_conflicts_on_create": "OVERWRITE",
                "resolve_conflicts_on_update": "OVERWRITE"
              },
              "address": "module.eks.aws_eks_addon.this[\"vpc-cni\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {
                "tags": {},
                "tags_all": {},
                "timeouts": {},
                "pod_identity_association": []
              }
            },
            {
              "mode": "managed",
              "name": "this",
              "type": "aws_eks_cluster",
              "index": 0,
              "values": {
                "name": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                "tags": {
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "terraform-aws-modules": "eks",
                  "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "version": "1.33",
                "tags_all": {
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "terraform-aws-modules": "eks",
                  "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "timeouts": {
                  "create": null,
                  "delete": null,
                  "update": null
                },
                "vpc_config": [
                  {
                    "subnet_ids": [
                      "subnet-00adff60c11824aed",
                      "subnet-09c6a3a806aee2f8d",
                      "subnet-0c81560eb05406dff"
                    ],
                    "public_access_cidrs": [
                      "0.0.0.0/0"
                    ],
                    "endpoint_public_access": true,
                    "endpoint_private_access": true
                  }
                ],
                "access_config": [
                  {
                    "authentication_mode": "API_AND_CONFIG_MAP",
                    "bootstrap_cluster_creator_admin_permissions": false
                  }
                ],
                "compute_config": [],
                "outpost_config": [],
                "storage_config": [],
                "encryption_config": [
                  {
                    "provider": [
                      {}
                    ],
                    "resources": [
                      "secrets"
                    ]
                  }
                ],
                "zonal_shift_config": [],
                "remote_network_config": [],
                "enabled_cluster_log_types": [
                  "api",
                  "audit",
                  "authenticator"
                ],
                "kubernetes_network_config": [
                  {
                    "ip_family": "ipv4"
                  }
                ],
                "bootstrap_self_managed_addons": true
              },
              "address": "module.eks.aws_eks_cluster.this[0]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "sensitive_values": {
                "tags": {},
                "identity": [],
                "tags_all": {},
                "timeouts": {},
                "vpc_config": [
                  {
                    "subnet_ids": [
                      false,
                      false,
                      false
                    ],
                    "security_group_ids": [],
                    "public_access_cidrs": [
                      false
                    ]
                  }
                ],
                "access_config": [
                  {}
                ],
                "compute_config": [],
                "outpost_config": [],
                "storage_config": [],
                "upgrade_policy": [],
                "encryption_config": [
                  {
                    "provider": [
                      {}
                    ],
                    "resources": [
                      false
                    ]
                  }
                ],
                "zonal_shift_config": [],
                "certificate_authority": [],
                "remote_network_config": [],
                "enabled_cluster_log_types": [
                  false,
                  false,
                  false
                ],
                "kubernetes_network_config": [
                  {
                    "elastic_load_balancing": []
                  }
                ]
              }
            },
            {
              "mode": "managed",
              "name": "oidc_provider",
              "type": "aws_iam_openid_connect_provider",
              "index": 0,
              "values": {
                "tags": {
                  "Name": "n-inlr2e5a7mf3x9mbkh98p6bhek-eks-irsa",
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "tags_all": {
                  "Name": "n-inlr2e5a7mf3x9mbkh98p6bhek-eks-irsa",
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "client_id_list": [
                  "sts.amazonaws.com"
                ]
              },
              "address": "module.eks.aws_iam_openid_connect_provider.oidc_provider[0]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {
                "tags": {},
                "tags_all": {},
                "client_id_list": [
                  false
                ],
                "thumbprint_list": []
              }
            },
            {
              "mode": "managed",
              "name": "cluster_encryption",
              "type": "aws_iam_policy",
              "index": 0,
              "values": {
                "path": "/",
                "tags": {
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "tags_all": {
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "description": "Cluster encryption policy to allow cluster role to utilize CMK provided",
                "name_prefix": "n-inlr2e5a7mf3x9mbkh98p6bhek-cluster-ClusterEncryption"
              },
              "address": "module.eks.aws_iam_policy.cluster_encryption[0]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "mode": "managed",
              "name": "custom",
              "type": "aws_iam_policy",
              "index": 0,
              "values": {
                "path": "/",
                "tags": {
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "policy": "{\"Statement\":[{\"Action\":[\"ec2:RunInstances\",\"ec2:CreateLaunchTemplate\",\"ec2:CreateFleet\"],\"Condition\":{\"StringEquals\":{\"aws:RequestTag/eks:eks-cluster-name\":\"${aws:PrincipalTag/eks:eks-cluster-name}\"},\"StringLike\":{\"aws:RequestTag/eks:kubernetes-node-class-name\":\"*\",\"aws:RequestTag/eks:kubernetes-node-pool-name\":\"*\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"Compute\"},{\"Action\":[\"ec2:CreateVolume\",\"ec2:CreateSnapshot\"],\"Condition\":{\"StringEquals\":{\"aws:RequestTag/eks:eks-cluster-name\":\"${aws:PrincipalTag/eks:eks-cluster-name}\"}},\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:volume/*\",\"arn:aws:ec2:*:*:snapshot/*\"],\"Sid\":\"Storage\"},{\"Action\":\"ec2:CreateNetworkInterface\",\"Condition\":{\"StringEquals\":{\"aws:RequestTag/eks:eks-cluster-name\":\"${aws:PrincipalTag/eks:eks-cluster-name}\",\"aws:RequestTag/eks:kubernetes-cni-node-name\":\"*\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"Networking\"},{\"Action\":[\"elasticloadbalancing:CreateTargetGroup\",\"elasticloadbalancing:CreateRule\",\"elasticloadbalancing:CreateLoadBalancer\",\"elasticloadbalancing:CreateListener\",\"ec2:CreateSecurityGroup\"],\"Condition\":{\"StringEquals\":{\"aws:RequestTag/eks:eks-cluster-name\":\"${aws:PrincipalTag/eks:eks-cluster-name}\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"LoadBalancer\"},{\"Action\":\"shield:CreateProtection\",\"Condition\":{\"StringEquals\":{\"aws:RequestTag/eks:eks-cluster-name\":\"${aws:PrincipalTag/eks:eks-cluster-name}\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"ShieldProtection\"},{\"Action\":\"shield:TagResource\",\"Condition\":{\"StringEquals\":{\"aws:RequestTag/eks:eks-cluster-name\":\"${aws:PrincipalTag/eks:eks-cluster-name}\"}},\"Effect\":\"Allow\",\"Resource\":\"arn:aws:shield::*:protection/*\",\"Sid\":\"ShieldTagResource\"}],\"Version\":\"2012-10-17\"}",
                "tags_all": {
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "description": null,
                "name_prefix": "n-inlr2e5a7mf3x9mbkh98p6bhek-cluster-"
              },
              "address": "module.eks.aws_iam_policy.custom[0]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "mode": "managed",
              "name": "this",
              "type": "aws_iam_role",
              "index": 0,
              "values": {
                "path": "/",
                "tags": {
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "tags_all": {
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "description": null,
                "name_prefix": "n-inlr2e5a7mf3x9mbkh98p6bhek-cluster-",
                "assume_role_policy": "{\"Statement\":[{\"Action\":[\"sts:TagSession\",\"sts:AssumeRole\"],\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"eks.amazonaws.com\"},\"Sid\":\"EKSClusterAssumeRole\"}],\"Version\":\"2012-10-17\"}",
                "max_session_duration": 3600,
                "permissions_boundary": null,
                "force_detach_policies": true
              },
              "address": "module.eks.aws_iam_role.this[0]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {
                "tags": {},
                "tags_all": {},
                "inline_policy": [],
                "managed_policy_arns": []
              }
            },
            {
              "mode": "managed",
              "name": "cluster_encryption",
              "type": "aws_iam_role_policy_attachment",
              "index": 0,
              "address": "module.eks.aws_iam_role_policy_attachment.cluster_encryption[0]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {}
            },
            {
              "mode": "managed",
              "name": "custom",
              "type": "aws_iam_role_policy_attachment",
              "index": 0,
              "address": "module.eks.aws_iam_role_policy_attachment.custom[0]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {}
            },
            {
              "mode": "managed",
              "name": "this",
              "type": "aws_iam_role_policy_attachment",
              "index": "AmazonEKSClusterPolicy",
              "values": {
                "policy_arn": "arn:aws:iam::aws:policy/AmazonEKSClusterPolicy"
              },
              "address": "module.eks.aws_iam_role_policy_attachment.this[\"AmazonEKSClusterPolicy\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {}
            },
            {
              "mode": "managed",
              "name": "this",
              "type": "aws_iam_role_policy_attachment",
              "index": "AmazonEKSVPCResourceController",
              "values": {
                "policy_arn": "arn:aws:iam::aws:policy/AmazonEKSVPCResourceController"
              },
              "address": "module.eks.aws_iam_role_policy_attachment.this[\"AmazonEKSVPCResourceController\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {}
            },
            {
              "mode": "managed",
              "name": "cluster",
              "type": "aws_security_group",
              "index": 0,
              "values": {
                "tags": {
                  "Name": "n-inlr2e5a7mf3x9mbkh98p6bhek-cluster",
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "vpc_id": "vpc-0a878a1b9409f2d67",
                "tags_all": {
                  "Name": "n-inlr2e5a7mf3x9mbkh98p6bhek-cluster",
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "timeouts": null,
                "description": "EKS cluster security group",
                "name_prefix": "n-inlr2e5a7mf3x9mbkh98p6bhek-cluster-",
                "revoke_rules_on_delete": false
              },
              "address": "module.eks.aws_security_group.cluster[0]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "sensitive_values": {
                "tags": {},
                "egress": [],
                "ingress": [],
                "tags_all": {}
              }
            },
            {
              "mode": "managed",
              "name": "node",
              "type": "aws_security_group",
              "index": 0,
              "values": {
                "tags": {
                  "Name": "n-inlr2e5a7mf3x9mbkh98p6bhek-node",
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "vpc_id": "vpc-0a878a1b9409f2d67",
                "tags_all": {
                  "Name": "n-inlr2e5a7mf3x9mbkh98p6bhek-node",
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "timeouts": null,
                "description": "EKS node shared security group",
                "name_prefix": "n-inlr2e5a7mf3x9mbkh98p6bhek-node-",
                "revoke_rules_on_delete": false
              },
              "address": "module.eks.aws_security_group.node[0]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "sensitive_values": {
                "tags": {},
                "egress": [],
                "ingress": [],
                "tags_all": {}
              }
            },
            {
              "mode": "managed",
              "name": "cluster",
              "type": "aws_security_group_rule",
              "index": "ingress_nodes_443",
              "values": {
                "self": false,
                "type": "ingress",
                "to_port": 443,
                "protocol": "tcp",
                "timeouts": null,
                "from_port": 443,
                "cidr_blocks": null,
                "description": "Node groups to cluster API",
                "prefix_list_ids": null,
                "ipv6_cidr_blocks": null
              },
              "address": "module.eks.aws_security_group_rule.cluster[\"ingress_nodes_443\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 2,
              "sensitive_values": {}
            },
            {
              "mode": "managed",
              "name": "node",
              "type": "aws_security_group_rule",
              "index": "egress_all",
              "values": {
                "self": false,
                "type": "egress",
                "to_port": 0,
                "protocol": "-1",
                "timeouts": null,
                "from_port": 0,
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Allow all egress",
                "prefix_list_ids": [],
                "ipv6_cidr_blocks": null
              },
              "address": "module.eks.aws_security_group_rule.node[\"egress_all\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 2,
              "sensitive_values": {
                "cidr_blocks": [
                  false
                ],
                "prefix_list_ids": []
              }
            },
            {
              "mode": "managed",
              "name": "node",
              "type": "aws_security_group_rule",
              "index": "ingress_cluster_443",
              "values": {
                "self": false,
                "type": "ingress",
                "to_port": 443,
                "protocol": "tcp",
                "timeouts": null,
                "from_port": 443,
                "cidr_blocks": null,
                "description": "Cluster API to node groups",
                "prefix_list_ids": [],
                "ipv6_cidr_blocks": null
              },
              "address": "module.eks.aws_security_group_rule.node[\"ingress_cluster_443\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 2,
              "sensitive_values": {
                "prefix_list_ids": []
              }
            },
            {
              "mode": "managed",
              "name": "node",
              "type": "aws_security_group_rule",
              "index": "ingress_cluster_4443_webhook",
              "values": {
                "self": false,
                "type": "ingress",
                "to_port": 4443,
                "protocol": "tcp",
                "timeouts": null,
                "from_port": 4443,
                "cidr_blocks": null,
                "description": "Cluster API to node 4443/tcp webhook",
                "prefix_list_ids": [],
                "ipv6_cidr_blocks": null
              },
              "address": "module.eks.aws_security_group_rule.node[\"ingress_cluster_4443_webhook\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 2,
              "sensitive_values": {
                "prefix_list_ids": []
              }
            },
            {
              "mode": "managed",
              "name": "node",
              "type": "aws_security_group_rule",
              "index": "ingress_cluster_6443_webhook",
              "values": {
                "self": false,
                "type": "ingress",
                "to_port": 6443,
                "protocol": "tcp",
                "timeouts": null,
                "from_port": 6443,
                "cidr_blocks": null,
                "description": "Cluster API to node 6443/tcp webhook",
                "prefix_list_ids": [],
                "ipv6_cidr_blocks": null
              },
              "address": "module.eks.aws_security_group_rule.node[\"ingress_cluster_6443_webhook\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 2,
              "sensitive_values": {
                "prefix_list_ids": []
              }
            },
            {
              "mode": "managed",
              "name": "node",
              "type": "aws_security_group_rule",
              "index": "ingress_cluster_8443_webhook",
              "values": {
                "self": false,
                "type": "ingress",
                "to_port": 8443,
                "protocol": "tcp",
                "timeouts": null,
                "from_port": 8443,
                "cidr_blocks": null,
                "description": "Cluster API to node 8443/tcp webhook",
                "prefix_list_ids": [],
                "ipv6_cidr_blocks": null
              },
              "address": "module.eks.aws_security_group_rule.node[\"ingress_cluster_8443_webhook\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 2,
              "sensitive_values": {
                "prefix_list_ids": []
              }
            },
            {
              "mode": "managed",
              "name": "node",
              "type": "aws_security_group_rule",
              "index": "ingress_cluster_9443_webhook",
              "values": {
                "self": false,
                "type": "ingress",
                "to_port": 9443,
                "protocol": "tcp",
                "timeouts": null,
                "from_port": 9443,
                "cidr_blocks": null,
                "description": "Cluster API to node 9443/tcp webhook",
                "prefix_list_ids": [],
                "ipv6_cidr_blocks": null
              },
              "address": "module.eks.aws_security_group_rule.node[\"ingress_cluster_9443_webhook\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 2,
              "sensitive_values": {
                "prefix_list_ids": []
              }
            },
            {
              "mode": "managed",
              "name": "node",
              "type": "aws_security_group_rule",
              "index": "ingress_cluster_kubelet",
              "values": {
                "self": false,
                "type": "ingress",
                "to_port": 10250,
                "protocol": "tcp",
                "timeouts": null,
                "from_port": 10250,
                "cidr_blocks": null,
                "description": "Cluster API to node kubelets",
                "prefix_list_ids": [],
                "ipv6_cidr_blocks": null
              },
              "address": "module.eks.aws_security_group_rule.node[\"ingress_cluster_kubelet\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 2,
              "sensitive_values": {
                "prefix_list_ids": []
              }
            },
            {
              "mode": "managed",
              "name": "node",
              "type": "aws_security_group_rule",
              "index": "ingress_nodes_ephemeral",
              "values": {
                "self": true,
                "type": "ingress",
                "to_port": 65535,
                "protocol": "tcp",
                "timeouts": null,
                "from_port": 1025,
                "cidr_blocks": null,
                "description": "Node to node ingress on ephemeral ports",
                "prefix_list_ids": [],
                "ipv6_cidr_blocks": null
              },
              "address": "module.eks.aws_security_group_rule.node[\"ingress_nodes_ephemeral\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 2,
              "sensitive_values": {
                "prefix_list_ids": []
              }
            },
            {
              "mode": "managed",
              "name": "node",
              "type": "aws_security_group_rule",
              "index": "ingress_self_coredns_tcp",
              "values": {
                "self": true,
                "type": "ingress",
                "to_port": 53,
                "protocol": "tcp",
                "timeouts": null,
                "from_port": 53,
                "cidr_blocks": null,
                "description": "Node to node CoreDNS",
                "prefix_list_ids": [],
                "ipv6_cidr_blocks": null
              },
              "address": "module.eks.aws_security_group_rule.node[\"ingress_self_coredns_tcp\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 2,
              "sensitive_values": {
                "prefix_list_ids": []
              }
            },
            {
              "mode": "managed",
              "name": "node",
              "type": "aws_security_group_rule",
              "index": "ingress_self_coredns_udp",
              "values": {
                "self": true,
                "type": "ingress",
                "to_port": 53,
                "protocol": "udp",
                "timeouts": null,
                "from_port": 53,
                "cidr_blocks": null,
                "description": "Node to node CoreDNS UDP",
                "prefix_list_ids": [],
                "ipv6_cidr_blocks": null
              },
              "address": "module.eks.aws_security_group_rule.node[\"ingress_self_coredns_udp\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 2,
              "sensitive_values": {
                "prefix_list_ids": []
              }
            },
            {
              "mode": "data",
              "name": "this",
              "type": "aws_eks_addon_version",
              "index": "coredns",
              "values": {
                "addon_name": "coredns",
                "most_recent": null,
                "kubernetes_version": "1.33"
              },
              "address": "module.eks.data.aws_eks_addon_version.this[\"coredns\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {}
            },
            {
              "mode": "data",
              "name": "this",
              "type": "aws_eks_addon_version",
              "index": "eks-pod-identity-agent",
              "values": {
                "addon_name": "eks-pod-identity-agent",
                "most_recent": null,
                "kubernetes_version": "1.33"
              },
              "address": "module.eks.data.aws_eks_addon_version.this[\"eks-pod-identity-agent\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {}
            },
            {
              "mode": "data",
              "name": "this",
              "type": "aws_eks_addon_version",
              "index": "kube-proxy",
              "values": {
                "addon_name": "kube-proxy",
                "most_recent": null,
                "kubernetes_version": "1.33"
              },
              "address": "module.eks.data.aws_eks_addon_version.this[\"kube-proxy\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {}
            },
            {
              "mode": "data",
              "name": "this",
              "type": "aws_eks_addon_version",
              "index": "vpc-cni",
              "values": {
                "addon_name": "vpc-cni",
                "most_recent": true,
                "kubernetes_version": "1.33"
              },
              "address": "module.eks.data.aws_eks_addon_version.this[\"vpc-cni\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {}
            },
            {
              "mode": "data",
              "name": "this",
              "type": "tls_certificate",
              "index": 0,
              "values": {
                "content": null,
                "verify_chain": null
              },
              "address": "module.eks.data.tls_certificate.this[0]",
              "provider_name": "registry.terraform.io/hashicorp/tls",
              "schema_version": 0,
              "sensitive_values": {
                "certificates": []
              }
            },
            {
              "mode": "managed",
              "name": "this",
              "type": "time_sleep",
              "index": 0,
              "values": {
                "triggers": {
                  "cluster_version": "1.33"
                },
                "create_duration": "30s",
                "destroy_duration": null
              },
              "address": "module.eks.time_sleep.this[0]",
              "provider_name": "registry.terraform.io/hashicorp/time",
              "schema_version": 0,
              "sensitive_values": {
                "triggers": {}
              }
            }
          ],
          "child_modules": [
            {
              "address": "module.eks.module.eks_managed_node_group[\"karpenter\"]",
              "resources": [
                {
                  "mode": "managed",
                  "name": "this",
                  "type": "aws_eks_node_group",
                  "index": 0,
                  "values": {
                    "tags": {
                      "Name": "karpenter",
                      "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                      "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                      "sandbox.nuon.co/name": "aws-eks",
                      "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                      "sandbox.nuon.co/variant": "karpenter"
                    },
                    "taint": [
                      {
                        "key": "karpenter.sh/controller",
                        "value": "true",
                        "effect": "NO_SCHEDULE"
                      }
                    ],
                    "labels": {
                      "karpenter.sh/controller": "true"
                    },
                    "version": "1.33",
                    "tags_all": {
                      "Name": "karpenter",
                      "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                      "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                      "sandbox.nuon.co/name": "aws-eks",
                      "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                      "sandbox.nuon.co/variant": "karpenter"
                    },
                    "timeouts": {
                      "create": null,
                      "delete": null,
                      "update": null
                    },
                    "subnet_ids": [
                      "subnet-00adff60c11824aed",
                      "subnet-09c6a3a806aee2f8d",
                      "subnet-0c81560eb05406dff"
                    ],
                    "remote_access": [],
                    "update_config": [
                      {
                        "max_unavailable": null,
                        "max_unavailable_percentage": 33
                      }
                    ],
                    "instance_types": [
                      "t3a.medium"
                    ],
                    "scaling_config": [
                      {
                        "max_size": 5,
                        "min_size": 2,
                        "desired_size": 3
                      }
                    ],
                    "launch_template": [
                      {}
                    ],
                    "force_update_version": null,
                    "node_group_name_prefix": "karpenter-"
                  },
                  "address": "module.eks.module.eks_managed_node_group[\"karpenter\"].aws_eks_node_group.this[0]",
                  "provider_name": "registry.terraform.io/hashicorp/aws",
                  "schema_version": 0,
                  "sensitive_values": {
                    "tags": {},
                    "taint": [
                      {}
                    ],
                    "labels": {},
                    "tags_all": {},
                    "timeouts": {},
                    "resources": [],
                    "subnet_ids": [
                      false,
                      false,
                      false
                    ],
                    "remote_access": [],
                    "update_config": [
                      {}
                    ],
                    "instance_types": [
                      false
                    ],
                    "scaling_config": [
                      {}
                    ],
                    "launch_template": [
                      {}
                    ],
                    "node_repair_config": []
                  }
                },
                {
                  "mode": "managed",
                  "name": "this",
                  "type": "aws_iam_role",
                  "index": 0,
                  "values": {
                    "path": "/",
                    "tags": {
                      "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                      "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                      "sandbox.nuon.co/name": "aws-eks",
                      "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                      "sandbox.nuon.co/variant": "karpenter"
                    },
                    "tags_all": {
                      "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                      "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                      "sandbox.nuon.co/name": "aws-eks",
                      "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                      "sandbox.nuon.co/variant": "karpenter"
                    },
                    "description": "EKS managed node group IAM role",
                    "name_prefix": "karpenter-eks-node-group-",
                    "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"},\"Sid\":\"EKSNodeAssumeRole\"}],\"Version\":\"2012-10-17\"}",
                    "max_session_duration": 3600,
                    "permissions_boundary": null,
                    "force_detach_policies": true
                  },
                  "address": "module.eks.module.eks_managed_node_group[\"karpenter\"].aws_iam_role.this[0]",
                  "provider_name": "registry.terraform.io/hashicorp/aws",
                  "schema_version": 0,
                  "sensitive_values": {
                    "tags": {},
                    "tags_all": {},
                    "inline_policy": [],
                    "managed_policy_arns": []
                  }
                },
                {
                  "mode": "managed",
                  "name": "additional",
                  "type": "aws_iam_role_policy_attachment",
                  "index": "additional",
                  "values": {
                    "policy_arn": "arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore"
                  },
                  "address": "module.eks.module.eks_managed_node_group[\"karpenter\"].aws_iam_role_policy_attachment.additional[\"additional\"]",
                  "provider_name": "registry.terraform.io/hashicorp/aws",
                  "schema_version": 0,
                  "sensitive_values": {}
                },
                {
                  "mode": "managed",
                  "name": "this",
                  "type": "aws_iam_role_policy_attachment",
                  "index": "AmazonEC2ContainerRegistryReadOnly",
                  "values": {
                    "policy_arn": "arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly"
                  },
                  "address": "module.eks.module.eks_managed_node_group[\"karpenter\"].aws_iam_role_policy_attachment.this[\"AmazonEC2ContainerRegistryReadOnly\"]",
                  "provider_name": "registry.terraform.io/hashicorp/aws",
                  "schema_version": 0,
                  "sensitive_values": {}
                },
                {
                  "mode": "managed",
                  "name": "this",
                  "type": "aws_iam_role_policy_attachment",
                  "index": "AmazonEKSWorkerNodePolicy",
                  "values": {
                    "policy_arn": "arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy"
                  },
                  "address": "module.eks.module.eks_managed_node_group[\"karpenter\"].aws_iam_role_policy_attachment.this[\"AmazonEKSWorkerNodePolicy\"]",
                  "provider_name": "registry.terraform.io/hashicorp/aws",
                  "schema_version": 0,
                  "sensitive_values": {}
                },
                {
                  "mode": "managed",
                  "name": "this",
                  "type": "aws_iam_role_policy_attachment",
                  "index": "AmazonEKS_CNI_Policy",
                  "values": {
                    "policy_arn": "arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy"
                  },
                  "address": "module.eks.module.eks_managed_node_group[\"karpenter\"].aws_iam_role_policy_attachment.this[\"AmazonEKS_CNI_Policy\"]",
                  "provider_name": "registry.terraform.io/hashicorp/aws",
                  "schema_version": 0,
                  "sensitive_values": {}
                },
                {
                  "mode": "managed",
                  "name": "this",
                  "type": "aws_launch_template",
                  "index": 0,
                  "values": {
                    "tags": {
                      "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                      "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                      "sandbox.nuon.co/name": "aws-eks",
                      "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                      "sandbox.nuon.co/variant": "karpenter"
                    },
                    "image_id": "",
                    "key_name": null,
                    "tags_all": {
                      "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                      "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                      "sandbox.nuon.co/name": "aws-eks",
                      "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                      "sandbox.nuon.co/variant": "karpenter"
                    },
                    "kernel_id": null,
                    "placement": [],
                    "user_data": "",
                    "monitoring": [
                      {
                        "enabled": true
                      }
                    ],
                    "cpu_options": [],
                    "description": "Custom launch template for karpenter EKS managed node group",
                    "name_prefix": "karpenter-",
                    "ram_disk_id": null,
                    "ebs_optimized": null,
                    "instance_type": null,
                    "enclave_options": [],
                    "disable_api_stop": null,
                    "metadata_options": [
                      {
                        "http_tokens": "required",
                        "http_endpoint": "enabled",
                        "http_put_response_hop_limit": 2
                      }
                    ],
                    "network_interfaces": [],
                    "tag_specifications": [
                      {
                        "tags": {
                          "Name": "karpenter",
                          "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                          "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                          "sandbox.nuon.co/name": "aws-eks",
                          "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                          "sandbox.nuon.co/variant": "karpenter"
                        },
                        "resource_type": "instance"
                      },
                      {
                        "tags": {
                          "Name": "karpenter",
                          "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                          "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                          "sandbox.nuon.co/name": "aws-eks",
                          "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                          "sandbox.nuon.co/variant": "karpenter"
                        },
                        "resource_type": "network-interface"
                      },
                      {
                        "tags": {
                          "Name": "karpenter",
                          "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                          "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                          "sandbox.nuon.co/name": "aws-eks",
                          "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                          "sandbox.nuon.co/variant": "karpenter"
                        },
                        "resource_type": "volume"
                      }
                    ],
                    "hibernation_options": [],
                    "maintenance_options": [],
                    "credit_specification": [],
                    "iam_instance_profile": [],
                    "security_group_names": null,
                    "block_device_mappings": [],
                    "instance_requirements": [],
                    "license_specification": [],
                    "update_default_version": true,
                    "disable_api_termination": null,
                    "instance_market_options": [],
                    "private_dns_name_options": [],
                    "elastic_gpu_specifications": [],
                    "elastic_inference_accelerator": [],
                    "capacity_reservation_specification": [],
                    "instance_initiated_shutdown_behavior": null
                  },
                  "address": "module.eks.module.eks_managed_node_group[\"karpenter\"].aws_launch_template.this[0]",
                  "provider_name": "registry.terraform.io/hashicorp/aws",
                  "schema_version": 0,
                  "sensitive_values": {
                    "tags": {},
                    "tags_all": {},
                    "placement": [],
                    "monitoring": [
                      {}
                    ],
                    "cpu_options": [],
                    "enclave_options": [],
                    "metadata_options": [
                      {}
                    ],
                    "network_interfaces": [],
                    "tag_specifications": [
                      {
                        "tags": {}
                      },
                      {
                        "tags": {}
                      },
                      {
                        "tags": {}
                      }
                    ],
                    "hibernation_options": [],
                    "maintenance_options": [],
                    "credit_specification": [],
                    "iam_instance_profile": [],
                    "block_device_mappings": [],
                    "instance_requirements": [],
                    "license_specification": [],
                    "vpc_security_group_ids": [],
                    "instance_market_options": [],
                    "private_dns_name_options": [],
                    "elastic_gpu_specifications": [],
                    "elastic_inference_accelerator": [],
                    "capacity_reservation_specification": []
                  }
                }
              ],
              "child_modules": [
                {
                  "address": "module.eks.module.eks_managed_node_group[\"karpenter\"].module.user_data",
                  "resources": [
                    {
                      "mode": "managed",
                      "name": "validate_cluster_service_cidr",
                      "type": "null_resource",
                      "values": {
                        "triggers": null
                      },
                      "address": "module.eks.module.eks_managed_node_group[\"karpenter\"].module.user_data.null_resource.validate_cluster_service_cidr",
                      "provider_name": "registry.terraform.io/hashicorp/null",
                      "schema_version": 0,
                      "sensitive_values": {}
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "address": "module.karpenter",
          "resources": [
            {
              "mode": "managed",
              "name": "this",
              "type": "aws_cloudwatch_event_rule",
              "index": "health_event",
              "values": {
                "tags": {
                  "ClusterName": "n-inlr2e5a7mf3x9mbkh98p6bhek"
                },
                "state": null,
                "role_arn": null,
                "tags_all": {
                  "ClusterName": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "is_enabled": null,
                "description": "Karpenter interrupt - AWS health event",
                "name_prefix": "KarpenterHealthEvent-",
                "event_pattern": "{\"detail-type\":[\"AWS Health Event\"],\"source\":[\"aws.health\"]}",
                "force_destroy": false,
                "event_bus_name": "default",
                "schedule_expression": null
              },
              "address": "module.karpenter.aws_cloudwatch_event_rule.this[\"health_event\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "mode": "managed",
              "name": "this",
              "type": "aws_cloudwatch_event_rule",
              "index": "instance_rebalance",
              "values": {
                "tags": {
                  "ClusterName": "n-inlr2e5a7mf3x9mbkh98p6bhek"
                },
                "state": null,
                "role_arn": null,
                "tags_all": {
                  "ClusterName": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "is_enabled": null,
                "description": "Karpenter interrupt - EC2 instance rebalance recommendation",
                "name_prefix": "KarpenterInstanceRebalance-",
                "event_pattern": "{\"detail-type\":[\"EC2 Instance Rebalance Recommendation\"],\"source\":[\"aws.ec2\"]}",
                "force_destroy": false,
                "event_bus_name": "default",
                "schedule_expression": null
              },
              "address": "module.karpenter.aws_cloudwatch_event_rule.this[\"instance_rebalance\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "mode": "managed",
              "name": "this",
              "type": "aws_cloudwatch_event_rule",
              "index": "instance_state_change",
              "values": {
                "tags": {
                  "ClusterName": "n-inlr2e5a7mf3x9mbkh98p6bhek"
                },
                "state": null,
                "role_arn": null,
                "tags_all": {
                  "ClusterName": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "is_enabled": null,
                "description": "Karpenter interrupt - EC2 instance state-change notification",
                "name_prefix": "KarpenterInstanceStateChange-",
                "event_pattern": "{\"detail-type\":[\"EC2 Instance State-change Notification\"],\"source\":[\"aws.ec2\"]}",
                "force_destroy": false,
                "event_bus_name": "default",
                "schedule_expression": null
              },
              "address": "module.karpenter.aws_cloudwatch_event_rule.this[\"instance_state_change\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "mode": "managed",
              "name": "this",
              "type": "aws_cloudwatch_event_rule",
              "index": "spot_interrupt",
              "values": {
                "tags": {
                  "ClusterName": "n-inlr2e5a7mf3x9mbkh98p6bhek"
                },
                "state": null,
                "role_arn": null,
                "tags_all": {
                  "ClusterName": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "is_enabled": null,
                "description": "Karpenter interrupt - EC2 spot instance interruption warning",
                "name_prefix": "KarpenterSpotInterrupt-",
                "event_pattern": "{\"detail-type\":[\"EC2 Spot Instance Interruption Warning\"],\"source\":[\"aws.ec2\"]}",
                "force_destroy": false,
                "event_bus_name": "default",
                "schedule_expression": null
              },
              "address": "module.karpenter.aws_cloudwatch_event_rule.this[\"spot_interrupt\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "mode": "managed",
              "name": "this",
              "type": "aws_cloudwatch_event_target",
              "index": "health_event",
              "values": {
                "input": null,
                "role_arn": null,
                "target_id": "KarpenterInterruptionQueueTarget",
                "ecs_target": [],
                "input_path": null,
                "sqs_target": [],
                "http_target": [],
                "batch_target": [],
                "retry_policy": [],
                "force_destroy": false,
                "appsync_target": [],
                "event_bus_name": "default",
                "kinesis_target": [],
                "redshift_target": [],
                "input_transformer": [],
                "dead_letter_config": [],
                "run_command_targets": [],
                "sagemaker_pipeline_target": []
              },
              "address": "module.karpenter.aws_cloudwatch_event_target.this[\"health_event\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "sensitive_values": {
                "ecs_target": [],
                "sqs_target": [],
                "http_target": [],
                "batch_target": [],
                "retry_policy": [],
                "appsync_target": [],
                "kinesis_target": [],
                "redshift_target": [],
                "input_transformer": [],
                "dead_letter_config": [],
                "run_command_targets": [],
                "sagemaker_pipeline_target": []
              }
            },
            {
              "mode": "managed",
              "name": "this",
              "type": "aws_cloudwatch_event_target",
              "index": "instance_rebalance",
              "values": {
                "input": null,
                "role_arn": null,
                "target_id": "KarpenterInterruptionQueueTarget",
                "ecs_target": [],
                "input_path": null,
                "sqs_target": [],
                "http_target": [],
                "batch_target": [],
                "retry_policy": [],
                "force_destroy": false,
                "appsync_target": [],
                "event_bus_name": "default",
                "kinesis_target": [],
                "redshift_target": [],
                "input_transformer": [],
                "dead_letter_config": [],
                "run_command_targets": [],
                "sagemaker_pipeline_target": []
              },
              "address": "module.karpenter.aws_cloudwatch_event_target.this[\"instance_rebalance\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "sensitive_values": {
                "ecs_target": [],
                "sqs_target": [],
                "http_target": [],
                "batch_target": [],
                "retry_policy": [],
                "appsync_target": [],
                "kinesis_target": [],
                "redshift_target": [],
                "input_transformer": [],
                "dead_letter_config": [],
                "run_command_targets": [],
                "sagemaker_pipeline_target": []
              }
            },
            {
              "mode": "managed",
              "name": "this",
              "type": "aws_cloudwatch_event_target",
              "index": "instance_state_change",
              "values": {
                "input": null,
                "role_arn": null,
                "target_id": "KarpenterInterruptionQueueTarget",
                "ecs_target": [],
                "input_path": null,
                "sqs_target": [],
                "http_target": [],
                "batch_target": [],
                "retry_policy": [],
                "force_destroy": false,
                "appsync_target": [],
                "event_bus_name": "default",
                "kinesis_target": [],
                "redshift_target": [],
                "input_transformer": [],
                "dead_letter_config": [],
                "run_command_targets": [],
                "sagemaker_pipeline_target": []
              },
              "address": "module.karpenter.aws_cloudwatch_event_target.this[\"instance_state_change\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "sensitive_values": {
                "ecs_target": [],
                "sqs_target": [],
                "http_target": [],
                "batch_target": [],
                "retry_policy": [],
                "appsync_target": [],
                "kinesis_target": [],
                "redshift_target": [],
                "input_transformer": [],
                "dead_letter_config": [],
                "run_command_targets": [],
                "sagemaker_pipeline_target": []
              }
            },
            {
              "mode": "managed",
              "name": "this",
              "type": "aws_cloudwatch_event_target",
              "index": "spot_interrupt",
              "values": {
                "input": null,
                "role_arn": null,
                "target_id": "KarpenterInterruptionQueueTarget",
                "ecs_target": [],
                "input_path": null,
                "sqs_target": [],
                "http_target": [],
                "batch_target": [],
                "retry_policy": [],
                "force_destroy": false,
                "appsync_target": [],
                "event_bus_name": "default",
                "kinesis_target": [],
                "redshift_target": [],
                "input_transformer": [],
                "dead_letter_config": [],
                "run_command_targets": [],
                "sagemaker_pipeline_target": []
              },
              "address": "module.karpenter.aws_cloudwatch_event_target.this[\"spot_interrupt\"]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "sensitive_values": {
                "ecs_target": [],
                "sqs_target": [],
                "http_target": [],
                "batch_target": [],
                "retry_policy": [],
                "appsync_target": [],
                "kinesis_target": [],
                "redshift_target": [],
                "input_transformer": [],
                "dead_letter_config": [],
                "run_command_targets": [],
                "sagemaker_pipeline_target": []
              }
            },
            {
              "mode": "managed",
              "name": "controller",
              "type": "aws_iam_policy",
              "index": 0,
              "values": {
                "path": "/",
                "tags": null,
                "tags_all": {
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "description": "Karpenter controller IAM policy",
                "name_prefix": "KarpenterController-"
              },
              "address": "module.karpenter.aws_iam_policy.controller[0]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {
                "tags_all": {}
              }
            },
            {
              "mode": "managed",
              "name": "controller",
              "type": "aws_iam_role",
              "index": 0,
              "values": {
                "path": "/",
                "tags": {
                  "karpenter": "true",
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "tags_all": {
                  "karpenter": "true",
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "description": "Karpenter controller IAM role",
                "name_prefix": "KarpenterController-",
                "max_session_duration": 3600,
                "permissions_boundary": null,
                "force_detach_policies": true
              },
              "address": "module.karpenter.aws_iam_role.controller[0]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {
                "tags": {},
                "tags_all": {},
                "inline_policy": [],
                "managed_policy_arns": []
              }
            },
            {
              "mode": "managed",
              "name": "controller",
              "type": "aws_iam_role_policy_attachment",
              "index": 0,
              "address": "module.karpenter.aws_iam_role_policy_attachment.controller[0]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {}
            },
            {
              "mode": "managed",
              "name": "this",
              "type": "aws_sqs_queue",
              "index": 0,
              "values": {
                "name": "karpenter-inlr2e5a7mf3x9mbkh98p6bhek",
                "tags": null,
                "tags_all": {
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "timeouts": null,
                "fifo_queue": false,
                "delay_seconds": 0,
                "max_message_size": 262144,
                "kms_master_key_id": null,
                "sqs_managed_sse_enabled": true,
                "message_retention_seconds": 300,
                "receive_wait_time_seconds": 0,
                "visibility_timeout_seconds": 30,
                "content_based_deduplication": false,
                "kms_data_key_reuse_period_seconds": 0
              },
              "address": "module.karpenter.aws_sqs_queue.this[0]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {
                "tags_all": {}
              }
            },
            {
              "mode": "managed",
              "name": "this",
              "type": "aws_sqs_queue_policy",
              "index": 0,
              "address": "module.karpenter.aws_sqs_queue_policy.this[0]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "sensitive_values": {}
            },
            {
              "mode": "data",
              "name": "current",
              "type": "aws_caller_identity",
              "address": "module.karpenter.data.aws_caller_identity.current",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {}
            },
            {
              "mode": "data",
              "name": "controller",
              "type": "aws_iam_policy_document",
              "index": 0,
              "values": {
                "version": null,
                "policy_id": null,
                "statement": [],
                "source_json": null,
                "override_json": null,
                "source_policy_documents": [
                  null
                ],
                "override_policy_documents": null
              },
              "address": "module.karpenter.data.aws_iam_policy_document.controller[0]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {
                "statement": [],
                "source_policy_documents": [
                  false
                ]
              }
            },
            {
              "mode": "data",
              "name": "controller_assume_role",
              "type": "aws_iam_policy_document",
              "index": 0,
              "values": {
                "version": null,
                "policy_id": null,
                "statement": [
                  {
                    "sid": null,
                    "effect": null,
                    "actions": [
                      "sts:AssumeRole",
                      "sts:TagSession"
                    ],
                    "condition": [],
                    "resources": null,
                    "principals": [
                      {
                        "type": "Service",
                        "identifiers": [
                          "pods.eks.amazonaws.com"
                        ]
                      }
                    ],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  },
                  {
                    "sid": null,
                    "effect": null,
                    "actions": [
                      "sts:AssumeRoleWithWebIdentity"
                    ],
                    "condition": [
                      {
                        "test": "StringEquals",
                        "values": [
                          "sts.amazonaws.com"
                        ]
                      },
                      {
                        "test": "StringEquals",
                        "values": [
                          "system:serviceaccount:kube-system:karpenter"
                        ]
                      }
                    ],
                    "resources": null,
                    "principals": [
                      {
                        "type": "Federated",
                        "identifiers": [
                          null
                        ]
                      }
                    ],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  }
                ],
                "source_json": null,
                "override_json": null,
                "source_policy_documents": null,
                "override_policy_documents": null
              },
              "address": "module.karpenter.data.aws_iam_policy_document.controller_assume_role[0]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {
                "statement": [
                  {
                    "actions": [
                      false,
                      false
                    ],
                    "condition": [],
                    "principals": [
                      {
                        "identifiers": [
                          false
                        ]
                      }
                    ],
                    "not_principals": []
                  },
                  {
                    "actions": [
                      false
                    ],
                    "condition": [
                      {
                        "values": [
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      }
                    ],
                    "principals": [
                      {
                        "identifiers": [
                          false
                        ]
                      }
                    ],
                    "not_principals": []
                  }
                ]
              }
            },
            {
              "mode": "data",
              "name": "queue",
              "type": "aws_iam_policy_document",
              "index": 0,
              "values": {
                "version": null,
                "policy_id": null,
                "statement": [
                  {
                    "sid": "SqsWrite",
                    "effect": null,
                    "actions": [
                      "sqs:SendMessage"
                    ],
                    "condition": [],
                    "resources": [
                      null
                    ],
                    "principals": [
                      {
                        "type": "Service",
                        "identifiers": [
                          "events.amazonaws.com",
                          "sqs.amazonaws.com"
                        ]
                      }
                    ],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  },
                  {
                    "sid": "DenyHTTP",
                    "effect": "Deny",
                    "actions": [
                      "sqs:*"
                    ],
                    "condition": [
                      {
                        "test": "StringEquals",
                        "values": [
                          "false"
                        ],
                        "variable": "aws:SecureTransport"
                      }
                    ],
                    "resources": [
                      null
                    ],
                    "principals": [
                      {
                        "type": "*",
                        "identifiers": [
                          "*"
                        ]
                      }
                    ],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  }
                ],
                "source_json": null,
                "override_json": null,
                "source_policy_documents": null,
                "override_policy_documents": null
              },
              "address": "module.karpenter.data.aws_iam_policy_document.queue[0]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {
                "statement": [
                  {
                    "actions": [
                      false
                    ],
                    "condition": [],
                    "resources": [
                      false
                    ],
                    "principals": [
                      {
                        "identifiers": [
                          false,
                          false
                        ]
                      }
                    ],
                    "not_principals": []
                  },
                  {
                    "actions": [
                      false
                    ],
                    "condition": [
                      {
                        "values": [
                          false
                        ]
                      }
                    ],
                    "resources": [
                      false
                    ],
                    "principals": [
                      {
                        "identifiers": [
                          false
                        ]
                      }
                    ],
                    "not_principals": []
                  }
                ]
              }
            },
            {
              "mode": "data",
              "name": "v033",
              "type": "aws_iam_policy_document",
              "index": 0,
              "values": {
                "version": null,
                "policy_id": null,
                "statement": [
                  {
                    "sid": "AllowScopedEC2InstanceActions",
                    "effect": null,
                    "actions": [
                      "ec2:CreateFleet",
                      "ec2:RunInstances"
                    ],
                    "condition": [],
                    "resources": [
                      null,
                      null,
                      null,
                      null,
                      null,
                      null
                    ],
                    "principals": [],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  },
                  {
                    "sid": "AllowScopedEC2InstanceActionsWithTags",
                    "effect": null,
                    "actions": [
                      "ec2:CreateFleet",
                      "ec2:CreateLaunchTemplate",
                      "ec2:RunInstances"
                    ],
                    "condition": [
                      {
                        "test": "StringEquals",
                        "values": [
                          "owned"
                        ],
                        "variable": "aws:RequestTag/kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek"
                      },
                      {
                        "test": "StringLike",
                        "values": [
                          "*"
                        ],
                        "variable": "aws:RequestTag/karpenter.sh/nodepool"
                      }
                    ],
                    "resources": [
                      null,
                      null,
                      null,
                      null,
                      null,
                      null
                    ],
                    "principals": [],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  },
                  {
                    "sid": "AllowScopedResourceCreationTagging",
                    "effect": null,
                    "actions": [
                      "ec2:CreateTags"
                    ],
                    "condition": [
                      {
                        "test": "StringEquals",
                        "values": [
                          "RunInstances",
                          "CreateFleet",
                          "CreateLaunchTemplate"
                        ],
                        "variable": "ec2:CreateAction"
                      },
                      {
                        "test": "StringEquals",
                        "values": [
                          "owned"
                        ],
                        "variable": "aws:RequestTag/kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek"
                      },
                      {
                        "test": "StringLike",
                        "values": [
                          "*"
                        ],
                        "variable": "aws:RequestTag/karpenter.sh/nodepool"
                      }
                    ],
                    "resources": [
                      null,
                      null,
                      null,
                      null,
                      null,
                      null
                    ],
                    "principals": [],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  },
                  {
                    "sid": "AllowScopedResourceTagging",
                    "effect": null,
                    "actions": [
                      "ec2:CreateTags"
                    ],
                    "condition": [
                      {
                        "test": "ForAllValues:StringEquals",
                        "values": [
                          "karpenter.sh/nodeclaim",
                          "Name"
                        ],
                        "variable": "aws:TagKeys"
                      },
                      {
                        "test": "StringEquals",
                        "values": [
                          "owned"
                        ],
                        "variable": "aws:ResourceTag/kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek"
                      },
                      {
                        "test": "StringLike",
                        "values": [
                          "*"
                        ],
                        "variable": "aws:ResourceTag/karpenter.sh/nodepool"
                      }
                    ],
                    "resources": [
                      null
                    ],
                    "principals": [],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  },
                  {
                    "sid": "AllowScopedDeletion",
                    "effect": null,
                    "actions": [
                      "ec2:DeleteLaunchTemplate",
                      "ec2:TerminateInstances"
                    ],
                    "condition": [
                      {
                        "test": "StringEquals",
                        "values": [
                          "owned"
                        ],
                        "variable": "aws:ResourceTag/kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek"
                      },
                      {
                        "test": "StringLike",
                        "values": [
                          "*"
                        ],
                        "variable": "aws:ResourceTag/karpenter.sh/nodepool"
                      }
                    ],
                    "resources": [
                      null,
                      null
                    ],
                    "principals": [],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  },
                  {
                    "sid": "AllowRegionalReadActions",
                    "effect": null,
                    "actions": [
                      "ec2:DescribeAvailabilityZones",
                      "ec2:DescribeImages",
                      "ec2:DescribeInstanceTypeOfferings",
                      "ec2:DescribeInstanceTypes",
                      "ec2:DescribeInstances",
                      "ec2:DescribeLaunchTemplates",
                      "ec2:DescribeSecurityGroups",
                      "ec2:DescribeSpotPriceHistory",
                      "ec2:DescribeSubnets"
                    ],
                    "condition": [
                      {
                        "test": "StringEquals",
                        "values": [
                          null
                        ],
                        "variable": "aws:RequestedRegion"
                      }
                    ],
                    "resources": [
                      "*"
                    ],
                    "principals": [],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  },
                  {
                    "sid": "AllowSSMReadActions",
                    "effect": null,
                    "actions": [
                      "ssm:GetParameter"
                    ],
                    "condition": [],
                    "resources": [
                      null
                    ],
                    "principals": [],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  },
                  {
                    "sid": "AllowPricingReadActions",
                    "effect": null,
                    "actions": [
                      "pricing:GetProducts"
                    ],
                    "condition": [],
                    "resources": [
                      "*"
                    ],
                    "principals": [],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  },
                  {
                    "sid": "AllowInterruptionQueueActions",
                    "effect": null,
                    "actions": [
                      "sqs:DeleteMessage",
                      "sqs:GetQueueAttributes",
                      "sqs:GetQueueUrl",
                      "sqs:ReceiveMessage"
                    ],
                    "condition": [],
                    "resources": [
                      null
                    ],
                    "principals": [],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  },
                  {
                    "sid": "AllowPassingInstanceRole",
                    "effect": null,
                    "actions": [
                      "iam:PassRole"
                    ],
                    "condition": [
                      {
                        "test": "StringEquals",
                        "values": [
                          null
                        ],
                        "variable": "iam:PassedToService"
                      }
                    ],
                    "resources": [
                      null
                    ],
                    "principals": [],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  },
                  {
                    "sid": "AllowScopedInstanceProfileCreationActions",
                    "effect": null,
                    "actions": [
                      "iam:CreateInstanceProfile"
                    ],
                    "condition": [
                      {
                        "test": "StringEquals",
                        "values": [
                          "owned"
                        ],
                        "variable": "aws:RequestTag/kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek"
                      },
                      {
                        "test": "StringEquals",
                        "values": [
                          null
                        ],
                        "variable": "aws:RequestTag/topology.kubernetes.io/region"
                      },
                      {
                        "test": "StringLike",
                        "values": [
                          "*"
                        ],
                        "variable": "aws:RequestTag/karpenter.k8s.aws/ec2nodeclass"
                      }
                    ],
                    "resources": [
                      "*"
                    ],
                    "principals": [],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  },
                  {
                    "sid": "AllowScopedInstanceProfileTagActions",
                    "effect": null,
                    "actions": [
                      "iam:TagInstanceProfile"
                    ],
                    "condition": [
                      {
                        "test": "StringEquals",
                        "values": [
                          "owned"
                        ],
                        "variable": "aws:RequestTag/kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek"
                      },
                      {
                        "test": "StringEquals",
                        "values": [
                          "owned"
                        ],
                        "variable": "aws:ResourceTag/kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek"
                      },
                      {
                        "test": "StringEquals",
                        "values": [
                          null
                        ],
                        "variable": "aws:ResourceTag/topology.kubernetes.io/region"
                      },
                      {
                        "test": "StringEquals",
                        "values": [
                          null
                        ],
                        "variable": "aws:ResourceTag/topology.kubernetes.io/region"
                      },
                      {
                        "test": "StringLike",
                        "values": [
                          "*"
                        ],
                        "variable": "aws:RequestTag/karpenter.k8s.aws/ec2nodeclass"
                      },
                      {
                        "test": "StringLike",
                        "values": [
                          "*"
                        ],
                        "variable": "aws:ResourceTag/karpenter.k8s.aws/ec2nodeclass"
                      }
                    ],
                    "resources": [
                      "*"
                    ],
                    "principals": [],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  },
                  {
                    "sid": "AllowScopedInstanceProfileActions",
                    "effect": null,
                    "actions": [
                      "iam:AddRoleToInstanceProfile",
                      "iam:DeleteInstanceProfile",
                      "iam:RemoveRoleFromInstanceProfile"
                    ],
                    "condition": [
                      {
                        "test": "StringEquals",
                        "values": [
                          "owned"
                        ],
                        "variable": "aws:ResourceTag/kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek"
                      },
                      {
                        "test": "StringEquals",
                        "values": [
                          null
                        ],
                        "variable": "aws:ResourceTag/topology.kubernetes.io/region"
                      },
                      {
                        "test": "StringLike",
                        "values": [
                          "*"
                        ],
                        "variable": "aws:ResourceTag/karpenter.k8s.aws/ec2nodeclass"
                      }
                    ],
                    "resources": [
                      "*"
                    ],
                    "principals": [],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  },
                  {
                    "sid": "AllowInstanceProfileReadActions",
                    "effect": null,
                    "actions": [
                      "iam:GetInstanceProfile"
                    ],
                    "condition": [],
                    "resources": [
                      "*"
                    ],
                    "principals": [],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  },
                  {
                    "sid": "AllowAPIServerEndpointDiscovery",
                    "effect": null,
                    "actions": [
                      "eks:DescribeCluster"
                    ],
                    "condition": [],
                    "resources": [
                      null
                    ],
                    "principals": [],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  }
                ],
                "source_json": null,
                "override_json": null,
                "source_policy_documents": null,
                "override_policy_documents": null
              },
              "address": "module.karpenter.data.aws_iam_policy_document.v033[0]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {
                "statement": [
                  {
                    "actions": [
                      false,
                      false
                    ],
                    "condition": [],
                    "resources": [
                      false,
                      false,
                      false,
                      false,
                      false,
                      false
                    ],
                    "principals": [],
                    "not_principals": []
                  },
                  {
                    "actions": [
                      false,
                      false,
                      false
                    ],
                    "condition": [
                      {
                        "values": [
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      }
                    ],
                    "resources": [
                      false,
                      false,
                      false,
                      false,
                      false,
                      false
                    ],
                    "principals": [],
                    "not_principals": []
                  },
                  {
                    "actions": [
                      false
                    ],
                    "condition": [
                      {
                        "values": [
                          false,
                          false,
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      }
                    ],
                    "resources": [
                      false,
                      false,
                      false,
                      false,
                      false,
                      false
                    ],
                    "principals": [],
                    "not_principals": []
                  },
                  {
                    "actions": [
                      false
                    ],
                    "condition": [
                      {
                        "values": [
                          false,
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      }
                    ],
                    "resources": [
                      false
                    ],
                    "principals": [],
                    "not_principals": []
                  },
                  {
                    "actions": [
                      false,
                      false
                    ],
                    "condition": [
                      {
                        "values": [
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      }
                    ],
                    "resources": [
                      false,
                      false
                    ],
                    "principals": [],
                    "not_principals": []
                  },
                  {
                    "actions": [
                      false,
                      false,
                      false,
                      false,
                      false,
                      false,
                      false,
                      false,
                      false
                    ],
                    "condition": [
                      {
                        "values": [
                          false
                        ]
                      }
                    ],
                    "resources": [
                      false
                    ],
                    "principals": [],
                    "not_principals": []
                  },
                  {
                    "actions": [
                      false
                    ],
                    "condition": [],
                    "resources": [
                      false
                    ],
                    "principals": [],
                    "not_principals": []
                  },
                  {
                    "actions": [
                      false
                    ],
                    "condition": [],
                    "resources": [
                      false
                    ],
                    "principals": [],
                    "not_principals": []
                  },
                  {
                    "actions": [
                      false,
                      false,
                      false,
                      false
                    ],
                    "condition": [],
                    "resources": [
                      false
                    ],
                    "principals": [],
                    "not_principals": []
                  },
                  {
                    "actions": [
                      false
                    ],
                    "condition": [
                      {
                        "values": [
                          false
                        ]
                      }
                    ],
                    "resources": [
                      false
                    ],
                    "principals": [],
                    "not_principals": []
                  },
                  {
                    "actions": [
                      false
                    ],
                    "condition": [
                      {
                        "values": [
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      }
                    ],
                    "resources": [
                      false
                    ],
                    "principals": [],
                    "not_principals": []
                  },
                  {
                    "actions": [
                      false
                    ],
                    "condition": [
                      {
                        "values": [
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      }
                    ],
                    "resources": [
                      false
                    ],
                    "principals": [],
                    "not_principals": []
                  },
                  {
                    "actions": [
                      false,
                      false,
                      false
                    ],
                    "condition": [
                      {
                        "values": [
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      }
                    ],
                    "resources": [
                      false
                    ],
                    "principals": [],
                    "not_principals": []
                  },
                  {
                    "actions": [
                      false
                    ],
                    "condition": [],
                    "resources": [
                      false
                    ],
                    "principals": [],
                    "not_principals": []
                  },
                  {
                    "actions": [
                      false
                    ],
                    "condition": [],
                    "resources": [
                      false
                    ],
                    "principals": [],
                    "not_principals": []
                  }
                ]
              }
            },
            {
              "mode": "data",
              "name": "v1",
              "type": "aws_iam_policy_document",
              "index": 0,
              "values": {
                "version": null,
                "policy_id": null,
                "statement": [
                  {
                    "sid": "AllowScopedEC2InstanceAccessActions",
                    "effect": null,
                    "actions": [
                      "ec2:CreateFleet",
                      "ec2:RunInstances"
                    ],
                    "condition": [],
                    "resources": [
                      null,
                      null,
                      null,
                      null
                    ],
                    "principals": [],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  },
                  {
                    "sid": "AllowScopedEC2LaunchTemplateAccessActions",
                    "effect": null,
                    "actions": [
                      "ec2:CreateFleet",
                      "ec2:RunInstances"
                    ],
                    "condition": [
                      {
                        "test": "StringEquals",
                        "values": [
                          "owned"
                        ],
                        "variable": "aws:ResourceTag/kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek"
                      },
                      {
                        "test": "StringLike",
                        "values": [
                          "*"
                        ],
                        "variable": "aws:ResourceTag/karpenter.sh/nodepool"
                      }
                    ],
                    "resources": [
                      null
                    ],
                    "principals": [],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  },
                  {
                    "sid": "AllowScopedEC2InstanceActionsWithTags",
                    "effect": null,
                    "actions": [
                      "ec2:CreateFleet",
                      "ec2:CreateLaunchTemplate",
                      "ec2:RunInstances"
                    ],
                    "condition": [
                      {
                        "test": "StringEquals",
                        "values": [
                          "n-inlr2e5a7mf3x9mbkh98p6bhek"
                        ],
                        "variable": "aws:RequestTag/eks:eks-cluster-name"
                      },
                      {
                        "test": "StringEquals",
                        "values": [
                          "owned"
                        ],
                        "variable": "aws:RequestTag/kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek"
                      },
                      {
                        "test": "StringLike",
                        "values": [
                          "*"
                        ],
                        "variable": "aws:RequestTag/karpenter.sh/nodepool"
                      }
                    ],
                    "resources": [
                      null,
                      null,
                      null,
                      null,
                      null,
                      null
                    ],
                    "principals": [],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  },
                  {
                    "sid": "AllowScopedResourceCreationTagging",
                    "effect": null,
                    "actions": [
                      "ec2:CreateTags"
                    ],
                    "condition": [
                      {
                        "test": "StringEquals",
                        "values": [
                          "RunInstances",
                          "CreateFleet",
                          "CreateLaunchTemplate"
                        ],
                        "variable": "ec2:CreateAction"
                      },
                      {
                        "test": "StringEquals",
                        "values": [
                          "n-inlr2e5a7mf3x9mbkh98p6bhek"
                        ],
                        "variable": "aws:RequestTag/eks:eks-cluster-name"
                      },
                      {
                        "test": "StringEquals",
                        "values": [
                          "owned"
                        ],
                        "variable": "aws:RequestTag/kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek"
                      },
                      {
                        "test": "StringLike",
                        "values": [
                          "*"
                        ],
                        "variable": "aws:RequestTag/karpenter.sh/nodepool"
                      }
                    ],
                    "resources": [
                      null,
                      null,
                      null,
                      null,
                      null,
                      null
                    ],
                    "principals": [],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  },
                  {
                    "sid": "AllowScopedResourceTagging",
                    "effect": null,
                    "actions": [
                      "ec2:CreateTags"
                    ],
                    "condition": [
                      {
                        "test": "ForAllValues:StringEquals",
                        "values": [
                          "eks:eks-cluster-name",
                          "karpenter.sh/nodeclaim",
                          "Name"
                        ],
                        "variable": "aws:TagKeys"
                      },
                      {
                        "test": "StringEquals",
                        "values": [
                          "owned"
                        ],
                        "variable": "aws:ResourceTag/kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek"
                      },
                      {
                        "test": "StringEqualsIfExists",
                        "values": [
                          "n-inlr2e5a7mf3x9mbkh98p6bhek"
                        ],
                        "variable": "aws:RequestTag/eks:eks-cluster-name"
                      },
                      {
                        "test": "StringLike",
                        "values": [
                          "*"
                        ],
                        "variable": "aws:ResourceTag/karpenter.sh/nodepool"
                      }
                    ],
                    "resources": [
                      null
                    ],
                    "principals": [],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  },
                  {
                    "sid": "AllowScopedDeletion",
                    "effect": null,
                    "actions": [
                      "ec2:DeleteLaunchTemplate",
                      "ec2:TerminateInstances"
                    ],
                    "condition": [
                      {
                        "test": "StringEquals",
                        "values": [
                          "owned"
                        ],
                        "variable": "aws:ResourceTag/kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek"
                      },
                      {
                        "test": "StringLike",
                        "values": [
                          "*"
                        ],
                        "variable": "aws:ResourceTag/karpenter.sh/nodepool"
                      }
                    ],
                    "resources": [
                      null,
                      null
                    ],
                    "principals": [],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  },
                  {
                    "sid": "AllowRegionalReadActions",
                    "effect": null,
                    "actions": [
                      "ec2:DescribeAvailabilityZones",
                      "ec2:DescribeImages",
                      "ec2:DescribeInstanceTypeOfferings",
                      "ec2:DescribeInstanceTypes",
                      "ec2:DescribeInstances",
                      "ec2:DescribeLaunchTemplates",
                      "ec2:DescribeSecurityGroups",
                      "ec2:DescribeSpotPriceHistory",
                      "ec2:DescribeSubnets"
                    ],
                    "condition": [
                      {
                        "test": "StringEquals",
                        "values": [
                          null
                        ],
                        "variable": "aws:RequestedRegion"
                      }
                    ],
                    "resources": [
                      "*"
                    ],
                    "principals": [],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  },
                  {
                    "sid": "AllowSSMReadActions",
                    "effect": null,
                    "actions": [
                      "ssm:GetParameter"
                    ],
                    "condition": [],
                    "resources": [
                      null
                    ],
                    "principals": [],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  },
                  {
                    "sid": "AllowPricingReadActions",
                    "effect": null,
                    "actions": [
                      "pricing:GetProducts"
                    ],
                    "condition": [],
                    "resources": [
                      "*"
                    ],
                    "principals": [],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  },
                  {
                    "sid": "AllowInterruptionQueueActions",
                    "effect": null,
                    "actions": [
                      "sqs:DeleteMessage",
                      "sqs:GetQueueUrl",
                      "sqs:ReceiveMessage"
                    ],
                    "condition": [],
                    "resources": [
                      null
                    ],
                    "principals": [],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  },
                  {
                    "sid": "AllowPassingInstanceRole",
                    "effect": null,
                    "actions": [
                      "iam:PassRole"
                    ],
                    "condition": [
                      {
                        "test": "StringEquals",
                        "values": [
                          null
                        ],
                        "variable": "iam:PassedToService"
                      }
                    ],
                    "resources": [
                      null
                    ],
                    "principals": [],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  },
                  {
                    "sid": "AllowScopedInstanceProfileCreationActions",
                    "effect": null,
                    "actions": [
                      "iam:CreateInstanceProfile"
                    ],
                    "condition": [
                      {
                        "test": "StringEquals",
                        "values": [
                          "n-inlr2e5a7mf3x9mbkh98p6bhek"
                        ],
                        "variable": "aws:RequestTag/eks:eks-cluster-name"
                      },
                      {
                        "test": "StringEquals",
                        "values": [
                          "owned"
                        ],
                        "variable": "aws:RequestTag/kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek"
                      },
                      {
                        "test": "StringEquals",
                        "values": [
                          null
                        ],
                        "variable": "aws:RequestTag/topology.kubernetes.io/region"
                      },
                      {
                        "test": "StringLike",
                        "values": [
                          "*"
                        ],
                        "variable": "aws:RequestTag/karpenter.k8s.aws/ec2nodeclass"
                      }
                    ],
                    "resources": [
                      null
                    ],
                    "principals": [],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  },
                  {
                    "sid": "AllowScopedInstanceProfileTagActions",
                    "effect": null,
                    "actions": [
                      "iam:TagInstanceProfile"
                    ],
                    "condition": [
                      {
                        "test": "StringEquals",
                        "values": [
                          "n-inlr2e5a7mf3x9mbkh98p6bhek"
                        ],
                        "variable": "aws:RequestTag/eks:eks-cluster-name"
                      },
                      {
                        "test": "StringEquals",
                        "values": [
                          "owned"
                        ],
                        "variable": "aws:RequestTag/kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek"
                      },
                      {
                        "test": "StringEquals",
                        "values": [
                          "owned"
                        ],
                        "variable": "aws:ResourceTag/kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek"
                      },
                      {
                        "test": "StringEquals",
                        "values": [
                          null
                        ],
                        "variable": "aws:RequestTag/topology.kubernetes.io/region"
                      },
                      {
                        "test": "StringEquals",
                        "values": [
                          null
                        ],
                        "variable": "aws:ResourceTag/topology.kubernetes.io/region"
                      },
                      {
                        "test": "StringLike",
                        "values": [
                          "*"
                        ],
                        "variable": "aws:RequestTag/karpenter.k8s.aws/ec2nodeclass"
                      },
                      {
                        "test": "StringLike",
                        "values": [
                          "*"
                        ],
                        "variable": "aws:ResourceTag/karpenter.k8s.aws/ec2nodeclass"
                      }
                    ],
                    "resources": [
                      null
                    ],
                    "principals": [],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  },
                  {
                    "sid": "AllowScopedInstanceProfileActions",
                    "effect": null,
                    "actions": [
                      "iam:AddRoleToInstanceProfile",
                      "iam:DeleteInstanceProfile",
                      "iam:RemoveRoleFromInstanceProfile"
                    ],
                    "condition": [
                      {
                        "test": "StringEquals",
                        "values": [
                          "owned"
                        ],
                        "variable": "aws:ResourceTag/kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek"
                      },
                      {
                        "test": "StringEquals",
                        "values": [
                          null
                        ],
                        "variable": "aws:ResourceTag/topology.kubernetes.io/region"
                      },
                      {
                        "test": "StringLike",
                        "values": [
                          "*"
                        ],
                        "variable": "aws:ResourceTag/karpenter.k8s.aws/ec2nodeclass"
                      }
                    ],
                    "resources": [
                      null
                    ],
                    "principals": [],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  },
                  {
                    "sid": "AllowInstanceProfileReadActions",
                    "effect": null,
                    "actions": [
                      "iam:GetInstanceProfile"
                    ],
                    "condition": [],
                    "resources": [
                      null
                    ],
                    "principals": [],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  },
                  {
                    "sid": "AllowAPIServerEndpointDiscovery",
                    "effect": null,
                    "actions": [
                      "eks:DescribeCluster"
                    ],
                    "condition": [],
                    "resources": [
                      null
                    ],
                    "principals": [],
                    "not_actions": null,
                    "not_resources": null,
                    "not_principals": []
                  }
                ],
                "source_json": null,
                "override_json": null,
                "source_policy_documents": null,
                "override_policy_documents": null
              },
              "address": "module.karpenter.data.aws_iam_policy_document.v1[0]",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {
                "statement": [
                  {
                    "actions": [
                      false,
                      false
                    ],
                    "condition": [],
                    "resources": [
                      false,
                      false,
                      false,
                      false
                    ],
                    "principals": [],
                    "not_principals": []
                  },
                  {
                    "actions": [
                      false,
                      false
                    ],
                    "condition": [
                      {
                        "values": [
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      }
                    ],
                    "resources": [
                      false
                    ],
                    "principals": [],
                    "not_principals": []
                  },
                  {
                    "actions": [
                      false,
                      false,
                      false
                    ],
                    "condition": [
                      {
                        "values": [
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      }
                    ],
                    "resources": [
                      false,
                      false,
                      false,
                      false,
                      false,
                      false
                    ],
                    "principals": [],
                    "not_principals": []
                  },
                  {
                    "actions": [
                      false
                    ],
                    "condition": [
                      {
                        "values": [
                          false,
                          false,
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      }
                    ],
                    "resources": [
                      false,
                      false,
                      false,
                      false,
                      false,
                      false
                    ],
                    "principals": [],
                    "not_principals": []
                  },
                  {
                    "actions": [
                      false
                    ],
                    "condition": [
                      {
                        "values": [
                          false,
                          false,
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      }
                    ],
                    "resources": [
                      false
                    ],
                    "principals": [],
                    "not_principals": []
                  },
                  {
                    "actions": [
                      false,
                      false
                    ],
                    "condition": [
                      {
                        "values": [
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      }
                    ],
                    "resources": [
                      false,
                      false
                    ],
                    "principals": [],
                    "not_principals": []
                  },
                  {
                    "actions": [
                      false,
                      false,
                      false,
                      false,
                      false,
                      false,
                      false,
                      false,
                      false
                    ],
                    "condition": [
                      {
                        "values": [
                          false
                        ]
                      }
                    ],
                    "resources": [
                      false
                    ],
                    "principals": [],
                    "not_principals": []
                  },
                  {
                    "actions": [
                      false
                    ],
                    "condition": [],
                    "resources": [
                      false
                    ],
                    "principals": [],
                    "not_principals": []
                  },
                  {
                    "actions": [
                      false
                    ],
                    "condition": [],
                    "resources": [
                      false
                    ],
                    "principals": [],
                    "not_principals": []
                  },
                  {
                    "actions": [
                      false,
                      false,
                      false
                    ],
                    "condition": [],
                    "resources": [
                      false
                    ],
                    "principals": [],
                    "not_principals": []
                  },
                  {
                    "actions": [
                      false
                    ],
                    "condition": [
                      {
                        "values": [
                          false
                        ]
                      }
                    ],
                    "resources": [
                      false
                    ],
                    "principals": [],
                    "not_principals": []
                  },
                  {
                    "actions": [
                      false
                    ],
                    "condition": [
                      {
                        "values": [
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      }
                    ],
                    "resources": [
                      false
                    ],
                    "principals": [],
                    "not_principals": []
                  },
                  {
                    "actions": [
                      false
                    ],
                    "condition": [
                      {
                        "values": [
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      }
                    ],
                    "resources": [
                      false
                    ],
                    "principals": [],
                    "not_principals": []
                  },
                  {
                    "actions": [
                      false,
                      false,
                      false
                    ],
                    "condition": [
                      {
                        "values": [
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      },
                      {
                        "values": [
                          false
                        ]
                      }
                    ],
                    "resources": [
                      false
                    ],
                    "principals": [],
                    "not_principals": []
                  },
                  {
                    "actions": [
                      false
                    ],
                    "condition": [],
                    "resources": [
                      false
                    ],
                    "principals": [],
                    "not_principals": []
                  },
                  {
                    "actions": [
                      false
                    ],
                    "condition": [],
                    "resources": [
                      false
                    ],
                    "principals": [],
                    "not_principals": []
                  }
                ]
              }
            },
            {
              "mode": "data",
              "name": "current",
              "type": "aws_partition",
              "address": "module.karpenter.data.aws_partition.current",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {}
            },
            {
              "mode": "data",
              "name": "current",
              "type": "aws_region",
              "address": "module.karpenter.data.aws_region.current",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {}
            }
          ]
        },
        {
          "address": "module.nuon_dns[0]",
          "resources": [
            {
              "mode": "managed",
              "name": "caa",
              "type": "aws_route53_record",
              "values": {
                "ttl": 300,
                "name": "nuon-dev-main-us-west-2.nuon.run",
                "type": "CAA",
                "alias": [],
                "records": [
                  "0 issue \"amazon.com\"",
                  "0 issue \"amazonaws.com\"",
                  "0 issue \"amazontrust.com\"",
                  "0 issue \"letsencrypt.org\""
                ],
                "timeouts": null,
                "set_identifier": null,
                "health_check_id": null,
                "cidr_routing_policy": [],
                "latency_routing_policy": [],
                "failover_routing_policy": [],
                "weighted_routing_policy": [],
                "geolocation_routing_policy": [],
                "geoproximity_routing_policy": [],
                "multivalue_answer_routing_policy": null
              },
              "address": "module.nuon_dns[0].aws_route53_record.caa",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 2,
              "sensitive_values": {
                "alias": [],
                "records": [
                  false,
                  false,
                  false,
                  false
                ],
                "cidr_routing_policy": [],
                "latency_routing_policy": [],
                "failover_routing_policy": [],
                "weighted_routing_policy": [],
                "geolocation_routing_policy": [],
                "geoproximity_routing_policy": []
              }
            },
            {
              "mode": "managed",
              "name": "internal",
              "type": "aws_route53_zone",
              "values": {
                "vpc": [
                  {
                    "vpc_id": "vpc-0a878a1b9409f2d67"
                  }
                ],
                "name": "internal.nuon-dev-main-us-west-2.nuon.run",
                "tags": null,
                "comment": "Managed by Terraform",
                "tags_all": {
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "timeouts": null,
                "force_destroy": true,
                "delegation_set_id": null
              },
              "address": "module.nuon_dns[0].aws_route53_zone.internal",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {
                "vpc": [
                  {}
                ],
                "tags_all": {},
                "name_servers": []
              }
            },
            {
              "mode": "managed",
              "name": "public",
              "type": "aws_route53_zone",
              "values": {
                "vpc": [],
                "name": "nuon-dev-main-us-west-2.nuon.run",
                "tags": null,
                "comment": "Managed by Terraform",
                "tags_all": {
                  "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                  "sandbox.nuon.co/name": "aws-eks",
                  "sandbox.nuon.co/variant": "karpenter"
                },
                "timeouts": null,
                "force_destroy": true,
                "delegation_set_id": null
              },
              "address": "module.nuon_dns[0].aws_route53_zone.public",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "sensitive_values": {
                "vpc": [],
                "tags_all": {},
                "name_servers": []
              }
            },
            {
              "mode": "managed",
              "name": "alb_ingress_controller",
              "type": "helm_release",
              "values": {
                "set": [
                  {
                    "name": "clusterName",
                    "type": "",
                    "value": "n-inlr2e5a7mf3x9mbkh98p6bhek"
                  },
                  {
                    "name": "defaultTags.created_by",
                    "type": "",
                    "value": "alb-ingress-controller"
                  },
                  {
                    "name": "defaultTags.install\\.nuon\\.co\\/id",
                    "type": "",
                    "value": "inlr2e5a7mf3x9mbkh98p6bhek"
                  },
                  {
                    "name": "defaultTags.nuon_install_id",
                    "type": "",
                    "value": "inlr2e5a7mf3x9mbkh98p6bhek"
                  },
                  {
                    "name": "enableCertManager",
                    "type": "",
                    "value": "apply"
                  },
                  {
                    "name": "rbac.create",
                    "type": "",
                    "value": "true"
                  },
                  {
                    "name": "serviceAccount.annotations.eks\\.amazonaws\\.com/role-arn",
                    "type": ""
                  },
                  {
                    "name": "serviceAccount.create",
                    "type": "",
                    "value": "true"
                  },
                  {
                    "name": "serviceAccount.name",
                    "type": "",
                    "value": "alb-ingress-controller"
                  }
                ],
                "lint": false,
                "name": "alb-ingress-controller",
                "wait": true,
                "chart": "aws-load-balancer-controller",
                "devel": null,
                "atomic": false,
                "status": "deployed",
                "values": [
                  "\"tolerations\":\n- \"effect\": \"NoSchedule\"\n  \"key\": \"CriticalAddonsOnly\"\n  \"value\": \"true\"\n- \"effect\": \"NoSchedule\"\n  \"key\": \"karpenter.sh/controller\"\n  \"value\": \"true\"\n"
                ],
                "verify": false,
                "keyring": null,
                "replace": false,
                "timeout": 300,
                "version": "1.12.0",
                "set_list": [],
                "namespace": "alb-ingress-controller",
                "skip_crds": false,
                "postrender": [],
                "repository": "https://aws.github.io/eks-charts",
                "description": null,
                "max_history": 0,
                "force_update": false,
                "reset_values": false,
                "reuse_values": false,
                "recreate_pods": false,
                "set_sensitive": [],
                "wait_for_jobs": false,
                "cleanup_on_fail": false,
                "upgrade_install": null,
                "create_namespace": true,
                "disable_webhooks": false,
                "pass_credentials": false,
                "dependency_update": false,
                "disable_crd_hooks": false,
                "repository_ca_file": null,
                "repository_key_file": null,
                "repository_password": null,
                "repository_username": null,
                "repository_cert_file": null,
                "render_subchart_notes": true,
                "disable_openapi_validation": false
              },
              "address": "module.nuon_dns[0].helm_release.alb_ingress_controller",
              "provider_name": "registry.terraform.io/hashicorp/helm",
              "schema_version": 1,
              "sensitive_values": {
                "set": [
                  {},
                  {},
                  {},
                  {},
                  {},
                  {},
                  {},
                  {},
                  {}
                ],
                "values": [
                  false
                ],
                "metadata": [],
                "set_list": [],
                "postrender": [],
                "set_sensitive": [],
                "repository_password": true
              }
            },
            {
              "mode": "managed",
              "name": "cert_manager",
              "type": "helm_release",
              "values": {
                "set": [
                  {
                    "name": "installCRDs",
                    "type": "",
                    "value": "true"
                  },
                  {
                    "name": "securityContext.fsGroup",
                    "type": "",
                    "value": "1001"
                  },
                  {
                    "name": "serviceAccount.annotations.eks\\.amazonaws\\.com/role-arn",
                    "type": ""
                  }
                ],
                "lint": false,
                "name": "cert-manager",
                "wait": true,
                "chart": "cert-manager",
                "devel": null,
                "atomic": false,
                "status": "deployed",
                "values": [
                  "\"cainjector\":\n  \"tolerations\":\n  - \"effect\": \"NoSchedule\"\n    \"key\": \"CriticalAddonsOnly\"\n    \"value\": \"true\"\n  - \"effect\": \"NoSchedule\"\n    \"key\": \"karpenter.sh/controller\"\n    \"value\": \"true\"\n\"startupapicheck\":\n  \"tolerations\":\n  - \"effect\": \"NoSchedule\"\n    \"key\": \"CriticalAddonsOnly\"\n    \"value\": \"true\"\n  - \"effect\": \"NoSchedule\"\n    \"key\": \"karpenter.sh/controller\"\n    \"value\": \"true\"\n\"tolerations\":\n- \"effect\": \"NoSchedule\"\n  \"key\": \"CriticalAddonsOnly\"\n  \"value\": \"true\"\n- \"effect\": \"NoSchedule\"\n  \"key\": \"karpenter.sh/controller\"\n  \"value\": \"true\"\n\"webhook\":\n  \"tolerations\":\n  - \"effect\": \"NoSchedule\"\n    \"key\": \"CriticalAddonsOnly\"\n    \"value\": \"true\"\n  - \"effect\": \"NoSchedule\"\n    \"key\": \"karpenter.sh/controller\"\n    \"value\": \"true\"\n"
                ],
                "verify": false,
                "keyring": null,
                "replace": false,
                "timeout": 300,
                "version": "v1.11.0",
                "set_list": [],
                "namespace": "cert-manager",
                "skip_crds": false,
                "postrender": [],
                "repository": "https://charts.jetstack.io",
                "description": null,
                "max_history": 0,
                "force_update": false,
                "reset_values": false,
                "reuse_values": false,
                "recreate_pods": false,
                "set_sensitive": [],
                "wait_for_jobs": false,
                "cleanup_on_fail": false,
                "upgrade_install": null,
                "create_namespace": true,
                "disable_webhooks": false,
                "pass_credentials": false,
                "dependency_update": false,
                "disable_crd_hooks": false,
                "repository_ca_file": null,
                "repository_key_file": null,
                "repository_password": null,
                "repository_username": null,
                "repository_cert_file": null,
                "render_subchart_notes": true,
                "disable_openapi_validation": false
              },
              "address": "module.nuon_dns[0].helm_release.cert_manager",
              "provider_name": "registry.terraform.io/hashicorp/helm",
              "schema_version": 1,
              "sensitive_values": {
                "set": [
                  {},
                  {},
                  {}
                ],
                "values": [
                  false
                ],
                "metadata": [],
                "set_list": [],
                "postrender": [],
                "set_sensitive": [],
                "repository_password": true
              }
            },
            {
              "mode": "managed",
              "name": "external_dns",
              "type": "helm_release",
              "values": {
                "set": [
                  {
                    "name": "domain_filters[0]",
                    "type": "",
                    "value": "internal.nuon-dev-main-us-west-2.nuon.run"
                  },
                  {
                    "name": "domain_filters[1]",
                    "type": "",
                    "value": "nuon-dev-main-us-west-2.nuon.run"
                  },
                  {
                    "name": "extraArgs[0]",
                    "type": "",
                    "value": "--publish-internal-services"
                  },
                  {
                    "name": "extraArgs[1]",
                    "type": ""
                  },
                  {
                    "name": "extraArgs[2]",
                    "type": ""
                  },
                  {
                    "name": "serviceAccount.annotations.eks\\.amazonaws\\.com/role-arn",
                    "type": ""
                  },
                  {
                    "name": "txt_owner_id",
                    "type": "",
                    "value": "inlr2e5a7mf3x9mbkh98p6bhek"
                  }
                ],
                "lint": false,
                "name": "external-dns",
                "wait": true,
                "chart": "external-dns",
                "devel": null,
                "atomic": false,
                "status": "deployed",
                "values": [
                  "---\ninterval: 15m\ntriggerLoopOnEvent: true\npolicy: sync\nregistry: txt\nprovider: aws\ntolerations:\n- effect: NoSchedule\n  key: CriticalAddonsOnly\n  value: \"true\"\n- effect: NoSchedule\n  key: karpenter.sh/controller\n  value: \"true\"\n"
                ],
                "verify": false,
                "keyring": null,
                "replace": false,
                "timeout": 300,
                "version": "1.12.0",
                "set_list": [],
                "namespace": "external-dns",
                "skip_crds": false,
                "postrender": [],
                "repository": "https://kubernetes-sigs.github.io/external-dns/",
                "description": null,
                "max_history": 0,
                "force_update": false,
                "reset_values": false,
                "reuse_values": false,
                "recreate_pods": false,
                "set_sensitive": [],
                "wait_for_jobs": false,
                "cleanup_on_fail": false,
                "upgrade_install": null,
                "create_namespace": true,
                "disable_webhooks": false,
                "pass_credentials": false,
                "dependency_update": false,
                "disable_crd_hooks": false,
                "repository_ca_file": null,
                "repository_key_file": null,
                "repository_password": null,
                "repository_username": null,
                "repository_cert_file": null,
                "render_subchart_notes": true,
                "disable_openapi_validation": false
              },
              "address": "module.nuon_dns[0].helm_release.external_dns",
              "provider_name": "registry.terraform.io/hashicorp/helm",
              "schema_version": 1,
              "sensitive_values": {
                "set": [
                  {},
                  {},
                  {},
                  {},
                  {},
                  {},
                  {}
                ],
                "values": [
                  false
                ],
                "metadata": [],
                "set_list": [],
                "postrender": [],
                "set_sensitive": [],
                "repository_password": true
              }
            },
            {
              "mode": "managed",
              "name": "ingress_nginx",
              "type": "helm_release",
              "values": {
                "set": [
                  {
                    "name": "rbac.create",
                    "type": "",
                    "value": "true"
                  }
                ],
                "lint": false,
                "name": "ingress-nginx",
                "wait": true,
                "chart": "ingress-nginx",
                "devel": null,
                "atomic": false,
                "status": "deployed",
                "values": [
                  "\"controller\":\n  \"admissionWebhooks\":\n    \"patch\":\n      \"tolerations\":\n      - \"effect\": \"NoSchedule\"\n        \"key\": \"karpenter.sh/controller\"\n        \"value\": \"true\"\n      - \"effect\": \"NoSchedule\"\n        \"key\": \"CriticalAddonsOnly\"\n        \"value\": \"true\"\n  \"tolerations\":\n  - \"effect\": \"NoSchedule\"\n    \"key\": \"karpenter.sh/controller\"\n    \"value\": \"true\"\n  - \"effect\": \"NoSchedule\"\n    \"key\": \"CriticalAddonsOnly\"\n    \"value\": \"true\"\n\"tolerations\":\n- \"effect\": \"NoSchedule\"\n  \"key\": \"karpenter.sh/controller\"\n  \"value\": \"true\"\n- \"effect\": \"NoSchedule\"\n  \"key\": \"CriticalAddonsOnly\"\n  \"value\": \"true\"\n"
                ],
                "verify": false,
                "keyring": null,
                "replace": false,
                "timeout": 600,
                "version": "4.12.1",
                "set_list": [],
                "namespace": "ingress-nginx",
                "skip_crds": false,
                "postrender": [],
                "repository": "https://kubernetes.github.io/ingress-nginx",
                "description": null,
                "max_history": 0,
                "force_update": false,
                "reset_values": false,
                "reuse_values": false,
                "recreate_pods": false,
                "set_sensitive": [],
                "wait_for_jobs": false,
                "cleanup_on_fail": false,
                "upgrade_install": null,
                "create_namespace": true,
                "disable_webhooks": false,
                "pass_credentials": false,
                "dependency_update": false,
                "disable_crd_hooks": false,
                "repository_ca_file": null,
                "repository_key_file": null,
                "repository_password": null,
                "repository_username": null,
                "repository_cert_file": null,
                "render_subchart_notes": true,
                "disable_openapi_validation": false
              },
              "address": "module.nuon_dns[0].helm_release.ingress_nginx",
              "provider_name": "registry.terraform.io/hashicorp/helm",
              "schema_version": 1,
              "sensitive_values": {
                "set": [
                  {}
                ],
                "values": [
                  false
                ],
                "metadata": [],
                "set_list": [],
                "postrender": [],
                "set_sensitive": [],
                "repository_password": true
              }
            },
            {
              "mode": "managed",
              "name": "internal_cluster_issuer",
              "type": "kubectl_manifest",
              "values": {
                "wait": null,
                "timeouts": null,
                "force_new": false,
                "apply_only": false,
                "ignore_fields": null,
                "force_conflicts": false,
                "validate_schema": true,
                "sensitive_fields": null,
                "wait_for_rollout": true,
                "server_side_apply": false,
                "override_namespace": null
              },
              "address": "module.nuon_dns[0].kubectl_manifest.internal_cluster_issuer",
              "provider_name": "registry.terraform.io/gavinbunney/kubectl",
              "schema_version": 1,
              "sensitive_values": {
                "yaml_body": true,
                "yaml_incluster": true,
                "live_manifest_incluster": true
              }
            },
            {
              "mode": "managed",
              "name": "public_cluster_issuer",
              "type": "kubectl_manifest",
              "values": {
                "wait": null,
                "timeouts": null,
                "force_new": false,
                "apply_only": false,
                "ignore_fields": null,
                "force_conflicts": false,
                "validate_schema": true,
                "sensitive_fields": null,
                "wait_for_rollout": true,
                "server_side_apply": false,
                "override_namespace": null
              },
              "address": "module.nuon_dns[0].kubectl_manifest.public_cluster_issuer",
              "provider_name": "registry.terraform.io/gavinbunney/kubectl",
              "schema_version": 1,
              "sensitive_values": {
                "yaml_body": true,
                "yaml_incluster": true,
                "live_manifest_incluster": true
              }
            }
          ],
          "child_modules": [
            {
              "address": "module.nuon_dns[0].module.cert_manager_irsa",
              "resources": [
                {
                  "mode": "managed",
                  "name": "cert_manager",
                  "type": "aws_iam_policy",
                  "index": 0,
                  "values": {
                    "path": "/",
                    "tags": {
                      "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek"
                    },
                    "tags_all": {
                      "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                      "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                      "sandbox.nuon.co/name": "aws-eks",
                      "sandbox.nuon.co/variant": "karpenter"
                    },
                    "description": "Cert Manager policy to allow management of Route53 hosted zone records",
                    "name_prefix": "AmazonEKS_Cert_Manager_Policy-"
                  },
                  "address": "module.nuon_dns[0].module.cert_manager_irsa.aws_iam_policy.cert_manager[0]",
                  "provider_name": "registry.terraform.io/hashicorp/aws",
                  "schema_version": 0,
                  "sensitive_values": {
                    "tags": {},
                    "tags_all": {}
                  }
                },
                {
                  "mode": "managed",
                  "name": "this",
                  "type": "aws_iam_role",
                  "index": 0,
                  "values": {
                    "name": "cert-manager-inlr2e5a7mf3x9mbkh98p6bhek",
                    "path": "/",
                    "tags": {
                      "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek"
                    },
                    "tags_all": {
                      "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                      "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                      "sandbox.nuon.co/name": "aws-eks",
                      "sandbox.nuon.co/variant": "karpenter"
                    },
                    "description": null,
                    "max_session_duration": 3600,
                    "permissions_boundary": null,
                    "force_detach_policies": true
                  },
                  "address": "module.nuon_dns[0].module.cert_manager_irsa.aws_iam_role.this[0]",
                  "provider_name": "registry.terraform.io/hashicorp/aws",
                  "schema_version": 0,
                  "sensitive_values": {
                    "tags": {},
                    "tags_all": {},
                    "inline_policy": [],
                    "managed_policy_arns": []
                  }
                },
                {
                  "mode": "managed",
                  "name": "cert_manager",
                  "type": "aws_iam_role_policy_attachment",
                  "index": 0,
                  "values": {
                    "role": "cert-manager-inlr2e5a7mf3x9mbkh98p6bhek"
                  },
                  "address": "module.nuon_dns[0].module.cert_manager_irsa.aws_iam_role_policy_attachment.cert_manager[0]",
                  "provider_name": "registry.terraform.io/hashicorp/aws",
                  "schema_version": 0,
                  "sensitive_values": {}
                },
                {
                  "mode": "data",
                  "name": "current",
                  "type": "aws_caller_identity",
                  "address": "module.nuon_dns[0].module.cert_manager_irsa.data.aws_caller_identity.current",
                  "provider_name": "registry.terraform.io/hashicorp/aws",
                  "schema_version": 0,
                  "sensitive_values": {}
                },
                {
                  "mode": "data",
                  "name": "cert_manager",
                  "type": "aws_iam_policy_document",
                  "index": 0,
                  "values": {
                    "version": null,
                    "policy_id": null,
                    "statement": [
                      {
                        "sid": null,
                        "effect": null,
                        "actions": [
                          "route53:GetChange"
                        ],
                        "condition": [],
                        "resources": [
                          null
                        ],
                        "principals": [],
                        "not_actions": null,
                        "not_resources": null,
                        "not_principals": []
                      },
                      {
                        "sid": null,
                        "effect": null,
                        "actions": [
                          "route53:ChangeResourceRecordSets",
                          "route53:ListResourceRecordSets"
                        ],
                        "condition": [],
                        "resources": [
                          null,
                          null
                        ],
                        "principals": [],
                        "not_actions": null,
                        "not_resources": null,
                        "not_principals": []
                      },
                      {
                        "sid": null,
                        "effect": null,
                        "actions": [
                          "route53:ListHostedZonesByName"
                        ],
                        "condition": [],
                        "resources": [
                          "*"
                        ],
                        "principals": [],
                        "not_actions": null,
                        "not_resources": null,
                        "not_principals": []
                      }
                    ],
                    "source_json": null,
                    "override_json": null,
                    "source_policy_documents": null,
                    "override_policy_documents": null
                  },
                  "address": "module.nuon_dns[0].module.cert_manager_irsa.data.aws_iam_policy_document.cert_manager[0]",
                  "provider_name": "registry.terraform.io/hashicorp/aws",
                  "schema_version": 0,
                  "sensitive_values": {
                    "statement": [
                      {
                        "actions": [
                          false
                        ],
                        "condition": [],
                        "resources": [
                          false
                        ],
                        "principals": [],
                        "not_principals": []
                      },
                      {
                        "actions": [
                          false,
                          false
                        ],
                        "condition": [],
                        "resources": [
                          false,
                          false
                        ],
                        "principals": [],
                        "not_principals": []
                      },
                      {
                        "actions": [
                          false
                        ],
                        "condition": [],
                        "resources": [
                          false
                        ],
                        "principals": [],
                        "not_principals": []
                      }
                    ]
                  }
                },
                {
                  "mode": "data",
                  "name": "this",
                  "type": "aws_iam_policy_document",
                  "index": 0,
                  "values": {
                    "version": null,
                    "policy_id": null,
                    "statement": [
                      {
                        "sid": null,
                        "effect": "Allow",
                        "actions": [
                          "sts:AssumeRoleWithWebIdentity"
                        ],
                        "condition": [
                          {
                            "test": "StringEquals",
                            "values": [
                              "sts.amazonaws.com"
                            ]
                          },
                          {
                            "test": "StringEquals",
                            "values": [
                              "system:serviceaccount:cert-manager:cert-manager"
                            ]
                          }
                        ],
                        "resources": null,
                        "principals": [
                          {
                            "type": "Federated",
                            "identifiers": [
                              null
                            ]
                          }
                        ],
                        "not_actions": null,
                        "not_resources": null,
                        "not_principals": []
                      }
                    ],
                    "source_json": null,
                    "override_json": null,
                    "source_policy_documents": null,
                    "override_policy_documents": null
                  },
                  "address": "module.nuon_dns[0].module.cert_manager_irsa.data.aws_iam_policy_document.this[0]",
                  "provider_name": "registry.terraform.io/hashicorp/aws",
                  "schema_version": 0,
                  "sensitive_values": {
                    "statement": [
                      {
                        "actions": [
                          false
                        ],
                        "condition": [
                          {
                            "values": [
                              false
                            ]
                          },
                          {
                            "values": [
                              false
                            ]
                          }
                        ],
                        "principals": [
                          {
                            "identifiers": [
                              false
                            ]
                          }
                        ],
                        "not_principals": []
                      }
                    ]
                  }
                },
                {
                  "mode": "data",
                  "name": "current",
                  "type": "aws_partition",
                  "address": "module.nuon_dns[0].module.cert_manager_irsa.data.aws_partition.current",
                  "provider_name": "registry.terraform.io/hashicorp/aws",
                  "schema_version": 0,
                  "sensitive_values": {}
                },
                {
                  "mode": "data",
                  "name": "current",
                  "type": "aws_region",
                  "address": "module.nuon_dns[0].module.cert_manager_irsa.data.aws_region.current",
                  "provider_name": "registry.terraform.io/hashicorp/aws",
                  "schema_version": 0,
                  "sensitive_values": {}
                }
              ]
            },
            {
              "address": "module.nuon_dns[0].module.external_dns_irsa",
              "resources": [
                {
                  "mode": "managed",
                  "name": "external_dns",
                  "type": "aws_iam_policy",
                  "index": 0,
                  "values": {
                    "path": "/",
                    "tags": {
                      "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek"
                    },
                    "tags_all": {
                      "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                      "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                      "sandbox.nuon.co/name": "aws-eks",
                      "sandbox.nuon.co/variant": "karpenter"
                    },
                    "description": "External DNS policy to allow management of Route53 hosted zone records",
                    "name_prefix": "AmazonEKS_External_DNS_Policy-"
                  },
                  "address": "module.nuon_dns[0].module.external_dns_irsa.aws_iam_policy.external_dns[0]",
                  "provider_name": "registry.terraform.io/hashicorp/aws",
                  "schema_version": 0,
                  "sensitive_values": {
                    "tags": {},
                    "tags_all": {}
                  }
                },
                {
                  "mode": "managed",
                  "name": "this",
                  "type": "aws_iam_role",
                  "index": 0,
                  "values": {
                    "name": "external-dns-inlr2e5a7mf3x9mbkh98p6bhek",
                    "path": "/",
                    "tags": {
                      "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek"
                    },
                    "tags_all": {
                      "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                      "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                      "sandbox.nuon.co/name": "aws-eks",
                      "sandbox.nuon.co/variant": "karpenter"
                    },
                    "description": null,
                    "max_session_duration": 3600,
                    "permissions_boundary": null,
                    "force_detach_policies": true
                  },
                  "address": "module.nuon_dns[0].module.external_dns_irsa.aws_iam_role.this[0]",
                  "provider_name": "registry.terraform.io/hashicorp/aws",
                  "schema_version": 0,
                  "sensitive_values": {
                    "tags": {},
                    "tags_all": {},
                    "inline_policy": [],
                    "managed_policy_arns": []
                  }
                },
                {
                  "mode": "managed",
                  "name": "external_dns",
                  "type": "aws_iam_role_policy_attachment",
                  "index": 0,
                  "values": {
                    "role": "external-dns-inlr2e5a7mf3x9mbkh98p6bhek"
                  },
                  "address": "module.nuon_dns[0].module.external_dns_irsa.aws_iam_role_policy_attachment.external_dns[0]",
                  "provider_name": "registry.terraform.io/hashicorp/aws",
                  "schema_version": 0,
                  "sensitive_values": {}
                },
                {
                  "mode": "data",
                  "name": "current",
                  "type": "aws_caller_identity",
                  "address": "module.nuon_dns[0].module.external_dns_irsa.data.aws_caller_identity.current",
                  "provider_name": "registry.terraform.io/hashicorp/aws",
                  "schema_version": 0,
                  "sensitive_values": {}
                },
                {
                  "mode": "data",
                  "name": "external_dns",
                  "type": "aws_iam_policy_document",
                  "index": 0,
                  "values": {
                    "version": null,
                    "policy_id": null,
                    "statement": [
                      {
                        "sid": null,
                        "effect": null,
                        "actions": [
                          "route53:ChangeResourceRecordSets"
                        ],
                        "condition": [],
                        "resources": [
                          null,
                          null
                        ],
                        "principals": [],
                        "not_actions": null,
                        "not_resources": null,
                        "not_principals": []
                      },
                      {
                        "sid": null,
                        "effect": null,
                        "actions": [
                          "route53:ListHostedZones",
                          "route53:ListResourceRecordSets",
                          "route53:ListTagsForResources"
                        ],
                        "condition": [],
                        "resources": [
                          "*"
                        ],
                        "principals": [],
                        "not_actions": null,
                        "not_resources": null,
                        "not_principals": []
                      }
                    ],
                    "source_json": null,
                    "override_json": null,
                    "source_policy_documents": null,
                    "override_policy_documents": null
                  },
                  "address": "module.nuon_dns[0].module.external_dns_irsa.data.aws_iam_policy_document.external_dns[0]",
                  "provider_name": "registry.terraform.io/hashicorp/aws",
                  "schema_version": 0,
                  "sensitive_values": {
                    "statement": [
                      {
                        "actions": [
                          false
                        ],
                        "condition": [],
                        "resources": [
                          false,
                          false
                        ],
                        "principals": [],
                        "not_principals": []
                      },
                      {
                        "actions": [
                          false,
                          false,
                          false
                        ],
                        "condition": [],
                        "resources": [
                          false
                        ],
                        "principals": [],
                        "not_principals": []
                      }
                    ]
                  }
                },
                {
                  "mode": "data",
                  "name": "this",
                  "type": "aws_iam_policy_document",
                  "index": 0,
                  "values": {
                    "version": null,
                    "policy_id": null,
                    "statement": [
                      {
                        "sid": null,
                        "effect": "Allow",
                        "actions": [
                          "sts:AssumeRoleWithWebIdentity"
                        ],
                        "condition": [
                          {
                            "test": "StringEquals",
                            "values": [
                              "sts.amazonaws.com"
                            ]
                          },
                          {
                            "test": "StringEquals",
                            "values": [
                              "system:serviceaccount:external-dns:external-dns"
                            ]
                          }
                        ],
                        "resources": null,
                        "principals": [
                          {
                            "type": "Federated",
                            "identifiers": [
                              null
                            ]
                          }
                        ],
                        "not_actions": null,
                        "not_resources": null,
                        "not_principals": []
                      }
                    ],
                    "source_json": null,
                    "override_json": null,
                    "source_policy_documents": null,
                    "override_policy_documents": null
                  },
                  "address": "module.nuon_dns[0].module.external_dns_irsa.data.aws_iam_policy_document.this[0]",
                  "provider_name": "registry.terraform.io/hashicorp/aws",
                  "schema_version": 0,
                  "sensitive_values": {
                    "statement": [
                      {
                        "actions": [
                          false
                        ],
                        "condition": [
                          {
                            "values": [
                              false
                            ]
                          },
                          {
                            "values": [
                              false
                            ]
                          }
                        ],
                        "principals": [
                          {
                            "identifiers": [
                              false
                            ]
                          }
                        ],
                        "not_principals": []
                      }
                    ]
                  }
                },
                {
                  "mode": "data",
                  "name": "current",
                  "type": "aws_partition",
                  "address": "module.nuon_dns[0].module.external_dns_irsa.data.aws_partition.current",
                  "provider_name": "registry.terraform.io/hashicorp/aws",
                  "schema_version": 0,
                  "sensitive_values": {}
                },
                {
                  "mode": "data",
                  "name": "current",
                  "type": "aws_region",
                  "address": "module.nuon_dns[0].module.external_dns_irsa.data.aws_region.current",
                  "provider_name": "registry.terraform.io/hashicorp/aws",
                  "schema_version": 0,
                  "sensitive_values": {}
                }
              ]
            },
            {
              "address": "module.nuon_dns[0].module.alb_controller_irsa",
              "resources": [
                {
                  "mode": "managed",
                  "name": "load_balancer_controller",
                  "type": "aws_iam_policy",
                  "index": 0,
                  "values": {
                    "path": "/",
                    "tags": {
                      "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek"
                    },
                    "tags_all": {
                      "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                      "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                      "sandbox.nuon.co/name": "aws-eks",
                      "sandbox.nuon.co/variant": "karpenter"
                    },
                    "description": "Provides permissions for AWS Load Balancer Controller addon",
                    "name_prefix": "AmazonEKS_AWS_Load_Balancer_Controller-"
                  },
                  "address": "module.nuon_dns[0].module.alb_controller_irsa.aws_iam_policy.load_balancer_controller[0]",
                  "provider_name": "registry.terraform.io/hashicorp/aws",
                  "schema_version": 0,
                  "sensitive_values": {
                    "tags": {},
                    "tags_all": {}
                  }
                },
                {
                  "mode": "managed",
                  "name": "this",
                  "type": "aws_iam_role",
                  "index": 0,
                  "values": {
                    "name": "alb-controller-inlr2e5a7mf3x9mbkh98p6bhek",
                    "path": "/",
                    "tags": {
                      "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek"
                    },
                    "tags_all": {
                      "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                      "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                      "sandbox.nuon.co/name": "aws-eks",
                      "sandbox.nuon.co/variant": "karpenter"
                    },
                    "description": null,
                    "max_session_duration": 3600,
                    "permissions_boundary": null,
                    "force_detach_policies": true
                  },
                  "address": "module.nuon_dns[0].module.alb_controller_irsa.aws_iam_role.this[0]",
                  "provider_name": "registry.terraform.io/hashicorp/aws",
                  "schema_version": 0,
                  "sensitive_values": {
                    "tags": {},
                    "tags_all": {},
                    "inline_policy": [],
                    "managed_policy_arns": []
                  }
                },
                {
                  "mode": "managed",
                  "name": "load_balancer_controller",
                  "type": "aws_iam_role_policy_attachment",
                  "index": 0,
                  "values": {
                    "role": "alb-controller-inlr2e5a7mf3x9mbkh98p6bhek"
                  },
                  "address": "module.nuon_dns[0].module.alb_controller_irsa.aws_iam_role_policy_attachment.load_balancer_controller[0]",
                  "provider_name": "registry.terraform.io/hashicorp/aws",
                  "schema_version": 0,
                  "sensitive_values": {}
                },
                {
                  "mode": "data",
                  "name": "current",
                  "type": "aws_caller_identity",
                  "address": "module.nuon_dns[0].module.alb_controller_irsa.data.aws_caller_identity.current",
                  "provider_name": "registry.terraform.io/hashicorp/aws",
                  "schema_version": 0,
                  "sensitive_values": {}
                },
                {
                  "mode": "data",
                  "name": "load_balancer_controller",
                  "type": "aws_iam_policy_document",
                  "index": 0,
                  "values": {
                    "version": null,
                    "policy_id": null,
                    "statement": [
                      {
                        "sid": null,
                        "effect": null,
                        "actions": [
                          "iam:CreateServiceLinkedRole"
                        ],
                        "condition": [
                          {
                            "test": "StringEquals",
                            "values": [
                              null
                            ],
                            "variable": "iam:AWSServiceName"
                          }
                        ],
                        "resources": [
                          "*"
                        ],
                        "principals": [],
                        "not_actions": null,
                        "not_resources": null,
                        "not_principals": []
                      },
                      {
                        "sid": null,
                        "effect": null,
                        "actions": [
                          "ec2:DescribeAccountAttributes",
                          "ec2:DescribeAddresses",
                          "ec2:DescribeAvailabilityZones",
                          "ec2:DescribeCoipPools",
                          "ec2:DescribeInstances",
                          "ec2:DescribeInternetGateways",
                          "ec2:DescribeIpamPools",
                          "ec2:DescribeNetworkInterfaces",
                          "ec2:DescribeRouteTables",
                          "ec2:DescribeSecurityGroups",
                          "ec2:DescribeSubnets",
                          "ec2:DescribeTags",
                          "ec2:DescribeVpcPeeringConnections",
                          "ec2:DescribeVpcs",
                          "ec2:GetCoipPoolUsage",
                          "ec2:GetSecurityGroupsForVpc",
                          "elasticloadbalancing:DescribeCapacityReservation",
                          "elasticloadbalancing:DescribeListenerAttributes",
                          "elasticloadbalancing:DescribeListenerCertificates",
                          "elasticloadbalancing:DescribeListeners",
                          "elasticloadbalancing:DescribeLoadBalancerAttributes",
                          "elasticloadbalancing:DescribeLoadBalancers",
                          "elasticloadbalancing:DescribeRules",
                          "elasticloadbalancing:DescribeSSLPolicies",
                          "elasticloadbalancing:DescribeTags",
                          "elasticloadbalancing:DescribeTargetGroupAttributes",
                          "elasticloadbalancing:DescribeTargetGroups",
                          "elasticloadbalancing:DescribeTargetHealth",
                          "elasticloadbalancing:DescribeTrustStores"
                        ],
                        "condition": [],
                        "resources": [
                          "*"
                        ],
                        "principals": [],
                        "not_actions": null,
                        "not_resources": null,
                        "not_principals": []
                      },
                      {
                        "sid": null,
                        "effect": null,
                        "actions": [
                          "acm:DescribeCertificate",
                          "acm:ListCertificates",
                          "cognito-idp:DescribeUserPoolClient",
                          "iam:GetServerCertificate",
                          "iam:ListServerCertificates",
                          "shield:CreateProtection",
                          "shield:DeleteProtection",
                          "shield:DescribeProtection",
                          "shield:GetSubscriptionState",
                          "waf-regional:AssociateWebACL",
                          "waf-regional:DisassociateWebACL",
                          "waf-regional:GetWebACL",
                          "waf-regional:GetWebACLForResource",
                          "wafv2:AssociateWebACL",
                          "wafv2:DisassociateWebACL",
                          "wafv2:GetWebACL",
                          "wafv2:GetWebACLForResource"
                        ],
                        "condition": [],
                        "resources": [
                          "*"
                        ],
                        "principals": [],
                        "not_actions": null,
                        "not_resources": null,
                        "not_principals": []
                      },
                      {
                        "sid": null,
                        "effect": null,
                        "actions": [
                          "ec2:AuthorizeSecurityGroupIngress",
                          "ec2:RevokeSecurityGroupIngress"
                        ],
                        "condition": [],
                        "resources": [
                          "*"
                        ],
                        "principals": [],
                        "not_actions": null,
                        "not_resources": null,
                        "not_principals": []
                      },
                      {
                        "sid": null,
                        "effect": null,
                        "actions": [
                          "ec2:CreateSecurityGroup"
                        ],
                        "condition": [],
                        "resources": [
                          "*"
                        ],
                        "principals": [],
                        "not_actions": null,
                        "not_resources": null,
                        "not_principals": []
                      },
                      {
                        "sid": null,
                        "effect": null,
                        "actions": [
                          "ec2:CreateTags"
                        ],
                        "condition": [
                          {
                            "test": "Null",
                            "values": [
                              "false"
                            ],
                            "variable": "aws:RequestTag/elbv2.k8s.aws/cluster"
                          },
                          {
                            "test": "StringEquals",
                            "values": [
                              "CreateSecurityGroup"
                            ],
                            "variable": "ec2:CreateAction"
                          }
                        ],
                        "resources": [
                          null
                        ],
                        "principals": [],
                        "not_actions": null,
                        "not_resources": null,
                        "not_principals": []
                      },
                      {
                        "sid": null,
                        "effect": null,
                        "actions": [
                          "ec2:CreateTags",
                          "ec2:DeleteTags"
                        ],
                        "condition": [
                          {
                            "test": "Null",
                            "values": [
                              "false"
                            ],
                            "variable": "aws:ResourceTag/elbv2.k8s.aws/cluster"
                          },
                          {
                            "test": "Null",
                            "values": [
                              "true"
                            ],
                            "variable": "aws:RequestTag/elbv2.k8s.aws/cluster"
                          }
                        ],
                        "resources": [
                          null
                        ],
                        "principals": [],
                        "not_actions": null,
                        "not_resources": null,
                        "not_principals": []
                      },
                      {
                        "sid": null,
                        "effect": null,
                        "actions": [
                          "ec2:AuthorizeSecurityGroupIngress",
                          "ec2:DeleteSecurityGroup",
                          "ec2:RevokeSecurityGroupIngress"
                        ],
                        "condition": [
                          {
                            "test": "Null",
                            "values": [
                              "false"
                            ],
                            "variable": "aws:ResourceTag/elbv2.k8s.aws/cluster"
                          }
                        ],
                        "resources": [
                          "*"
                        ],
                        "principals": [],
                        "not_actions": null,
                        "not_resources": null,
                        "not_principals": []
                      },
                      {
                        "sid": null,
                        "effect": null,
                        "actions": [
                          "elasticloadbalancing:CreateLoadBalancer",
                          "elasticloadbalancing:CreateTargetGroup"
                        ],
                        "condition": [
                          {
                            "test": "Null",
                            "values": [
                              "false"
                            ],
                            "variable": "aws:RequestTag/elbv2.k8s.aws/cluster"
                          }
                        ],
                        "resources": [
                          "*"
                        ],
                        "principals": [],
                        "not_actions": null,
                        "not_resources": null,
                        "not_principals": []
                      },
                      {
                        "sid": null,
                        "effect": null,
                        "actions": [
                          "elasticloadbalancing:CreateListener",
                          "elasticloadbalancing:CreateRule",
                          "elasticloadbalancing:DeleteListener",
                          "elasticloadbalancing:DeleteRule"
                        ],
                        "condition": [],
                        "resources": [
                          "*"
                        ],
                        "principals": [],
                        "not_actions": null,
                        "not_resources": null,
                        "not_principals": []
                      },
                      {
                        "sid": null,
                        "effect": null,
                        "actions": [
                          "elasticloadbalancing:AddTags",
                          "elasticloadbalancing:RemoveTags"
                        ],
                        "condition": [
                          {
                            "test": "Null",
                            "values": [
                              "false"
                            ],
                            "variable": "aws:ResourceTag/elbv2.k8s.aws/cluster"
                          },
                          {
                            "test": "Null",
                            "values": [
                              "true"
                            ],
                            "variable": "aws:RequestTag/elbv2.k8s.aws/cluster"
                          }
                        ],
                        "resources": [
                          null,
                          null,
                          null
                        ],
                        "principals": [],
                        "not_actions": null,
                        "not_resources": null,
                        "not_principals": []
                      },
                      {
                        "sid": null,
                        "effect": null,
                        "actions": [
                          "elasticloadbalancing:AddTags",
                          "elasticloadbalancing:RemoveTags"
                        ],
                        "condition": [],
                        "resources": [
                          null,
                          null,
                          null,
                          null
                        ],
                        "principals": [],
                        "not_actions": null,
                        "not_resources": null,
                        "not_principals": []
                      },
                      {
                        "sid": null,
                        "effect": null,
                        "actions": [
                          "elasticloadbalancing:DeleteLoadBalancer",
                          "elasticloadbalancing:DeleteTargetGroup",
                          "elasticloadbalancing:ModifyCapacityReservation",
                          "elasticloadbalancing:ModifyIpPools",
                          "elasticloadbalancing:ModifyListenerAttributes",
                          "elasticloadbalancing:ModifyLoadBalancerAttributes",
                          "elasticloadbalancing:ModifyTargetGroup",
                          "elasticloadbalancing:ModifyTargetGroupAttributes",
                          "elasticloadbalancing:SetIpAddressType",
                          "elasticloadbalancing:SetSecurityGroups",
                          "elasticloadbalancing:SetSubnets"
                        ],
                        "condition": [
                          {
                            "test": "Null",
                            "values": [
                              "false"
                            ],
                            "variable": "aws:ResourceTag/elbv2.k8s.aws/cluster"
                          }
                        ],
                        "resources": [
                          "*"
                        ],
                        "principals": [],
                        "not_actions": null,
                        "not_resources": null,
                        "not_principals": []
                      },
                      {
                        "sid": null,
                        "effect": null,
                        "actions": [
                          "elasticloadbalancing:AddTags"
                        ],
                        "condition": [
                          {
                            "test": "Null",
                            "values": [
                              "false"
                            ],
                            "variable": "aws:RequestTag/elbv2.k8s.aws/cluster"
                          },
                          {
                            "test": "StringEquals",
                            "values": [
                              "CreateTargetGroup",
                              "CreateLoadBalancer"
                            ],
                            "variable": "elasticloadbalancing:CreateAction"
                          }
                        ],
                        "resources": [
                          null,
                          null,
                          null
                        ],
                        "principals": [],
                        "not_actions": null,
                        "not_resources": null,
                        "not_principals": []
                      },
                      {
                        "sid": null,
                        "effect": null,
                        "actions": [
                          "elasticloadbalancing:DeregisterTargets",
                          "elasticloadbalancing:RegisterTargets"
                        ],
                        "condition": [],
                        "resources": [
                          null
                        ],
                        "principals": [],
                        "not_actions": null,
                        "not_resources": null,
                        "not_principals": []
                      },
                      {
                        "sid": null,
                        "effect": null,
                        "actions": [
                          "elasticloadbalancing:AddListenerCertificates",
                          "elasticloadbalancing:ModifyListener",
                          "elasticloadbalancing:ModifyRule",
                          "elasticloadbalancing:RemoveListenerCertificates",
                          "elasticloadbalancing:SetRulePriorities",
                          "elasticloadbalancing:SetWebAcl"
                        ],
                        "condition": [],
                        "resources": [
                          "*"
                        ],
                        "principals": [],
                        "not_actions": null,
                        "not_resources": null,
                        "not_principals": []
                      }
                    ],
                    "source_json": null,
                    "override_json": null,
                    "source_policy_documents": null,
                    "override_policy_documents": null
                  },
                  "address": "module.nuon_dns[0].module.alb_controller_irsa.data.aws_iam_policy_document.load_balancer_controller[0]",
                  "provider_name": "registry.terraform.io/hashicorp/aws",
                  "schema_version": 0,
                  "sensitive_values": {
                    "statement": [
                      {
                        "actions": [
                          false
                        ],
                        "condition": [
                          {
                            "values": [
                              false
                            ]
                          }
                        ],
                        "resources": [
                          false
                        ],
                        "principals": [],
                        "not_principals": []
                      },
                      {
                        "actions": [
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false
                        ],
                        "condition": [],
                        "resources": [
                          false
                        ],
                        "principals": [],
                        "not_principals": []
                      },
                      {
                        "actions": [
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false
                        ],
                        "condition": [],
                        "resources": [
                          false
                        ],
                        "principals": [],
                        "not_principals": []
                      },
                      {
                        "actions": [
                          false,
                          false
                        ],
                        "condition": [],
                        "resources": [
                          false
                        ],
                        "principals": [],
                        "not_principals": []
                      },
                      {
                        "actions": [
                          false
                        ],
                        "condition": [],
                        "resources": [
                          false
                        ],
                        "principals": [],
                        "not_principals": []
                      },
                      {
                        "actions": [
                          false
                        ],
                        "condition": [
                          {
                            "values": [
                              false
                            ]
                          },
                          {
                            "values": [
                              false
                            ]
                          }
                        ],
                        "resources": [
                          false
                        ],
                        "principals": [],
                        "not_principals": []
                      },
                      {
                        "actions": [
                          false,
                          false
                        ],
                        "condition": [
                          {
                            "values": [
                              false
                            ]
                          },
                          {
                            "values": [
                              false
                            ]
                          }
                        ],
                        "resources": [
                          false
                        ],
                        "principals": [],
                        "not_principals": []
                      },
                      {
                        "actions": [
                          false,
                          false,
                          false
                        ],
                        "condition": [
                          {
                            "values": [
                              false
                            ]
                          }
                        ],
                        "resources": [
                          false
                        ],
                        "principals": [],
                        "not_principals": []
                      },
                      {
                        "actions": [
                          false,
                          false
                        ],
                        "condition": [
                          {
                            "values": [
                              false
                            ]
                          }
                        ],
                        "resources": [
                          false
                        ],
                        "principals": [],
                        "not_principals": []
                      },
                      {
                        "actions": [
                          false,
                          false,
                          false,
                          false
                        ],
                        "condition": [],
                        "resources": [
                          false
                        ],
                        "principals": [],
                        "not_principals": []
                      },
                      {
                        "actions": [
                          false,
                          false
                        ],
                        "condition": [
                          {
                            "values": [
                              false
                            ]
                          },
                          {
                            "values": [
                              false
                            ]
                          }
                        ],
                        "resources": [
                          false,
                          false,
                          false
                        ],
                        "principals": [],
                        "not_principals": []
                      },
                      {
                        "actions": [
                          false,
                          false
                        ],
                        "condition": [],
                        "resources": [
                          false,
                          false,
                          false,
                          false
                        ],
                        "principals": [],
                        "not_principals": []
                      },
                      {
                        "actions": [
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false,
                          false
                        ],
                        "condition": [
                          {
                            "values": [
                              false
                            ]
                          }
                        ],
                        "resources": [
                          false
                        ],
                        "principals": [],
                        "not_principals": []
                      },
                      {
                        "actions": [
                          false
                        ],
                        "condition": [
                          {
                            "values": [
                              false
                            ]
                          },
                          {
                            "values": [
                              false,
                              false
                            ]
                          }
                        ],
                        "resources": [
                          false,
                          false,
                          false
                        ],
                        "principals": [],
                        "not_principals": []
                      },
                      {
                        "actions": [
                          false,
                          false
                        ],
                        "condition": [],
                        "resources": [
                          false
                        ],
                        "principals": [],
                        "not_principals": []
                      },
                      {
                        "actions": [
                          false,
                          false,
                          false,
                          false,
                          false,
                          false
                        ],
                        "condition": [],
                        "resources": [
                          false
                        ],
                        "principals": [],
                        "not_principals": []
                      }
                    ]
                  }
                },
                {
                  "mode": "data",
                  "name": "this",
                  "type": "aws_iam_policy_document",
                  "index": 0,
                  "values": {
                    "version": null,
                    "policy_id": null,
                    "statement": [
                      {
                        "sid": null,
                        "effect": "Allow",
                        "actions": [
                          "sts:AssumeRoleWithWebIdentity"
                        ],
                        "condition": [
                          {
                            "test": "StringEquals",
                            "values": [
                              "sts.amazonaws.com"
                            ]
                          },
                          {
                            "test": "StringEquals",
                            "values": [
                              "system:serviceaccount:alb-ingress-controller:alb-ingress-controller"
                            ]
                          }
                        ],
                        "resources": null,
                        "principals": [
                          {
                            "type": "Federated",
                            "identifiers": [
                              null
                            ]
                          }
                        ],
                        "not_actions": null,
                        "not_resources": null,
                        "not_principals": []
                      }
                    ],
                    "source_json": null,
                    "override_json": null,
                    "source_policy_documents": null,
                    "override_policy_documents": null
                  },
                  "address": "module.nuon_dns[0].module.alb_controller_irsa.data.aws_iam_policy_document.this[0]",
                  "provider_name": "registry.terraform.io/hashicorp/aws",
                  "schema_version": 0,
                  "sensitive_values": {
                    "statement": [
                      {
                        "actions": [
                          false
                        ],
                        "condition": [
                          {
                            "values": [
                              false
                            ]
                          },
                          {
                            "values": [
                              false
                            ]
                          }
                        ],
                        "principals": [
                          {
                            "identifiers": [
                              false
                            ]
                          }
                        ],
                        "not_principals": []
                      }
                    ]
                  }
                },
                {
                  "mode": "data",
                  "name": "current",
                  "type": "aws_partition",
                  "address": "module.nuon_dns[0].module.alb_controller_irsa.data.aws_partition.current",
                  "provider_name": "registry.terraform.io/hashicorp/aws",
                  "schema_version": 0,
                  "sensitive_values": {}
                },
                {
                  "mode": "data",
                  "name": "current",
                  "type": "aws_region",
                  "address": "module.nuon_dns[0].module.alb_controller_irsa.data.aws_region.current",
                  "provider_name": "registry.terraform.io/hashicorp/aws",
                  "schema_version": 0,
                  "sensitive_values": {}
                }
              ]
            }
          ]
        }
      ]
    }
  },
  "resource_changes": [
    {
      "mode": "data",
      "name": "ecr",
      "type": "aws_iam_policy_document",
      "change": {
        "after": {
          "version": null,
          "policy_id": null,
          "statement": [
            {
              "sid": null,
              "effect": "Allow",
              "actions": [
                "cloudtrail:LookupEvents",
                "ecr:*"
              ],
              "condition": [],
              "resources": [
                null
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": null,
              "effect": "Allow",
              "actions": [
                "iam:CreateServiceLinkedRole"
              ],
              "condition": [
                {
                  "test": "StringEquals",
                  "values": [
                    "replication.ecr.amazonaws.com"
                  ],
                  "variable": "iam:AWSServiceName"
                }
              ],
              "resources": [
                null
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            }
          ],
          "source_json": null,
          "override_json": null,
          "source_policy_documents": null,
          "override_policy_documents": null
        },
        "before": null,
        "actions": [
          "read"
        ],
        "after_unknown": {
          "id": true,
          "json": true,
          "statement": [
            {
              "actions": [
                false,
                false
              ],
              "condition": [],
              "resources": [
                true
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                true
              ],
              "principals": [],
              "not_principals": []
            }
          ],
          "minified_json": true
        },
        "after_sensitive": {
          "statement": [
            {
              "actions": [
                false,
                false
              ],
              "condition": [],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            }
          ]
        },
        "before_sensitive": false
      },
      "address": "data.aws_iam_policy_document.ecr",
      "provider_name": "registry.terraform.io/hashicorp/aws"
    },
    {
      "mode": "managed",
      "name": "private_subnets_karpenter_tags",
      "type": "aws_ec2_tag",
      "index": "subnet-00adff60c11824aed",
      "change": {
        "after": {
          "key": "karpenter.sh/discovery",
          "value": "n-inlr2e5a7mf3x9mbkh98p6bhek",
          "resource_id": "subnet-00adff60c11824aed"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "aws_ec2_tag.private_subnets_karpenter_tags[\"subnet-00adff60c11824aed\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws"
    },
    {
      "mode": "managed",
      "name": "private_subnets_karpenter_tags",
      "type": "aws_ec2_tag",
      "index": "subnet-09c6a3a806aee2f8d",
      "change": {
        "after": {
          "key": "karpenter.sh/discovery",
          "value": "n-inlr2e5a7mf3x9mbkh98p6bhek",
          "resource_id": "subnet-09c6a3a806aee2f8d"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "aws_ec2_tag.private_subnets_karpenter_tags[\"subnet-09c6a3a806aee2f8d\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws"
    },
    {
      "mode": "managed",
      "name": "private_subnets_karpenter_tags",
      "type": "aws_ec2_tag",
      "index": "subnet-0c81560eb05406dff",
      "change": {
        "after": {
          "key": "karpenter.sh/discovery",
          "value": "n-inlr2e5a7mf3x9mbkh98p6bhek",
          "resource_id": "subnet-0c81560eb05406dff"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "aws_ec2_tag.private_subnets_karpenter_tags[\"subnet-0c81560eb05406dff\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws"
    },
    {
      "mode": "managed",
      "name": "karpenter",
      "type": "aws_iam_instance_profile",
      "change": {
        "after": {
          "name": "KarpenterNodeInstanceProfile-n-inlr2e5a7mf3x9mbkh98p6bhek",
          "path": "/",
          "tags": null,
          "tags_all": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "sandbox.nuon.co/variant": "karpenter"
          }
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "role": true,
          "tags_all": {},
          "unique_id": true,
          "create_date": true,
          "name_prefix": true
        },
        "after_sensitive": {
          "tags_all": {}
        },
        "before_sensitive": false
      },
      "address": "aws_iam_instance_profile.karpenter",
      "provider_name": "registry.terraform.io/hashicorp/aws"
    },
    {
      "mode": "managed",
      "name": "ecr_access",
      "type": "aws_iam_policy",
      "change": {
        "after": {
          "name": "ecr-access-inlr2e5a7mf3x9mbkh98p6bhek",
          "path": "/",
          "tags": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek"
          },
          "tags_all": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "description": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "tags": {},
          "policy": true,
          "tags_all": {},
          "policy_id": true,
          "name_prefix": true,
          "attachment_count": true
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        },
        "before_sensitive": false
      },
      "address": "aws_iam_policy.ecr_access",
      "provider_name": "registry.terraform.io/hashicorp/aws"
    },
    {
      "mode": "managed",
      "name": "ecr_access_deprovision",
      "type": "aws_iam_role_policy_attachment",
      "change": {
        "after": {
          "role": "inlr2e5a7mf3x9mbkh98p6bhek-deprovision"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "policy_arn": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "aws_iam_role_policy_attachment.ecr_access_deprovision",
      "provider_name": "registry.terraform.io/hashicorp/aws"
    },
    {
      "mode": "managed",
      "name": "ecr_access_maintenance",
      "type": "aws_iam_role_policy_attachment",
      "change": {
        "after": {
          "role": "inlr2e5a7mf3x9mbkh98p6bhek-maintenance"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "policy_arn": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "aws_iam_role_policy_attachment.ecr_access_maintenance",
      "provider_name": "registry.terraform.io/hashicorp/aws"
    },
    {
      "mode": "managed",
      "name": "ecr_access_provision",
      "type": "aws_iam_role_policy_attachment",
      "change": {
        "after": {
          "role": "inlr2e5a7mf3x9mbkh98p6bhek-provision"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "policy_arn": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "aws_iam_role_policy_attachment.ecr_access_provision",
      "provider_name": "registry.terraform.io/hashicorp/aws"
    },
    {
      "mode": "managed",
      "name": "eks",
      "type": "aws_kms_key",
      "change": {
        "after": {
          "tags": null,
          "tags_all": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "timeouts": null,
          "key_usage": "ENCRYPT_DECRYPT",
          "is_enabled": true,
          "xks_key_id": null,
          "description": "Key for n-inlr2e5a7mf3x9mbkh98p6bhek EKS cluster",
          "custom_key_store_id": null,
          "enable_key_rotation": false,
          "deletion_window_in_days": null,
          "customer_master_key_spec": "SYMMETRIC_DEFAULT",
          "bypass_policy_lockout_safety_check": false
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "key_id": true,
          "policy": true,
          "tags_all": {},
          "multi_region": true,
          "rotation_period_in_days": true
        },
        "after_sensitive": {
          "tags_all": {}
        },
        "before_sensitive": false
      },
      "address": "aws_kms_key.eks",
      "provider_name": "registry.terraform.io/hashicorp/aws"
    },
    {
      "mode": "managed",
      "name": "runner_cluster_access",
      "type": "aws_security_group_rule",
      "change": {
        "after": {
          "self": false,
          "type": "ingress",
          "to_port": 0,
          "protocol": "-1",
          "timeouts": null,
          "from_port": 0,
          "cidr_blocks": null,
          "description": "Allow ingress traffic from runner.",
          "prefix_list_ids": null,
          "ipv6_cidr_blocks": null,
          "source_security_group_id": "sg-0c375c07bca25c2bd"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "security_group_id": true,
          "security_group_rule_id": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "aws_security_group_rule.runner_cluster_access",
      "provider_name": "registry.terraform.io/hashicorp/aws"
    },
    {
      "mode": "managed",
      "name": "ebs_csi",
      "type": "helm_release",
      "change": {
        "after": {
          "set": [],
          "lint": false,
          "name": "ebs-csi-controller",
          "wait": true,
          "chart": "aws-ebs-csi-driver",
          "devel": null,
          "atomic": false,
          "status": "deployed",
          "verify": false,
          "keyring": null,
          "replace": false,
          "timeout": 300,
          "version": "2.16.0",
          "set_list": [],
          "namespace": "ebs-csi-controller",
          "skip_crds": false,
          "postrender": [],
          "repository": "https://kubernetes-sigs.github.io/aws-ebs-csi-driver",
          "description": null,
          "max_history": 0,
          "force_update": false,
          "reset_values": false,
          "reuse_values": false,
          "recreate_pods": false,
          "set_sensitive": [],
          "wait_for_jobs": false,
          "cleanup_on_fail": false,
          "upgrade_install": null,
          "create_namespace": true,
          "disable_webhooks": false,
          "pass_credentials": false,
          "dependency_update": false,
          "disable_crd_hooks": false,
          "repository_ca_file": null,
          "repository_key_file": null,
          "repository_password": null,
          "repository_username": null,
          "repository_cert_file": null,
          "render_subchart_notes": true,
          "disable_openapi_validation": false
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "set": [],
          "values": true,
          "manifest": true,
          "metadata": true,
          "set_list": [],
          "postrender": [],
          "set_sensitive": []
        },
        "after_sensitive": {
          "set": [],
          "values": [],
          "metadata": [],
          "set_list": [],
          "postrender": [],
          "set_sensitive": [],
          "repository_password": true
        },
        "before_sensitive": false
      },
      "address": "helm_release.ebs_csi",
      "provider_name": "registry.terraform.io/hashicorp/helm"
    },
    {
      "mode": "managed",
      "name": "karpenter",
      "type": "helm_release",
      "change": {
        "after": {
          "set": [],
          "lint": false,
          "name": "karpenter",
          "wait": true,
          "chart": "karpenter",
          "devel": null,
          "atomic": false,
          "status": "deployed",
          "verify": false,
          "keyring": null,
          "replace": false,
          "timeout": 300,
          "version": "1.4.0",
          "set_list": [],
          "namespace": "kube-system",
          "skip_crds": false,
          "postrender": [],
          "repository": "oci://public.ecr.aws/karpenter",
          "description": null,
          "max_history": 0,
          "force_update": false,
          "reset_values": false,
          "reuse_values": false,
          "recreate_pods": false,
          "set_sensitive": [],
          "wait_for_jobs": false,
          "cleanup_on_fail": false,
          "upgrade_install": null,
          "create_namespace": false,
          "disable_webhooks": false,
          "pass_credentials": false,
          "dependency_update": false,
          "disable_crd_hooks": false,
          "repository_ca_file": null,
          "repository_key_file": null,
          "repository_password": null,
          "repository_username": null,
          "repository_cert_file": null,
          "render_subchart_notes": true,
          "disable_openapi_validation": false
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "set": [],
          "values": true,
          "manifest": true,
          "metadata": true,
          "set_list": [],
          "postrender": [],
          "set_sensitive": []
        },
        "after_sensitive": {
          "set": [],
          "values": [],
          "metadata": [],
          "set_list": [],
          "postrender": [],
          "set_sensitive": [],
          "repository_password": true
        },
        "before_sensitive": false
      },
      "address": "helm_release.karpenter",
      "provider_name": "registry.terraform.io/hashicorp/helm"
    },
    {
      "mode": "managed",
      "name": "karpenter_crd",
      "type": "helm_release",
      "change": {
        "after": {
          "set": [],
          "lint": false,
          "name": "karpenter-crd",
          "wait": true,
          "chart": "karpenter-crd",
          "devel": null,
          "atomic": false,
          "status": "deployed",
          "values": [
            "\"karpenter_namespace\": \"kube-system\"\n\"webhook\":\n  \"enabled\": true\n  \"port\": 8443\n  \"serviceName\": \"karpenter\"\n"
          ],
          "verify": false,
          "keyring": null,
          "replace": false,
          "timeout": 300,
          "version": "1.4.0",
          "set_list": [],
          "namespace": "kube-system",
          "skip_crds": false,
          "postrender": [],
          "repository": "oci://public.ecr.aws/karpenter",
          "description": null,
          "max_history": 0,
          "force_update": false,
          "reset_values": false,
          "reuse_values": false,
          "recreate_pods": false,
          "set_sensitive": [],
          "wait_for_jobs": false,
          "cleanup_on_fail": false,
          "upgrade_install": null,
          "create_namespace": false,
          "disable_webhooks": false,
          "pass_credentials": false,
          "dependency_update": false,
          "disable_crd_hooks": false,
          "repository_ca_file": null,
          "repository_key_file": null,
          "repository_password": null,
          "repository_username": null,
          "repository_cert_file": null,
          "render_subchart_notes": true,
          "disable_openapi_validation": false
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "set": [],
          "values": [
            false
          ],
          "manifest": true,
          "metadata": true,
          "set_list": [],
          "postrender": [],
          "set_sensitive": []
        },
        "after_sensitive": {
          "set": [],
          "values": [
            false
          ],
          "metadata": [],
          "set_list": [],
          "postrender": [],
          "set_sensitive": [],
          "repository_password": true
        },
        "before_sensitive": false
      },
      "address": "helm_release.karpenter_crd",
      "provider_name": "registry.terraform.io/hashicorp/helm"
    },
    {
      "mode": "managed",
      "name": "kyverno",
      "type": "helm_release",
      "change": {
        "after": {
          "set": [],
          "lint": false,
          "name": "kyverno",
          "wait": true,
          "chart": "kyverno",
          "devel": null,
          "atomic": false,
          "status": "deployed",
          "values": [
            "crds:\n  install: true\nadmissionController:\n  replicas: 3\n  topologySpreadConstraints:\n    - maxSkew: 1\n      minDomains: 2\n      topologyKey: \"topology.kubernetes.io/zone\"\n      whenUnsatisfiable: DoNotSchedule\n      labelSelector:\n        matchLabels:\n          app.kubernetes.io/component: admission-controller\n    - maxSkew: 1\n      minDomains: 3\n      topologyKey: \"kubernetes.io/hostname\"\n      whenUnsatisfiable: DoNotSchedule\n      labelSelector:\n        matchLabels:\n          app.kubernetes.io/component: admission-controller\nbackgroundController:\n  replicas: 2\n  topologySpreadConstraints:\n    - maxSkew: 1\n      minDomains: 2\n      topologyKey: \"topology.kubernetes.io/zone\"\n      whenUnsatisfiable: DoNotSchedule\n      labelSelector:\n        matchLabels:\n          app.kubernetes.io/component: background-controller\n    - maxSkew: 1\n      minDomains: 2\n      topologyKey: \"kubernetes.io/hostname\"\n      whenUnsatisfiable: DoNotSchedule\n      labelSelector:\n        matchLabels:\n          app.kubernetes.io/component: background-controller\ncleanupController:\n  replicas: 2\nreportsController:\n  replicas: 2\n\nglobal:\n  tolerations:\n  - effect: NoSchedule\n    key: CriticalAddonsOnly\n    value: \"true\"\n  - effect: NoSchedule\n    key: karpenter.sh/controller\n    value: \"true\"\n"
          ],
          "verify": false,
          "keyring": null,
          "replace": false,
          "timeout": 300,
          "version": "3.3.7",
          "set_list": [],
          "namespace": "kyverno",
          "skip_crds": false,
          "postrender": [],
          "repository": "https://kyverno.github.io/kyverno/",
          "description": null,
          "max_history": 0,
          "force_update": false,
          "reset_values": false,
          "reuse_values": false,
          "recreate_pods": false,
          "set_sensitive": [],
          "wait_for_jobs": false,
          "cleanup_on_fail": false,
          "upgrade_install": null,
          "create_namespace": true,
          "disable_webhooks": false,
          "pass_credentials": false,
          "dependency_update": false,
          "disable_crd_hooks": false,
          "repository_ca_file": null,
          "repository_key_file": null,
          "repository_password": null,
          "repository_username": null,
          "repository_cert_file": null,
          "render_subchart_notes": true,
          "disable_openapi_validation": false
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "set": [],
          "values": [
            false
          ],
          "manifest": true,
          "metadata": true,
          "set_list": [],
          "postrender": [],
          "set_sensitive": []
        },
        "after_sensitive": {
          "set": [],
          "values": [
            false
          ],
          "metadata": [],
          "set_list": [],
          "postrender": [],
          "set_sensitive": [],
          "repository_password": true
        },
        "before_sensitive": false
      },
      "address": "helm_release.kyverno",
      "provider_name": "registry.terraform.io/hashicorp/helm"
    },
    {
      "mode": "managed",
      "name": "metrics_server",
      "type": "helm_release",
      "change": {
        "after": {
          "set": [],
          "lint": false,
          "name": "metrics-server",
          "wait": true,
          "chart": "metrics-server",
          "devel": null,
          "atomic": false,
          "status": "deployed",
          "values": [
            "\"tolerations\":\n- \"effect\": \"NoSchedule\"\n  \"key\": \"karpenter.sh/controller\"\n  \"value\": \"true\"\n- \"effect\": \"NoSchedule\"\n  \"key\": \"CriticalAddonsOnly\"\n  \"value\": \"true\"\n"
          ],
          "verify": false,
          "keyring": null,
          "replace": false,
          "timeout": 300,
          "version": "3.8.2",
          "set_list": [],
          "namespace": "metrics-server",
          "skip_crds": false,
          "postrender": [],
          "repository": "https://kubernetes-sigs.github.io/metrics-server/",
          "description": null,
          "max_history": 0,
          "force_update": false,
          "reset_values": false,
          "reuse_values": false,
          "recreate_pods": false,
          "set_sensitive": [],
          "wait_for_jobs": false,
          "cleanup_on_fail": false,
          "upgrade_install": null,
          "create_namespace": true,
          "disable_webhooks": false,
          "pass_credentials": false,
          "dependency_update": false,
          "disable_crd_hooks": false,
          "repository_ca_file": null,
          "repository_key_file": null,
          "repository_password": null,
          "repository_username": null,
          "repository_cert_file": null,
          "render_subchart_notes": true,
          "disable_openapi_validation": false
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "set": [],
          "values": [
            false
          ],
          "manifest": true,
          "metadata": true,
          "set_list": [],
          "postrender": [],
          "set_sensitive": []
        },
        "after_sensitive": {
          "set": [],
          "values": [
            false
          ],
          "metadata": [],
          "set_list": [],
          "postrender": [],
          "set_sensitive": [],
          "repository_password": true
        },
        "before_sensitive": false
      },
      "address": "helm_release.metrics_server",
      "provider_name": "registry.terraform.io/hashicorp/helm"
    },
    {
      "mode": "managed",
      "name": "default_policies",
      "type": "kubectl_manifest",
      "index": "./values/kyverno/policies/restrict-binding-system-groups.yaml",
      "change": {
        "after": {
          "kind": "ClusterPolicy",
          "name": "restrict-binding-system-groups",
          "wait": null,
          "timeouts": null,
          "force_new": false,
          "yaml_body": "# src: https://kyverno.io/policies/other/restrict-binding-system-groups/restrict-binding-system-groups/\n---\napiVersion: kyverno.io/v1\nkind: ClusterPolicy\nmetadata:\n  name: restrict-binding-system-groups\n  annotations:\n    policies.kyverno.io/title: Restrict Binding System Groups\n    policies.kyverno.io/category: Security, EKS Best Practices\n    policies.kyverno.io/severity: medium\n    policies.kyverno.io/subject: RoleBinding, ClusterRoleBinding, RBAC\n    kyverno.io/kyverno-version: 1.8.0\n    policies.kyverno.io/minversion: 1.6.0\n    kyverno.io/kubernetes-version: \"1.32\"\n    policies.kyverno.io/description: >-\n      Certain system groups exist in Kubernetes which grant permissions that\n      are used for certain system-level functions yet typically never appropriate\n      for other users. This policy prevents creating bindings to some of these\n      groups including system:anonymous, system:unauthenticated, and system:masters.\nspec:\n  validationFailureAction: Audit\n  background: true\n  rules:\n    - name: restrict-anonymous\n      match:\n        any:\n        - resources:\n            kinds:\n              - RoleBinding\n              - ClusterRoleBinding\n      validate:\n        message: \"Binding to system:anonymous is not allowed.\"\n        pattern:\n          subjects:\n            - name: \"!system:anonymous\"\n    - name: restrict-unauthenticated\n      match:\n        any:\n        - resources:\n            kinds:\n              - RoleBinding\n              - ClusterRoleBinding\n      validate:\n        message: \"Binding to system:unauthenticated is not allowed.\"\n        pattern:\n          subjects:\n            - name: \"!system:unauthenticated\"\n    - name: restrict-masters\n      match:\n        any:\n        - resources:\n            kinds:\n              - RoleBinding\n              - ClusterRoleBinding\n      validate:\n        message: \"Binding to system:masters is not allowed.\"\n        pattern:\n          subjects:\n            - name: \"!system:masters\"\n",
          "apply_only": false,
          "api_version": "kyverno.io/v1",
          "ignore_fields": null,
          "force_conflicts": false,
          "validate_schema": true,
          "sensitive_fields": null,
          "wait_for_rollout": true,
          "yaml_body_parsed": "apiVersion: kyverno.io/v1\nkind: ClusterPolicy\nmetadata:\n  annotations:\n    kyverno.io/kubernetes-version: \"1.32\"\n    kyverno.io/kyverno-version: 1.8.0\n    policies.kyverno.io/category: Security, EKS Best Practices\n    policies.kyverno.io/description: Certain system groups exist in Kubernetes which\n      grant permissions that are used for certain system-level functions yet typically\n      never appropriate for other users. This policy prevents creating bindings to\n      some of these groups including system:anonymous, system:unauthenticated, and\n      system:masters.\n    policies.kyverno.io/minversion: 1.6.0\n    policies.kyverno.io/severity: medium\n    policies.kyverno.io/subject: RoleBinding, ClusterRoleBinding, RBAC\n    policies.kyverno.io/title: Restrict Binding System Groups\n  name: restrict-binding-system-groups\nspec:\n  background: true\n  rules:\n  - match:\n      any:\n      - resources:\n          kinds:\n          - RoleBinding\n          - ClusterRoleBinding\n    name: restrict-anonymous\n    validate:\n      message: Binding to system:anonymous is not allowed.\n      pattern:\n        subjects:\n        - name: '!system:anonymous'\n  - match:\n      any:\n      - resources:\n          kinds:\n          - RoleBinding\n          - ClusterRoleBinding\n    name: restrict-unauthenticated\n    validate:\n      message: Binding to system:unauthenticated is not allowed.\n      pattern:\n        subjects:\n        - name: '!system:unauthenticated'\n  - match:\n      any:\n      - resources:\n          kinds:\n          - RoleBinding\n          - ClusterRoleBinding\n    name: restrict-masters\n    validate:\n      message: Binding to system:masters is not allowed.\n      pattern:\n        subjects:\n        - name: '!system:masters'\n  validationFailureAction: Audit\n",
          "server_side_apply": false,
          "override_namespace": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "uid": true,
          "live_uid": true,
          "namespace": true,
          "yaml_incluster": true,
          "live_manifest_incluster": true
        },
        "after_sensitive": {
          "yaml_body": true,
          "yaml_incluster": true,
          "live_manifest_incluster": true
        },
        "before_sensitive": false
      },
      "address": "kubectl_manifest.default_policies[\"./values/kyverno/policies/restrict-binding-system-groups.yaml\"]",
      "provider_name": "registry.terraform.io/gavinbunney/kubectl"
    },
    {
      "mode": "managed",
      "name": "default_policies",
      "type": "kubectl_manifest",
      "index": "./values/kyverno/policies/restrict-secret-role-verbs.yaml",
      "change": {
        "after": {
          "kind": "ClusterPolicy",
          "name": "restrict-secret-role-verbs",
          "wait": null,
          "timeouts": null,
          "force_new": false,
          "yaml_body": "apiVersion: kyverno.io/v1\nkind: ClusterPolicy\nmetadata:\n  name: restrict-secret-role-verbs\n  annotations:\n    policies.kyverno.io/title: Restrict Secret Verbs in Roles\n    policies.kyverno.io/category: Security\n    policies.kyverno.io/severity: medium\n    policies.kyverno.io/subject: Role, ClusterRole, RBAC\n    kyverno.io/kyverno-version: 1.6.2\n    policies.kyverno.io/minversion: 1.6.0\n    kyverno.io/kubernetes-version: \"1.23\"\n    policies.kyverno.io/description: >-\n      The verbs `get`, `list`, and `watch` in a Role or ClusterRole, when paired with the Secrets resource, effectively\n      allows Secrets to be read which may expose sensitive information. This policy prevents\n      a Role or ClusterRole from using these verbs in tandem with Secret resources. In order to\n      fully implement this control, it is recommended to pair this policy with another which\n      also prevents use of the wildcard ('*') in the verbs list either when explicitly naming Secrets\n      or when also using a wildcard in the base API group.\nspec:\n  validationFailureAction: Audit\n  background: false\n  rules:\n    - name: deny-reads-to-non-helm-secrets\n      match:\n        any:\n        - resources:\n            kinds:\n              - Role\n              - ClusterRole\n        preconditions:\n          all:\n          - key: \"{{ request.userInfo.groups }}\"\n            operator: AnyIn\n            value: [\"maintenance\"]\n      validate:\n        message: \"Requesting verbs `get`, `list`, or `watch` on Secrets is forbidden.\"\n        deny:\n          conditions:\n            all:\n            - key: [\"get\",\"list\",\"watch\"]\n              operator: AnyIn\n              value: \"{{ request.object.rules[?resources.contains(@,'secrets')].verbs[] }}\"\n            - key: \"{{ request.object.metadata.labels.owner || 'owner-not-defined'}}\"\n              operator: NotEquals\n              value: \"helm\"\n",
          "apply_only": false,
          "api_version": "kyverno.io/v1",
          "ignore_fields": null,
          "force_conflicts": false,
          "validate_schema": true,
          "sensitive_fields": null,
          "wait_for_rollout": true,
          "yaml_body_parsed": "apiVersion: kyverno.io/v1\nkind: ClusterPolicy\nmetadata:\n  annotations:\n    kyverno.io/kubernetes-version: \"1.23\"\n    kyverno.io/kyverno-version: 1.6.2\n    policies.kyverno.io/category: Security\n    policies.kyverno.io/description: The verbs `get`, `list`, and `watch` in a Role\n      or ClusterRole, when paired with the Secrets resource, effectively allows Secrets\n      to be read which may expose sensitive information. This policy prevents a Role\n      or ClusterRole from using these verbs in tandem with Secret resources. In order\n      to fully implement this control, it is recommended to pair this policy with\n      another which also prevents use of the wildcard ('*') in the verbs list either\n      when explicitly naming Secrets or when also using a wildcard in the base API\n      group.\n    policies.kyverno.io/minversion: 1.6.0\n    policies.kyverno.io/severity: medium\n    policies.kyverno.io/subject: Role, ClusterRole, RBAC\n    policies.kyverno.io/title: Restrict Secret Verbs in Roles\n  name: restrict-secret-role-verbs\nspec:\n  background: false\n  rules:\n  - match:\n      any:\n      - resources:\n          kinds:\n          - Role\n          - ClusterRole\n      preconditions:\n        all:\n        - key: '{{ request.userInfo.groups }}'\n          operator: AnyIn\n          value:\n          - maintenance\n    name: deny-reads-to-non-helm-secrets\n    validate:\n      deny:\n        conditions:\n          all:\n          - key:\n            - get\n            - list\n            - watch\n            operator: AnyIn\n            value: '{{ request.object.rules[?resources.contains(@,''secrets'')].verbs[]\n              }}'\n          - key: '{{ request.object.metadata.labels.owner || ''owner-not-defined''}}'\n            operator: NotEquals\n            value: helm\n      message: Requesting verbs `get`, `list`, or `watch` on Secrets is forbidden.\n  validationFailureAction: Audit\n",
          "server_side_apply": false,
          "override_namespace": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "uid": true,
          "live_uid": true,
          "namespace": true,
          "yaml_incluster": true,
          "live_manifest_incluster": true
        },
        "after_sensitive": {
          "yaml_body": true,
          "yaml_incluster": true,
          "live_manifest_incluster": true
        },
        "before_sensitive": false
      },
      "address": "kubectl_manifest.default_policies[\"./values/kyverno/policies/restrict-secret-role-verbs.yaml\"]",
      "provider_name": "registry.terraform.io/gavinbunney/kubectl"
    },
    {
      "mode": "managed",
      "name": "karpenter_ec2nodeclass_default",
      "type": "kubectl_manifest",
      "change": {
        "after": {
          "kind": "EC2NodeClass",
          "name": "default",
          "wait": null,
          "timeouts": null,
          "force_new": false,
          "yaml_body": "\"apiVersion\": \"karpenter.k8s.aws/v1\"\n\"kind\": \"EC2NodeClass\"\n\"metadata\":\n  \"name\": \"default\"\n\"spec\":\n  \"amiSelectorTerms\":\n  - \"alias\": \"al2023@latest\"\n  \"instanceProfile\": \"KarpenterNodeInstanceProfile-n-inlr2e5a7mf3x9mbkh98p6bhek\"\n  \"metadataOptions\":\n    \"httpPutResponseHopLimit\": 2\n  \"securityGroupSelectorTerms\":\n  - \"tags\":\n      \"karpenter.sh/discovery\": \"n-inlr2e5a7mf3x9mbkh98p6bhek\"\n  \"subnetSelectorTerms\":\n  - \"tags\":\n      \"karpenter.sh/discovery\": \"n-inlr2e5a7mf3x9mbkh98p6bhek\"\n  \"tags\":\n    \"NUON_INSTALL_ID\": \"inlr2e5a7mf3x9mbkh98p6bhek\"\n    \"install.nuon.co/id\": \"inlr2e5a7mf3x9mbkh98p6bhek\"\n    \"sandbox.nuon.co/name\": \"aws-eks\"\n    \"sandbox.nuon.co/variant\": \"karpenter\"\n",
          "apply_only": false,
          "api_version": "karpenter.k8s.aws/v1",
          "ignore_fields": null,
          "force_conflicts": false,
          "validate_schema": true,
          "sensitive_fields": null,
          "wait_for_rollout": true,
          "yaml_body_parsed": "apiVersion: karpenter.k8s.aws/v1\nkind: EC2NodeClass\nmetadata:\n  name: default\nspec:\n  amiSelectorTerms:\n  - alias: al2023@latest\n  instanceProfile: KarpenterNodeInstanceProfile-n-inlr2e5a7mf3x9mbkh98p6bhek\n  metadataOptions:\n    httpPutResponseHopLimit: 2\n  securityGroupSelectorTerms:\n  - tags:\n      karpenter.sh/discovery: n-inlr2e5a7mf3x9mbkh98p6bhek\n  subnetSelectorTerms:\n  - tags:\n      karpenter.sh/discovery: n-inlr2e5a7mf3x9mbkh98p6bhek\n  tags:\n    NUON_INSTALL_ID: inlr2e5a7mf3x9mbkh98p6bhek\n    install.nuon.co/id: inlr2e5a7mf3x9mbkh98p6bhek\n    sandbox.nuon.co/name: aws-eks\n    sandbox.nuon.co/variant: karpenter\n",
          "server_side_apply": false,
          "override_namespace": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "uid": true,
          "live_uid": true,
          "namespace": true,
          "yaml_incluster": true,
          "live_manifest_incluster": true
        },
        "after_sensitive": {
          "yaml_body": true,
          "yaml_incluster": true,
          "live_manifest_incluster": true
        },
        "before_sensitive": false
      },
      "address": "kubectl_manifest.karpenter_ec2nodeclass_default",
      "provider_name": "registry.terraform.io/gavinbunney/kubectl"
    },
    {
      "mode": "managed",
      "name": "karpenter_nodepool_default",
      "type": "kubectl_manifest",
      "change": {
        "after": {
          "kind": "NodePool",
          "name": "default",
          "wait": null,
          "timeouts": null,
          "force_new": false,
          "yaml_body": "\"apiVersion\": \"karpenter.sh/v1\"\n\"kind\": \"NodePool\"\n\"metadata\":\n  \"name\": \"default\"\n\"spec\":\n  \"disruption\":\n    \"budgets\":\n    - \"nodes\": \"1\"\n    \"consolidateAfter\": \"5m\"\n    \"consolidationPolicy\": \"WhenEmptyOrUnderutilized\"\n  \"limits\":\n    \"cpu\": 100\n    \"memory\": \"200Gi\"\n  \"template\":\n    \"spec\":\n      \"expireAfter\": \"732h\"\n      \"nodeClassRef\":\n        \"group\": \"karpenter.k8s.aws\"\n        \"kind\": \"EC2NodeClass\"\n        \"name\": \"default\"\n      \"requirements\":\n      - \"key\": \"karpenter.sh/capacity-type\"\n        \"operator\": \"In\"\n        \"values\":\n        - \"on-demand\"\n      - \"key\": \"node.kubernetes.io/instance-type\"\n        \"operator\": \"In\"\n        \"values\":\n        - \"t3a.medium\"\n      - \"key\": \"topology.kubernetes.io/zone\"\n        \"operator\": \"In\"\n        \"values\":\n        - \"us-west-2a\"\n        - \"us-west-2b\"\n        - \"us-west-2c\"\n",
          "apply_only": false,
          "api_version": "karpenter.sh/v1",
          "ignore_fields": null,
          "force_conflicts": false,
          "validate_schema": true,
          "sensitive_fields": null,
          "wait_for_rollout": true,
          "yaml_body_parsed": "apiVersion: karpenter.sh/v1\nkind: NodePool\nmetadata:\n  name: default\nspec:\n  disruption:\n    budgets:\n    - nodes: \"1\"\n    consolidateAfter: 5m\n    consolidationPolicy: WhenEmptyOrUnderutilized\n  limits:\n    cpu: 100\n    memory: 200Gi\n  template:\n    spec:\n      expireAfter: 732h\n      nodeClassRef:\n        group: karpenter.k8s.aws\n        kind: EC2NodeClass\n        name: default\n      requirements:\n      - key: karpenter.sh/capacity-type\n        operator: In\n        values:\n        - on-demand\n      - key: node.kubernetes.io/instance-type\n        operator: In\n        values:\n        - t3a.medium\n      - key: topology.kubernetes.io/zone\n        operator: In\n        values:\n        - us-west-2a\n        - us-west-2b\n        - us-west-2c\n",
          "server_side_apply": false,
          "override_namespace": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "uid": true,
          "live_uid": true,
          "namespace": true,
          "yaml_incluster": true,
          "live_manifest_incluster": true
        },
        "after_sensitive": {
          "yaml_body": true,
          "yaml_incluster": true,
          "live_manifest_incluster": true
        },
        "before_sensitive": false
      },
      "address": "kubectl_manifest.karpenter_nodepool_default",
      "provider_name": "registry.terraform.io/gavinbunney/kubectl"
    },
    {
      "mode": "managed",
      "name": "maintenance",
      "type": "kubectl_manifest",
      "change": {
        "after": {
          "kind": "ClusterRole",
          "name": "maintenance",
          "wait": null,
          "timeouts": null,
          "force_new": false,
          "yaml_body": "\"apiVersion\": \"rbac.authorization.k8s.io/v1\"\n\"kind\": \"ClusterRole\"\n\"metadata\":\n  \"labels\":\n    \"nuon.co/source\": \"sandbox-defaults\"\n  \"name\": \"maintenance\"\n\"rules\":\n- \"apiGroups\":\n  - \"cert-manager.io\"\n  \"resources\":\n  - \"certificates\"\n  - \"certificaterequests\"\n  - \"issuers\"\n  \"verbs\":\n  - \"create\"\n  - \"delete\"\n  - \"deletecollection\"\n  - \"patch\"\n  - \"update\"\n- \"apiGroups\":\n  - \"cert-manager.io\"\n  \"resources\":\n  - \"certificates/status\"\n  \"verbs\":\n  - \"update\"\n- \"apiGroups\":\n  - \"acme.cert-manager.io\"\n  \"resources\":\n  - \"challenges\"\n  - \"orders\"\n  \"verbs\":\n  - \"create\"\n  - \"delete\"\n  - \"deletecollection\"\n  - \"patch\"\n  - \"update\"\n- \"apiGroups\":\n  - \"cert-manager.io\"\n  \"resources\":\n  - \"certificates\"\n  - \"certificaterequests\"\n  - \"issuers\"\n  \"verbs\":\n  - \"get\"\n  - \"list\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"acme.cert-manager.io\"\n  \"resources\":\n  - \"challenges\"\n  - \"orders\"\n  \"verbs\":\n  - \"get\"\n  - \"list\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"\"\n  \"resources\":\n  - \"pods/attach\"\n  - \"pods/exec\"\n  - \"pods/portforward\"\n  - \"pods/proxy\"\n  - \"services/proxy\"\n  \"verbs\":\n  - \"get\"\n  - \"list\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"\"\n  \"resources\":\n  - \"serviceaccounts\"\n  \"verbs\":\n  - \"impersonate\"\n- \"apiGroups\":\n  - \"\"\n  \"resources\":\n  - \"pods\"\n  - \"pods/attach\"\n  - \"pods/exec\"\n  - \"pods/portforward\"\n  - \"pods/proxy\"\n  \"verbs\":\n  - \"create\"\n  - \"delete\"\n  - \"deletecollection\"\n  - \"patch\"\n  - \"update\"\n- \"apiGroups\":\n  - \"\"\n  \"resources\":\n  - \"pods/eviction\"\n  \"verbs\":\n  - \"create\"\n- \"apiGroups\":\n  - \"\"\n  \"resources\":\n  - \"configmaps\"\n  - \"events\"\n  - \"persistentvolumeclaims\"\n  - \"replicationcontrollers\"\n  - \"replicationcontrollers/scale\"\n  - \"secrets\"\n  - \"serviceaccounts\"\n  - \"services\"\n  - \"services/proxy\"\n  \"verbs\":\n  - \"create\"\n  - \"delete\"\n  - \"deletecollection\"\n  - \"patch\"\n  - \"update\"\n- \"apiGroups\":\n  - \"\"\n  \"resources\":\n  - \"serviceaccounts/token\"\n  \"verbs\":\n  - \"create\"\n- \"apiGroups\":\n  - \"apps\"\n  \"resources\":\n  - \"daemonsets\"\n  - \"deployments\"\n  - \"deployments/rollback\"\n  - \"deployments/scale\"\n  - \"replicasets\"\n  - \"replicasets/scale\"\n  - \"statefulsets\"\n  - \"statefulsets/scale\"\n  \"verbs\":\n  - \"create\"\n  - \"delete\"\n  - \"deletecollection\"\n  - \"patch\"\n  - \"update\"\n- \"apiGroups\":\n  - \"autoscaling\"\n  \"resources\":\n  - \"horizontalpodautoscalers\"\n  \"verbs\":\n  - \"create\"\n  - \"delete\"\n  - \"deletecollection\"\n  - \"patch\"\n  - \"update\"\n- \"apiGroups\":\n  - \"batch\"\n  \"resources\":\n  - \"cronjobs\"\n  - \"jobs\"\n  \"verbs\":\n  - \"create\"\n  - \"delete\"\n  - \"deletecollection\"\n  - \"patch\"\n  - \"update\"\n- \"apiGroups\":\n  - \"extensions\"\n  \"resources\":\n  - \"daemonsets\"\n  - \"deployments\"\n  - \"deployments/rollback\"\n  - \"deployments/scale\"\n  - \"ingresses\"\n  - \"networkpolicies\"\n  - \"replicasets\"\n  - \"replicasets/scale\"\n  - \"replicationcontrollers/scale\"\n  \"verbs\":\n  - \"create\"\n  - \"delete\"\n  - \"deletecollection\"\n  - \"patch\"\n  - \"update\"\n- \"apiGroups\":\n  - \"policy\"\n  \"resources\":\n  - \"poddisruptionbudgets\"\n  \"verbs\":\n  - \"create\"\n  - \"delete\"\n  - \"deletecollection\"\n  - \"patch\"\n  - \"update\"\n- \"apiGroups\":\n  - \"networking.k8s.io\"\n  \"resources\":\n  - \"ingresses\"\n  - \"networkpolicies\"\n  \"verbs\":\n  - \"create\"\n  - \"delete\"\n  - \"deletecollection\"\n  - \"patch\"\n  - \"update\"\n- \"apiGroups\":\n  - \"coordination.k8s.io\"\n  \"resources\":\n  - \"leases\"\n  \"verbs\":\n  - \"create\"\n  - \"delete\"\n  - \"deletecollection\"\n  - \"get\"\n  - \"list\"\n  - \"patch\"\n  - \"update\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"metrics.k8s.io\"\n  \"resources\":\n  - \"pods\"\n  - \"nodes\"\n  \"verbs\":\n  - \"get\"\n  - \"list\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"kyverno.io\"\n  \"resources\":\n  - \"cleanuppolicies\"\n  - \"clustercleanuppolicies\"\n  - \"policies\"\n  - \"clusterpolicies\"\n  \"verbs\":\n  - \"get\"\n  - \"list\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"wgpolicyk8s.io\"\n  \"resources\":\n  - \"policyreports\"\n  - \"clusterpolicyreports\"\n  \"verbs\":\n  - \"get\"\n  - \"list\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"reports.kyverno.io\"\n  \"resources\":\n  - \"ephemeralreports\"\n  - \"clusterephemeralreports\"\n  \"verbs\":\n  - \"get\"\n  - \"list\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"kyverno.io\"\n  \"resources\":\n  - \"updaterequests\"\n  \"verbs\":\n  - \"get\"\n  - \"list\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"\"\n  \"resources\":\n  - \"configmaps\"\n  - \"endpoints\"\n  - \"persistentvolumeclaims\"\n  - \"persistentvolumeclaims/status\"\n  - \"pods\"\n  - \"replicationcontrollers\"\n  - \"replicationcontrollers/scale\"\n  - \"serviceaccounts\"\n  - \"services\"\n  - \"services/status\"\n  \"verbs\":\n  - \"get\"\n  - \"list\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"\"\n  \"resources\":\n  - \"bindings\"\n  - \"events\"\n  - \"limitranges\"\n  - \"namespaces/status\"\n  - \"pods/log\"\n  - \"pods/status\"\n  - \"replicationcontrollers/status\"\n  - \"resourcequotas\"\n  - \"resourcequotas/status\"\n  \"verbs\":\n  - \"get\"\n  - \"list\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"\"\n  \"resources\":\n  - \"namespaces\"\n  \"verbs\":\n  - \"*\"\n- \"apiGroups\":\n  - \"discovery.k8s.io\"\n  \"resources\":\n  - \"endpointslices\"\n  \"verbs\":\n  - \"get\"\n  - \"list\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"apps\"\n  \"resources\":\n  - \"controllerrevisions\"\n  - \"daemonsets\"\n  - \"daemonsets/status\"\n  - \"deployments\"\n  - \"deployments/scale\"\n  - \"deployments/status\"\n  - \"replicasets\"\n  - \"replicasets/scale\"\n  - \"replicasets/status\"\n  - \"statefulsets\"\n  - \"statefulsets/scale\"\n  - \"statefulsets/status\"\n  \"verbs\":\n  - \"get\"\n  - \"list\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"autoscaling\"\n  \"resources\":\n  - \"horizontalpodautoscalers\"\n  - \"horizontalpodautoscalers/status\"\n  \"verbs\":\n  - \"get\"\n  - \"list\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"batch\"\n  \"resources\":\n  - \"cronjobs\"\n  - \"cronjobs/status\"\n  - \"jobs\"\n  - \"jobs/status\"\n  \"verbs\":\n  - \"get\"\n  - \"list\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"extensions\"\n  \"resources\":\n  - \"daemonsets\"\n  - \"daemonsets/status\"\n  - \"deployments\"\n  - \"deployments/scale\"\n  - \"deployments/status\"\n  - \"ingresses\"\n  - \"ingresses/status\"\n  - \"networkpolicies\"\n  - \"replicasets\"\n  - \"replicasets/scale\"\n  - \"replicasets/status\"\n  - \"replicationcontrollers/scale\"\n  \"verbs\":\n  - \"get\"\n  - \"list\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"policy\"\n  \"resources\":\n  - \"poddisruptionbudgets\"\n  - \"poddisruptionbudgets/status\"\n  \"verbs\":\n  - \"get\"\n  - \"list\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"networking.k8s.io\"\n  \"resources\":\n  - \"ingresses\"\n  - \"ingresses/status\"\n  - \"networkpolicies\"\n  \"verbs\":\n  - \"get\"\n  - \"list\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"kyverno.io\"\n  \"resources\":\n  - \"cleanuppolicies\"\n  - \"clustercleanuppolicies\"\n  - \"policies\"\n  - \"clusterpolicies\"\n  \"verbs\":\n  - \"create\"\n  - \"delete\"\n  - \"get\"\n  - \"list\"\n  - \"patch\"\n  - \"update\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"wgpolicyk8s.io\"\n  \"resources\":\n  - \"policyreports\"\n  - \"clusterpolicyreports\"\n  \"verbs\":\n  - \"create\"\n  - \"delete\"\n  - \"get\"\n  - \"list\"\n  - \"patch\"\n  - \"update\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"reports.kyverno.io\"\n  \"resources\":\n  - \"ephemeralreports\"\n  - \"clusterephemeralreports\"\n  \"verbs\":\n  - \"create\"\n  - \"delete\"\n  - \"get\"\n  - \"list\"\n  - \"patch\"\n  - \"update\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"kyverno.io\"\n  \"resources\":\n  - \"updaterequests\"\n  \"verbs\":\n  - \"create\"\n  - \"delete\"\n  - \"get\"\n  - \"list\"\n  - \"patch\"\n  - \"update\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"authorization.k8s.io\"\n  \"resources\":\n  - \"localsubjectaccessreviews\"\n  \"verbs\":\n  - \"create\"\n- \"apiGroups\":\n  - \"rbac.authorization.k8s.io\"\n  \"resources\":\n  - \"rolebindings\"\n  - \"roles\"\n  \"verbs\":\n  - \"create\"\n  - \"delete\"\n  - \"deletecollection\"\n  - \"get\"\n  - \"list\"\n  - \"patch\"\n  - \"update\"\n  - \"watch\"\n- \"apiGroups\":\n  - \"apiextensions.k8s.io\"\n  \"resources\":\n  - \"*\"\n  \"verbs\":\n  - \"*\"\n- \"apiGroups\":\n  - \"karpenter.k8s.aws\"\n  - \"karpenter.sh\"\n  \"resources\":\n  - \"*\"\n  \"verbs\":\n  - \"*\"\n- \"apiGroups\":\n  - \"\"\n  \"resourceNames\":\n  - \"external-secrets-operator-webhook\"\n  \"resources\":\n  - \"secrets\"\n  \"verbs\":\n  - \"*\"\n- \"apiGroups\":\n  - \"rbac.authorization.k8s.io\"\n  \"resourceNames\":\n  - \"external-secrets-operator-cert-controller\"\n  - \"external-secrets-operator-controller\"\n  - \"external-secrets-operator-edit\"\n  - \"external-secrets-operator-servicebindings\"\n  - \"external-secrets-operator-view\"\n  \"resources\":\n  - \"clusterroles\"\n  \"verbs\":\n  - \"*\"\n- \"apiGroups\":\n  - \"rbac.authorization.k8s.io\"\n  \"resourceNames\":\n  - \"external-secrets-operator-cert-controller\"\n  - \"external-secrets-operator-controller\"\n  - \"external-secrets-operator-edit\"\n  - \"external-secrets-operator-servicebindings\"\n  - \"external-secrets-operator-view\"\n  \"resources\":\n  - \"clusterrolebindings\"\n  \"verbs\":\n  - \"*\"\n- \"apiGroups\":\n  - \"admissionregistration.k8s.io\"\n  \"resourceNames\":\n  - \"secretstore-validate\"\n  - \"externalsecret-validate\"\n  \"resources\":\n  - \"validatingwebhookconfigurations\"\n  \"verbs\":\n  - \"*\"\n- \"apiGroups\":\n  - \"rbac.authorization.k8s.io\"\n  \"resourceNames\":\n  - \"external-secrets-operator-cert-controller\"\n  \"resources\":\n  - \"clusterroles\"\n  - \"clusterrolebindings\"\n  \"verbs\":\n  - \"create\"\n  - \"*\"\n",
          "apply_only": false,
          "api_version": "rbac.authorization.k8s.io/v1",
          "ignore_fields": null,
          "force_conflicts": false,
          "validate_schema": true,
          "sensitive_fields": null,
          "wait_for_rollout": true,
          "yaml_body_parsed": "apiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  labels:\n    nuon.co/source: sandbox-defaults\n  name: maintenance\nrules:\n- apiGroups:\n  - cert-manager.io\n  resources:\n  - certificates\n  - certificaterequests\n  - issuers\n  verbs:\n  - create\n  - delete\n  - deletecollection\n  - patch\n  - update\n- apiGroups:\n  - cert-manager.io\n  resources:\n  - certificates/status\n  verbs:\n  - update\n- apiGroups:\n  - acme.cert-manager.io\n  resources:\n  - challenges\n  - orders\n  verbs:\n  - create\n  - delete\n  - deletecollection\n  - patch\n  - update\n- apiGroups:\n  - cert-manager.io\n  resources:\n  - certificates\n  - certificaterequests\n  - issuers\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - acme.cert-manager.io\n  resources:\n  - challenges\n  - orders\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - \"\"\n  resources:\n  - pods/attach\n  - pods/exec\n  - pods/portforward\n  - pods/proxy\n  - services/proxy\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - \"\"\n  resources:\n  - serviceaccounts\n  verbs:\n  - impersonate\n- apiGroups:\n  - \"\"\n  resources:\n  - pods\n  - pods/attach\n  - pods/exec\n  - pods/portforward\n  - pods/proxy\n  verbs:\n  - create\n  - delete\n  - deletecollection\n  - patch\n  - update\n- apiGroups:\n  - \"\"\n  resources:\n  - pods/eviction\n  verbs:\n  - create\n- apiGroups:\n  - \"\"\n  resources:\n  - configmaps\n  - events\n  - persistentvolumeclaims\n  - replicationcontrollers\n  - replicationcontrollers/scale\n  - secrets\n  - serviceaccounts\n  - services\n  - services/proxy\n  verbs:\n  - create\n  - delete\n  - deletecollection\n  - patch\n  - update\n- apiGroups:\n  - \"\"\n  resources:\n  - serviceaccounts/token\n  verbs:\n  - create\n- apiGroups:\n  - apps\n  resources:\n  - daemonsets\n  - deployments\n  - deployments/rollback\n  - deployments/scale\n  - replicasets\n  - replicasets/scale\n  - statefulsets\n  - statefulsets/scale\n  verbs:\n  - create\n  - delete\n  - deletecollection\n  - patch\n  - update\n- apiGroups:\n  - autoscaling\n  resources:\n  - horizontalpodautoscalers\n  verbs:\n  - create\n  - delete\n  - deletecollection\n  - patch\n  - update\n- apiGroups:\n  - batch\n  resources:\n  - cronjobs\n  - jobs\n  verbs:\n  - create\n  - delete\n  - deletecollection\n  - patch\n  - update\n- apiGroups:\n  - extensions\n  resources:\n  - daemonsets\n  - deployments\n  - deployments/rollback\n  - deployments/scale\n  - ingresses\n  - networkpolicies\n  - replicasets\n  - replicasets/scale\n  - replicationcontrollers/scale\n  verbs:\n  - create\n  - delete\n  - deletecollection\n  - patch\n  - update\n- apiGroups:\n  - policy\n  resources:\n  - poddisruptionbudgets\n  verbs:\n  - create\n  - delete\n  - deletecollection\n  - patch\n  - update\n- apiGroups:\n  - networking.k8s.io\n  resources:\n  - ingresses\n  - networkpolicies\n  verbs:\n  - create\n  - delete\n  - deletecollection\n  - patch\n  - update\n- apiGroups:\n  - coordination.k8s.io\n  resources:\n  - leases\n  verbs:\n  - create\n  - delete\n  - deletecollection\n  - get\n  - list\n  - patch\n  - update\n  - watch\n- apiGroups:\n  - metrics.k8s.io\n  resources:\n  - pods\n  - nodes\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - kyverno.io\n  resources:\n  - cleanuppolicies\n  - clustercleanuppolicies\n  - policies\n  - clusterpolicies\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - wgpolicyk8s.io\n  resources:\n  - policyreports\n  - clusterpolicyreports\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - reports.kyverno.io\n  resources:\n  - ephemeralreports\n  - clusterephemeralreports\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - kyverno.io\n  resources:\n  - updaterequests\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - \"\"\n  resources:\n  - configmaps\n  - endpoints\n  - persistentvolumeclaims\n  - persistentvolumeclaims/status\n  - pods\n  - replicationcontrollers\n  - replicationcontrollers/scale\n  - serviceaccounts\n  - services\n  - services/status\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - \"\"\n  resources:\n  - bindings\n  - events\n  - limitranges\n  - namespaces/status\n  - pods/log\n  - pods/status\n  - replicationcontrollers/status\n  - resourcequotas\n  - resourcequotas/status\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - \"\"\n  resources:\n  - namespaces\n  verbs:\n  - '*'\n- apiGroups:\n  - discovery.k8s.io\n  resources:\n  - endpointslices\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - apps\n  resources:\n  - controllerrevisions\n  - daemonsets\n  - daemonsets/status\n  - deployments\n  - deployments/scale\n  - deployments/status\n  - replicasets\n  - replicasets/scale\n  - replicasets/status\n  - statefulsets\n  - statefulsets/scale\n  - statefulsets/status\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - autoscaling\n  resources:\n  - horizontalpodautoscalers\n  - horizontalpodautoscalers/status\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - batch\n  resources:\n  - cronjobs\n  - cronjobs/status\n  - jobs\n  - jobs/status\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - extensions\n  resources:\n  - daemonsets\n  - daemonsets/status\n  - deployments\n  - deployments/scale\n  - deployments/status\n  - ingresses\n  - ingresses/status\n  - networkpolicies\n  - replicasets\n  - replicasets/scale\n  - replicasets/status\n  - replicationcontrollers/scale\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - policy\n  resources:\n  - poddisruptionbudgets\n  - poddisruptionbudgets/status\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - networking.k8s.io\n  resources:\n  - ingresses\n  - ingresses/status\n  - networkpolicies\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - kyverno.io\n  resources:\n  - cleanuppolicies\n  - clustercleanuppolicies\n  - policies\n  - clusterpolicies\n  verbs:\n  - create\n  - delete\n  - get\n  - list\n  - patch\n  - update\n  - watch\n- apiGroups:\n  - wgpolicyk8s.io\n  resources:\n  - policyreports\n  - clusterpolicyreports\n  verbs:\n  - create\n  - delete\n  - get\n  - list\n  - patch\n  - update\n  - watch\n- apiGroups:\n  - reports.kyverno.io\n  resources:\n  - ephemeralreports\n  - clusterephemeralreports\n  verbs:\n  - create\n  - delete\n  - get\n  - list\n  - patch\n  - update\n  - watch\n- apiGroups:\n  - kyverno.io\n  resources:\n  - updaterequests\n  verbs:\n  - create\n  - delete\n  - get\n  - list\n  - patch\n  - update\n  - watch\n- apiGroups:\n  - authorization.k8s.io\n  resources:\n  - localsubjectaccessreviews\n  verbs:\n  - create\n- apiGroups:\n  - rbac.authorization.k8s.io\n  resources:\n  - rolebindings\n  - roles\n  verbs:\n  - create\n  - delete\n  - deletecollection\n  - get\n  - list\n  - patch\n  - update\n  - watch\n- apiGroups:\n  - apiextensions.k8s.io\n  resources:\n  - '*'\n  verbs:\n  - '*'\n- apiGroups:\n  - karpenter.k8s.aws\n  - karpenter.sh\n  resources:\n  - '*'\n  verbs:\n  - '*'\n- apiGroups:\n  - \"\"\n  resourceNames:\n  - external-secrets-operator-webhook\n  resources:\n  - secrets\n  verbs:\n  - '*'\n- apiGroups:\n  - rbac.authorization.k8s.io\n  resourceNames:\n  - external-secrets-operator-cert-controller\n  - external-secrets-operator-controller\n  - external-secrets-operator-edit\n  - external-secrets-operator-servicebindings\n  - external-secrets-operator-view\n  resources:\n  - clusterroles\n  verbs:\n  - '*'\n- apiGroups:\n  - rbac.authorization.k8s.io\n  resourceNames:\n  - external-secrets-operator-cert-controller\n  - external-secrets-operator-controller\n  - external-secrets-operator-edit\n  - external-secrets-operator-servicebindings\n  - external-secrets-operator-view\n  resources:\n  - clusterrolebindings\n  verbs:\n  - '*'\n- apiGroups:\n  - admissionregistration.k8s.io\n  resourceNames:\n  - secretstore-validate\n  - externalsecret-validate\n  resources:\n  - validatingwebhookconfigurations\n  verbs:\n  - '*'\n- apiGroups:\n  - rbac.authorization.k8s.io\n  resourceNames:\n  - external-secrets-operator-cert-controller\n  resources:\n  - clusterroles\n  - clusterrolebindings\n  verbs:\n  - create\n  - '*'\n",
          "server_side_apply": false,
          "override_namespace": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "uid": true,
          "live_uid": true,
          "namespace": true,
          "yaml_incluster": true,
          "live_manifest_incluster": true
        },
        "after_sensitive": {
          "yaml_body": true,
          "yaml_incluster": true,
          "live_manifest_incluster": true
        },
        "before_sensitive": false
      },
      "address": "kubectl_manifest.maintenance",
      "provider_name": "registry.terraform.io/gavinbunney/kubectl"
    },
    {
      "mode": "managed",
      "name": "maintenance_role_binding",
      "type": "kubectl_manifest",
      "change": {
        "after": {
          "kind": "ClusterRoleBinding",
          "name": "maintenance",
          "wait": null,
          "timeouts": null,
          "force_new": false,
          "namespace": "default",
          "yaml_body": "apiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: maintenance\n  namespace: default\nsubjects:\n- kind: Group\n  name: maintenance\n  apiGroup: rbac.authorization.k8s.io\nroleRef:\n  kind: ClusterRole\n  name: maintenance\n  apiGroup: rbac.authorization.k8s.io\n",
          "apply_only": false,
          "api_version": "rbac.authorization.k8s.io/v1",
          "ignore_fields": null,
          "force_conflicts": false,
          "validate_schema": true,
          "sensitive_fields": null,
          "wait_for_rollout": true,
          "yaml_body_parsed": "apiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: maintenance\n  namespace: default\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: maintenance\nsubjects:\n- apiGroup: rbac.authorization.k8s.io\n  kind: Group\n  name: maintenance\n",
          "server_side_apply": false,
          "override_namespace": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "uid": true,
          "live_uid": true,
          "yaml_incluster": true,
          "live_manifest_incluster": true
        },
        "after_sensitive": {
          "yaml_body": true,
          "yaml_incluster": true,
          "live_manifest_incluster": true
        },
        "before_sensitive": false
      },
      "address": "kubectl_manifest.maintenance_role_binding",
      "provider_name": "registry.terraform.io/gavinbunney/kubectl"
    },
    {
      "mode": "managed",
      "name": "namespaces",
      "type": "kubectl_manifest",
      "index": "clickhouse",
      "change": {
        "after": {
          "kind": "Namespace",
          "name": "clickhouse",
          "wait": null,
          "timeouts": null,
          "force_new": false,
          "yaml_body": "\"apiVersion\": \"v1\"\n\"kind\": \"Namespace\"\n\"metadata\":\n  \"name\": \"clickhouse\"\n",
          "apply_only": false,
          "api_version": "v1",
          "ignore_fields": null,
          "force_conflicts": false,
          "validate_schema": true,
          "sensitive_fields": null,
          "wait_for_rollout": true,
          "yaml_body_parsed": "apiVersion: v1\nkind: Namespace\nmetadata:\n  name: clickhouse\n",
          "server_side_apply": false,
          "override_namespace": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "uid": true,
          "live_uid": true,
          "namespace": true,
          "yaml_incluster": true,
          "live_manifest_incluster": true
        },
        "after_sensitive": {
          "yaml_body": true,
          "yaml_incluster": true,
          "live_manifest_incluster": true
        },
        "before_sensitive": false
      },
      "address": "kubectl_manifest.namespaces[\"clickhouse\"]",
      "provider_name": "registry.terraform.io/gavinbunney/kubectl"
    },
    {
      "mode": "managed",
      "name": "namespaces",
      "type": "kubectl_manifest",
      "index": "ctl-api",
      "change": {
        "after": {
          "kind": "Namespace",
          "name": "ctl-api",
          "wait": null,
          "timeouts": null,
          "force_new": false,
          "yaml_body": "\"apiVersion\": \"v1\"\n\"kind\": \"Namespace\"\n\"metadata\":\n  \"name\": \"ctl-api\"\n",
          "apply_only": false,
          "api_version": "v1",
          "ignore_fields": null,
          "force_conflicts": false,
          "validate_schema": true,
          "sensitive_fields": null,
          "wait_for_rollout": true,
          "yaml_body_parsed": "apiVersion: v1\nkind: Namespace\nmetadata:\n  name: ctl-api\n",
          "server_side_apply": false,
          "override_namespace": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "uid": true,
          "live_uid": true,
          "namespace": true,
          "yaml_incluster": true,
          "live_manifest_incluster": true
        },
        "after_sensitive": {
          "yaml_body": true,
          "yaml_incluster": true,
          "live_manifest_incluster": true
        },
        "before_sensitive": false
      },
      "address": "kubectl_manifest.namespaces[\"ctl-api\"]",
      "provider_name": "registry.terraform.io/gavinbunney/kubectl"
    },
    {
      "mode": "managed",
      "name": "namespaces",
      "type": "kubectl_manifest",
      "index": "dashboard-ui",
      "change": {
        "after": {
          "kind": "Namespace",
          "name": "dashboard-ui",
          "wait": null,
          "timeouts": null,
          "force_new": false,
          "yaml_body": "\"apiVersion\": \"v1\"\n\"kind\": \"Namespace\"\n\"metadata\":\n  \"name\": \"dashboard-ui\"\n",
          "apply_only": false,
          "api_version": "v1",
          "ignore_fields": null,
          "force_conflicts": false,
          "validate_schema": true,
          "sensitive_fields": null,
          "wait_for_rollout": true,
          "yaml_body_parsed": "apiVersion: v1\nkind: Namespace\nmetadata:\n  name: dashboard-ui\n",
          "server_side_apply": false,
          "override_namespace": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "uid": true,
          "live_uid": true,
          "namespace": true,
          "yaml_incluster": true,
          "live_manifest_incluster": true
        },
        "after_sensitive": {
          "yaml_body": true,
          "yaml_incluster": true,
          "live_manifest_incluster": true
        },
        "before_sensitive": false
      },
      "address": "kubectl_manifest.namespaces[\"dashboard-ui\"]",
      "provider_name": "registry.terraform.io/gavinbunney/kubectl"
    },
    {
      "mode": "managed",
      "name": "namespaces",
      "type": "kubectl_manifest",
      "index": "inlr2e5a7mf3x9mbkh98p6bhek",
      "change": {
        "after": {
          "kind": "Namespace",
          "name": "inlr2e5a7mf3x9mbkh98p6bhek",
          "wait": null,
          "timeouts": null,
          "force_new": false,
          "yaml_body": "\"apiVersion\": \"v1\"\n\"kind\": \"Namespace\"\n\"metadata\":\n  \"name\": \"inlr2e5a7mf3x9mbkh98p6bhek\"\n",
          "apply_only": false,
          "api_version": "v1",
          "ignore_fields": null,
          "force_conflicts": false,
          "validate_schema": true,
          "sensitive_fields": null,
          "wait_for_rollout": true,
          "yaml_body_parsed": "apiVersion: v1\nkind: Namespace\nmetadata:\n  name: inlr2e5a7mf3x9mbkh98p6bhek\n",
          "server_side_apply": false,
          "override_namespace": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "uid": true,
          "live_uid": true,
          "namespace": true,
          "yaml_incluster": true,
          "live_manifest_incluster": true
        },
        "after_sensitive": {
          "yaml_body": true,
          "yaml_incluster": true,
          "live_manifest_incluster": true
        },
        "before_sensitive": false
      },
      "address": "kubectl_manifest.namespaces[\"inlr2e5a7mf3x9mbkh98p6bhek\"]",
      "provider_name": "registry.terraform.io/gavinbunney/kubectl"
    },
    {
      "mode": "managed",
      "name": "namespaces",
      "type": "kubectl_manifest",
      "index": "temporal",
      "change": {
        "after": {
          "kind": "Namespace",
          "name": "temporal",
          "wait": null,
          "timeouts": null,
          "force_new": false,
          "yaml_body": "\"apiVersion\": \"v1\"\n\"kind\": \"Namespace\"\n\"metadata\":\n  \"name\": \"temporal\"\n",
          "apply_only": false,
          "api_version": "v1",
          "ignore_fields": null,
          "force_conflicts": false,
          "validate_schema": true,
          "sensitive_fields": null,
          "wait_for_rollout": true,
          "yaml_body_parsed": "apiVersion: v1\nkind: Namespace\nmetadata:\n  name: temporal\n",
          "server_side_apply": false,
          "override_namespace": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "uid": true,
          "live_uid": true,
          "namespace": true,
          "yaml_incluster": true,
          "live_manifest_incluster": true
        },
        "after_sensitive": {
          "yaml_body": true,
          "yaml_incluster": true,
          "live_manifest_incluster": true
        },
        "before_sensitive": false
      },
      "address": "kubectl_manifest.namespaces[\"temporal\"]",
      "provider_name": "registry.terraform.io/gavinbunney/kubectl"
    },
    {
      "mode": "managed",
      "name": "vendor_policies",
      "type": "kubectl_manifest",
      "index": "0.yaml",
      "change": {
        "after": {
          "kind": "ClusterPolicy",
          "name": "disallow-ingress-nginx-custom-snippets",
          "wait": null,
          "timeouts": null,
          "force_new": false,
          "yaml_body": "apiVersion: kyverno.io/v1\nkind: ClusterPolicy\nmetadata:\n  name: disallow-ingress-nginx-custom-snippets\n  annotations:\n    policies.kyverno.io/title: Disallow Custom Snippets\n    policies.kyverno.io/category: Security, NGINX Ingress\n    policies.kyverno.io/subject: ConfigMap, Ingress\n    policies.kyverno.io/minversion: \"1.6.0\"\n    kyverno.io/kyverno-version: \"1.6.0\"\n    kyverno.io/kubernetes-version: \"1.23\"\n    policies.kyverno.io/description: >-\n      Users that can create or update ingress objects can use the custom snippets\n      feature to obtain all secrets in the cluster (CVE-2021-25742). This policy\n      disables allow-snippet-annotations in the ingress-nginx configuration and\n      blocks *-snippet annotations on an Ingress.\n      See: https://github.com/kubernetes/ingress-nginx/issues/7837\nspec:\n  validationFailureAction: Enforce\n  rules:\n    - name: check-config-map\n      match:\n        any:\n        - resources:\n            kinds:\n            - ConfigMap\n      validate:\n        message: \"ingress-nginx allow-snippet-annotations must be set to false\"\n        pattern:\n          =(data):\n            =(allow-snippet-annotations) : \"false\"\n    - name: check-ingress-annotations\n      match:\n        any:\n        - resources:\n            kinds:\n            - networking.k8s.io/v1/Ingress\n      validate:\n        message: \"ingress-nginx custom snippets are not allowed\"\n        pattern:\n          metadata:\n            =(annotations):\n              X(*-snippet): \"?*\"\n",
          "apply_only": false,
          "api_version": "kyverno.io/v1",
          "ignore_fields": null,
          "force_conflicts": false,
          "validate_schema": true,
          "sensitive_fields": null,
          "wait_for_rollout": true,
          "yaml_body_parsed": "apiVersion: kyverno.io/v1\nkind: ClusterPolicy\nmetadata:\n  annotations:\n    kyverno.io/kubernetes-version: \"1.23\"\n    kyverno.io/kyverno-version: 1.6.0\n    policies.kyverno.io/category: Security, NGINX Ingress\n    policies.kyverno.io/description: 'Users that can create or update ingress objects\n      can use the custom snippets feature to obtain all secrets in the cluster (CVE-2021-25742).\n      This policy disables allow-snippet-annotations in the ingress-nginx configuration\n      and blocks *-snippet annotations on an Ingress. See: https://github.com/kubernetes/ingress-nginx/issues/7837'\n    policies.kyverno.io/minversion: 1.6.0\n    policies.kyverno.io/subject: ConfigMap, Ingress\n    policies.kyverno.io/title: Disallow Custom Snippets\n  name: disallow-ingress-nginx-custom-snippets\nspec:\n  rules:\n  - match:\n      any:\n      - resources:\n          kinds:\n          - ConfigMap\n    name: check-config-map\n    validate:\n      message: ingress-nginx allow-snippet-annotations must be set to false\n      pattern:\n        =(data):\n          =(allow-snippet-annotations): \"false\"\n  - match:\n      any:\n      - resources:\n          kinds:\n          - networking.k8s.io/v1/Ingress\n    name: check-ingress-annotations\n    validate:\n      message: ingress-nginx custom snippets are not allowed\n      pattern:\n        metadata:\n          =(annotations):\n            X(*-snippet): ?*\n  validationFailureAction: Enforce\n",
          "server_side_apply": false,
          "override_namespace": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "uid": true,
          "live_uid": true,
          "namespace": true,
          "yaml_incluster": true,
          "live_manifest_incluster": true
        },
        "after_sensitive": {
          "yaml_body": true,
          "yaml_incluster": true,
          "live_manifest_incluster": true
        },
        "before_sensitive": false
      },
      "address": "kubectl_manifest.vendor_policies[\"0.yaml\"]",
      "provider_name": "registry.terraform.io/gavinbunney/kubectl"
    },
    {
      "mode": "managed",
      "name": "private_subnets_cluster_tags",
      "type": "aws_ec2_tag",
      "index": "subnet-00adff60c11824aed",
      "change": {
        "after": {
          "key": "kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek",
          "value": "shared",
          "resource_id": "subnet-00adff60c11824aed"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.additional_subnet_tags[0].aws_ec2_tag.private_subnets_cluster_tags[\"subnet-00adff60c11824aed\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.additional_subnet_tags[0]"
    },
    {
      "mode": "managed",
      "name": "private_subnets_cluster_tags",
      "type": "aws_ec2_tag",
      "index": "subnet-09c6a3a806aee2f8d",
      "change": {
        "after": {
          "key": "kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek",
          "value": "shared",
          "resource_id": "subnet-09c6a3a806aee2f8d"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.additional_subnet_tags[0].aws_ec2_tag.private_subnets_cluster_tags[\"subnet-09c6a3a806aee2f8d\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.additional_subnet_tags[0]"
    },
    {
      "mode": "managed",
      "name": "private_subnets_cluster_tags",
      "type": "aws_ec2_tag",
      "index": "subnet-0c81560eb05406dff",
      "change": {
        "after": {
          "key": "kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek",
          "value": "shared",
          "resource_id": "subnet-0c81560eb05406dff"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.additional_subnet_tags[0].aws_ec2_tag.private_subnets_cluster_tags[\"subnet-0c81560eb05406dff\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.additional_subnet_tags[0]"
    },
    {
      "mode": "managed",
      "name": "public_subnets_cluster_tags",
      "type": "aws_ec2_tag",
      "index": "subnet-06d314e9e8df480d6",
      "change": {
        "after": {
          "key": "kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek",
          "value": "shared",
          "resource_id": "subnet-06d314e9e8df480d6"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.additional_subnet_tags[0].aws_ec2_tag.public_subnets_cluster_tags[\"subnet-06d314e9e8df480d6\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.additional_subnet_tags[0]"
    },
    {
      "mode": "managed",
      "name": "public_subnets_cluster_tags",
      "type": "aws_ec2_tag",
      "index": "subnet-07b0abfa248cdf1dc",
      "change": {
        "after": {
          "key": "kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek",
          "value": "shared",
          "resource_id": "subnet-07b0abfa248cdf1dc"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.additional_subnet_tags[0].aws_ec2_tag.public_subnets_cluster_tags[\"subnet-07b0abfa248cdf1dc\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.additional_subnet_tags[0]"
    },
    {
      "mode": "managed",
      "name": "public_subnets_cluster_tags",
      "type": "aws_ec2_tag",
      "index": "subnet-08835c2dfd063c6e9",
      "change": {
        "after": {
          "key": "kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek",
          "value": "shared",
          "resource_id": "subnet-08835c2dfd063c6e9"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.additional_subnet_tags[0].aws_ec2_tag.public_subnets_cluster_tags[\"subnet-08835c2dfd063c6e9\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.additional_subnet_tags[0]"
    },
    {
      "mode": "data",
      "name": "this",
      "type": "aws_iam_policy_document",
      "index": 0,
      "change": {
        "after": {
          "version": null,
          "policy_id": null,
          "statement": [
            {
              "sid": null,
              "effect": "Allow",
              "actions": [
                "sts:AssumeRoleWithWebIdentity"
              ],
              "condition": [
                {
                  "test": "StringEquals",
                  "values": [
                    "sts.amazonaws.com"
                  ]
                },
                {
                  "test": "StringEquals",
                  "values": [
                    "system:serviceaccount:ebs-csi-controller:ebs-csi-controller-sa"
                  ]
                }
              ],
              "resources": null,
              "principals": [
                {
                  "type": "Federated",
                  "identifiers": [
                    null
                  ]
                }
              ],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            }
          ],
          "source_json": null,
          "override_json": null,
          "source_policy_documents": null,
          "override_policy_documents": null
        },
        "before": null,
        "actions": [
          "read"
        ],
        "after_unknown": {
          "id": true,
          "json": true,
          "statement": [
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ],
                  "variable": true
                },
                {
                  "values": [
                    false
                  ],
                  "variable": true
                }
              ],
              "principals": [
                {
                  "identifiers": [
                    true
                  ]
                }
              ],
              "not_principals": []
            }
          ],
          "minified_json": true
        },
        "after_sensitive": {
          "statement": [
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "principals": [
                {
                  "identifiers": [
                    false
                  ]
                }
              ],
              "not_principals": []
            }
          ]
        },
        "before_sensitive": false
      },
      "address": "module.ebs_csi_irsa.data.aws_iam_policy_document.this[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.ebs_csi_irsa"
    },
    {
      "mode": "managed",
      "name": "ebs_csi",
      "type": "aws_iam_policy",
      "index": 0,
      "change": {
        "after": {
          "path": "/",
          "tags": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "policy": "{\"Statement\":[{\"Action\":[\"ec2:ModifyVolume\",\"ec2:EnableFastSnapshotRestores\",\"ec2:DetachVolume\",\"ec2:DescribeVolumesModifications\",\"ec2:DescribeVolumes\",\"ec2:DescribeTags\",\"ec2:DescribeSnapshots\",\"ec2:DescribeInstances\",\"ec2:DescribeAvailabilityZones\",\"ec2:CreateSnapshot\",\"ec2:AttachVolume\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":\"ec2:CreateTags\",\"Condition\":{\"StringEquals\":{\"ec2:CreateAction\":[\"CreateVolume\",\"CreateSnapshot\"]}},\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:volume/*\",\"arn:aws:ec2:*:*:snapshot/*\"]},{\"Action\":\"ec2:DeleteTags\",\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:volume/*\",\"arn:aws:ec2:*:*:snapshot/*\"]},{\"Action\":\"ec2:CreateVolume\",\"Condition\":{\"StringLike\":{\"aws:RequestTag/ebs.csi.aws.com/cluster\":\"true\"}},\"Effect\":\"Allow\",\"Resource\":\"arn:aws:ec2:*:*:volume/*\"},{\"Action\":\"ec2:CreateVolume\",\"Condition\":{\"StringLike\":{\"aws:RequestTag/CSIVolumeName\":\"*\"}},\"Effect\":\"Allow\",\"Resource\":\"arn:aws:ec2:*:*:volume/*\"},{\"Action\":\"ec2:CreateVolume\",\"Condition\":{\"StringLike\":{\"aws:RequestTag/kubernetes.io/cluster/*\":\"owned\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":\"ec2:CreateVolume\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:ec2:*:*:snapshot/*\"},{\"Action\":\"ec2:DeleteVolume\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/ebs.csi.aws.com/cluster\":\"true\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":\"ec2:DeleteVolume\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/CSIVolumeName\":\"*\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":\"ec2:DeleteVolume\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/kubernetes.io/cluster/*\":\"owned\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":\"ec2:DeleteVolume\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/kubernetes.io/created-for/pvc/name\":\"*\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":\"ec2:DeleteSnapshot\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/CSIVolumeSnapshotName\":\"*\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":\"ec2:DeleteSnapshot\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/ebs.csi.aws.com/cluster\":\"true\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}",
          "tags_all": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "description": "Provides permissions to manage EBS volumes via the container storage interface driver",
          "name_prefix": "AmazonEKS_EBS_CSI_Policy-"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "name": true,
          "tags": {},
          "tags_all": {},
          "policy_id": true,
          "attachment_count": true
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        },
        "before_sensitive": false
      },
      "address": "module.ebs_csi_irsa.aws_iam_policy.ebs_csi[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.ebs_csi_irsa"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_iam_role",
      "index": 0,
      "change": {
        "after": {
          "name": "ebs-csi-inlr2e5a7mf3x9mbkh98p6bhek",
          "path": "/",
          "tags": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "tags_all": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "description": null,
          "max_session_duration": 3600,
          "permissions_boundary": null,
          "force_detach_policies": true
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "tags": {},
          "tags_all": {},
          "unique_id": true,
          "create_date": true,
          "name_prefix": true,
          "inline_policy": true,
          "assume_role_policy": true,
          "managed_policy_arns": true
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {},
          "inline_policy": [],
          "managed_policy_arns": []
        },
        "before_sensitive": false
      },
      "address": "module.ebs_csi_irsa.aws_iam_role.this[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.ebs_csi_irsa"
    },
    {
      "mode": "managed",
      "name": "ebs_csi",
      "type": "aws_iam_role_policy_attachment",
      "index": 0,
      "change": {
        "after": {
          "role": "ebs-csi-inlr2e5a7mf3x9mbkh98p6bhek"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "policy_arn": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.ebs_csi_irsa.aws_iam_role_policy_attachment.ebs_csi[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.ebs_csi_irsa"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_ecr_repository",
      "index": 0,
      "change": {
        "after": {
          "name": "inlr2e5a7mf3x9mbkh98p6bhek",
          "tags": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "tags_all": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "timeouts": null,
          "force_delete": true,
          "image_tag_mutability": "MUTABLE",
          "encryption_configuration": [
            {
              "encryption_type": "KMS"
            }
          ],
          "image_scanning_configuration": [
            {
              "scan_on_push": false
            }
          ]
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "tags": {},
          "tags_all": {},
          "registry_id": true,
          "repository_url": true,
          "encryption_configuration": [
            {
              "kms_key": true
            }
          ],
          "image_scanning_configuration": [
            {}
          ]
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {},
          "encryption_configuration": [
            {}
          ],
          "image_scanning_configuration": [
            {}
          ]
        },
        "before_sensitive": false
      },
      "address": "module.ecr.aws_ecr_repository.this[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.ecr"
    },
    {
      "mode": "data",
      "name": "this",
      "type": "aws_eks_addon_version",
      "index": "coredns",
      "change": {
        "after": {
          "addon_name": "coredns",
          "most_recent": null,
          "kubernetes_version": "1.33"
        },
        "before": null,
        "actions": [
          "read"
        ],
        "after_unknown": {
          "id": true,
          "version": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.eks.data.aws_eks_addon_version.this[\"coredns\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "data",
      "name": "this",
      "type": "aws_eks_addon_version",
      "index": "eks-pod-identity-agent",
      "change": {
        "after": {
          "addon_name": "eks-pod-identity-agent",
          "most_recent": null,
          "kubernetes_version": "1.33"
        },
        "before": null,
        "actions": [
          "read"
        ],
        "after_unknown": {
          "id": true,
          "version": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.eks.data.aws_eks_addon_version.this[\"eks-pod-identity-agent\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "data",
      "name": "this",
      "type": "aws_eks_addon_version",
      "index": "kube-proxy",
      "change": {
        "after": {
          "addon_name": "kube-proxy",
          "most_recent": null,
          "kubernetes_version": "1.33"
        },
        "before": null,
        "actions": [
          "read"
        ],
        "after_unknown": {
          "id": true,
          "version": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.eks.data.aws_eks_addon_version.this[\"kube-proxy\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "data",
      "name": "this",
      "type": "aws_eks_addon_version",
      "index": "vpc-cni",
      "change": {
        "after": {
          "addon_name": "vpc-cni",
          "most_recent": true,
          "kubernetes_version": "1.33"
        },
        "before": null,
        "actions": [
          "read"
        ],
        "after_unknown": {
          "id": true,
          "version": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.eks.data.aws_eks_addon_version.this[\"vpc-cni\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "data",
      "name": "this",
      "type": "tls_certificate",
      "index": 0,
      "change": {
        "after": {
          "content": null,
          "verify_chain": null
        },
        "before": null,
        "actions": [
          "read"
        ],
        "after_unknown": {
          "id": true,
          "url": true,
          "certificates": true
        },
        "after_sensitive": {
          "certificates": []
        },
        "before_sensitive": false
      },
      "address": "module.eks.data.tls_certificate.this[0]",
      "provider_name": "registry.terraform.io/hashicorp/tls",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_cloudwatch_log_group",
      "index": 0,
      "change": {
        "after": {
          "name": "/aws/eks/n-inlr2e5a7mf3x9mbkh98p6bhek/cluster",
          "tags": {
            "Name": "/aws/eks/n-inlr2e5a7mf3x9mbkh98p6bhek/cluster",
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "tags_all": {
            "Name": "/aws/eks/n-inlr2e5a7mf3x9mbkh98p6bhek/cluster",
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "kms_key_id": null,
          "skip_destroy": false,
          "retention_in_days": 90
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "tags": {},
          "tags_all": {},
          "name_prefix": true,
          "log_group_class": true
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        },
        "before_sensitive": false
      },
      "address": "module.eks.aws_cloudwatch_log_group.this[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "cluster_primary_security_group",
      "type": "aws_ec2_tag",
      "index": "NUON_INSTALL_ID",
      "change": {
        "after": {
          "key": "NUON_INSTALL_ID",
          "value": "inlr2e5a7mf3x9mbkh98p6bhek"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "resource_id": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.eks.aws_ec2_tag.cluster_primary_security_group[\"NUON_INSTALL_ID\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "cluster_primary_security_group",
      "type": "aws_ec2_tag",
      "index": "install.nuon.co/id",
      "change": {
        "after": {
          "key": "install.nuon.co/id",
          "value": "inlr2e5a7mf3x9mbkh98p6bhek"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "resource_id": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.eks.aws_ec2_tag.cluster_primary_security_group[\"install.nuon.co/id\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "cluster_primary_security_group",
      "type": "aws_ec2_tag",
      "index": "karpenter.sh/discovery",
      "change": {
        "after": {
          "key": "karpenter.sh/discovery",
          "value": "n-inlr2e5a7mf3x9mbkh98p6bhek"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "resource_id": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.eks.aws_ec2_tag.cluster_primary_security_group[\"karpenter.sh/discovery\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "cluster_primary_security_group",
      "type": "aws_ec2_tag",
      "index": "sandbox.nuon.co/name",
      "change": {
        "after": {
          "key": "sandbox.nuon.co/name",
          "value": "aws-eks"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "resource_id": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.eks.aws_ec2_tag.cluster_primary_security_group[\"sandbox.nuon.co/name\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "cluster_primary_security_group",
      "type": "aws_ec2_tag",
      "index": "sandbox.nuon.co/variant",
      "change": {
        "after": {
          "key": "sandbox.nuon.co/variant",
          "value": "karpenter"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "resource_id": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.eks.aws_ec2_tag.cluster_primary_security_group[\"sandbox.nuon.co/variant\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_eks_access_entry",
      "index": "deprovision",
      "change": {
        "after": {
          "tags": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "type": "STANDARD",
          "tags_all": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "timeouts": null,
          "principal_arn": "arn:aws:iam::949309607565:role/inlr2e5a7mf3x9mbkh98p6bhek-deprovision",
          "kubernetes_groups": [
            "deprovision"
          ]
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "tags": {},
          "tags_all": {},
          "user_name": true,
          "created_at": true,
          "modified_at": true,
          "cluster_name": true,
          "access_entry_arn": true,
          "kubernetes_groups": [
            false
          ]
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {},
          "kubernetes_groups": [
            false
          ]
        },
        "before_sensitive": false
      },
      "address": "module.eks.aws_eks_access_entry.this[\"deprovision\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_eks_access_entry",
      "index": "maintenance",
      "change": {
        "after": {
          "tags": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "type": "STANDARD",
          "tags_all": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "timeouts": null,
          "principal_arn": "arn:aws:iam::949309607565:role/inlr2e5a7mf3x9mbkh98p6bhek-maintenance",
          "kubernetes_groups": [
            "maintenance"
          ]
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "tags": {},
          "tags_all": {},
          "user_name": true,
          "created_at": true,
          "modified_at": true,
          "cluster_name": true,
          "access_entry_arn": true,
          "kubernetes_groups": [
            false
          ]
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {},
          "kubernetes_groups": [
            false
          ]
        },
        "before_sensitive": false
      },
      "address": "module.eks.aws_eks_access_entry.this[\"maintenance\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_eks_access_entry",
      "index": "provision",
      "change": {
        "after": {
          "tags": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "type": "STANDARD",
          "tags_all": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "timeouts": null,
          "principal_arn": "arn:aws:iam::949309607565:role/inlr2e5a7mf3x9mbkh98p6bhek-provision",
          "kubernetes_groups": [
            "provision"
          ]
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "tags": {},
          "tags_all": {},
          "user_name": true,
          "created_at": true,
          "modified_at": true,
          "cluster_name": true,
          "access_entry_arn": true,
          "kubernetes_groups": [
            false
          ]
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {},
          "kubernetes_groups": [
            false
          ]
        },
        "before_sensitive": false
      },
      "address": "module.eks.aws_eks_access_entry.this[\"provision\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_eks_access_policy_association",
      "index": "deprovision_cluster_admin",
      "change": {
        "after": {
          "timeouts": null,
          "policy_arn": "arn:aws:eks::aws:cluster-access-policy/AmazonEKSClusterAdminPolicy",
          "access_scope": [
            {
              "type": "cluster",
              "namespaces": null
            }
          ],
          "principal_arn": "arn:aws:iam::949309607565:role/inlr2e5a7mf3x9mbkh98p6bhek-deprovision"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "modified_at": true,
          "access_scope": [
            {}
          ],
          "cluster_name": true,
          "associated_at": true
        },
        "after_sensitive": {
          "access_scope": [
            {}
          ]
        },
        "before_sensitive": false
      },
      "address": "module.eks.aws_eks_access_policy_association.this[\"deprovision_cluster_admin\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_eks_access_policy_association",
      "index": "deprovision_eks_admin",
      "change": {
        "after": {
          "timeouts": null,
          "policy_arn": "arn:aws:eks::aws:cluster-access-policy/AmazonEKSAdminPolicy",
          "access_scope": [
            {
              "type": "cluster",
              "namespaces": null
            }
          ],
          "principal_arn": "arn:aws:iam::949309607565:role/inlr2e5a7mf3x9mbkh98p6bhek-deprovision"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "modified_at": true,
          "access_scope": [
            {}
          ],
          "cluster_name": true,
          "associated_at": true
        },
        "after_sensitive": {
          "access_scope": [
            {}
          ]
        },
        "before_sensitive": false
      },
      "address": "module.eks.aws_eks_access_policy_association.this[\"deprovision_eks_admin\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_eks_access_policy_association",
      "index": "maintenance_eks_admin",
      "change": {
        "after": {
          "timeouts": null,
          "policy_arn": "arn:aws:eks::aws:cluster-access-policy/AmazonEKSAdminPolicy",
          "access_scope": [
            {
              "type": "cluster",
              "namespaces": null
            }
          ],
          "principal_arn": "arn:aws:iam::949309607565:role/inlr2e5a7mf3x9mbkh98p6bhek-maintenance"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "modified_at": true,
          "access_scope": [
            {}
          ],
          "cluster_name": true,
          "associated_at": true
        },
        "after_sensitive": {
          "access_scope": [
            {}
          ]
        },
        "before_sensitive": false
      },
      "address": "module.eks.aws_eks_access_policy_association.this[\"maintenance_eks_admin\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_eks_access_policy_association",
      "index": "maintenance_eks_view",
      "change": {
        "after": {
          "timeouts": null,
          "policy_arn": "arn:aws:eks::aws:cluster-access-policy/AmazonEKSClusterAdminPolicy",
          "access_scope": [
            {
              "type": "cluster",
              "namespaces": null
            }
          ],
          "principal_arn": "arn:aws:iam::949309607565:role/inlr2e5a7mf3x9mbkh98p6bhek-maintenance"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "modified_at": true,
          "access_scope": [
            {}
          ],
          "cluster_name": true,
          "associated_at": true
        },
        "after_sensitive": {
          "access_scope": [
            {}
          ]
        },
        "before_sensitive": false
      },
      "address": "module.eks.aws_eks_access_policy_association.this[\"maintenance_eks_view\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_eks_access_policy_association",
      "index": "provision_cluster_admin",
      "change": {
        "after": {
          "timeouts": null,
          "policy_arn": "arn:aws:eks::aws:cluster-access-policy/AmazonEKSClusterAdminPolicy",
          "access_scope": [
            {
              "type": "cluster",
              "namespaces": null
            }
          ],
          "principal_arn": "arn:aws:iam::949309607565:role/inlr2e5a7mf3x9mbkh98p6bhek-provision"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "modified_at": true,
          "access_scope": [
            {}
          ],
          "cluster_name": true,
          "associated_at": true
        },
        "after_sensitive": {
          "access_scope": [
            {}
          ]
        },
        "before_sensitive": false
      },
      "address": "module.eks.aws_eks_access_policy_association.this[\"provision_cluster_admin\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_eks_access_policy_association",
      "index": "provision_eks_admin",
      "change": {
        "after": {
          "timeouts": null,
          "policy_arn": "arn:aws:eks::aws:cluster-access-policy/AmazonEKSAdminPolicy",
          "access_scope": [
            {
              "type": "cluster",
              "namespaces": null
            }
          ],
          "principal_arn": "arn:aws:iam::949309607565:role/inlr2e5a7mf3x9mbkh98p6bhek-provision"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "modified_at": true,
          "access_scope": [
            {}
          ],
          "cluster_name": true,
          "associated_at": true
        },
        "after_sensitive": {
          "access_scope": [
            {}
          ]
        },
        "before_sensitive": false
      },
      "address": "module.eks.aws_eks_access_policy_association.this[\"provision_eks_admin\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_eks_addon",
      "index": "coredns",
      "change": {
        "after": {
          "tags": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "preserve": true,
          "tags_all": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "timeouts": {
            "create": null,
            "delete": null,
            "update": null
          },
          "addon_name": "coredns",
          "resolve_conflicts": null,
          "configuration_values": "{\"tolerations\":[{\"effect\":\"NoSchedule\",\"key\":\"karpenter.sh/controller\",\"value\":\"true\"},{\"effect\":\"NoSchedule\",\"key\":\"CriticalAddonsOnly\",\"value\":\"true\"}]}",
          "pod_identity_association": [],
          "service_account_role_arn": null,
          "resolve_conflicts_on_create": "OVERWRITE",
          "resolve_conflicts_on_update": "OVERWRITE"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "tags": {},
          "tags_all": {},
          "timeouts": {},
          "created_at": true,
          "modified_at": true,
          "cluster_name": true,
          "addon_version": true,
          "pod_identity_association": []
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {},
          "timeouts": {},
          "pod_identity_association": []
        },
        "before_sensitive": false
      },
      "address": "module.eks.aws_eks_addon.this[\"coredns\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_eks_addon",
      "index": "eks-pod-identity-agent",
      "change": {
        "after": {
          "tags": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "preserve": true,
          "tags_all": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "timeouts": {
            "create": null,
            "delete": null,
            "update": null
          },
          "addon_name": "eks-pod-identity-agent",
          "resolve_conflicts": null,
          "pod_identity_association": [],
          "service_account_role_arn": null,
          "resolve_conflicts_on_create": "OVERWRITE",
          "resolve_conflicts_on_update": "OVERWRITE"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "tags": {},
          "tags_all": {},
          "timeouts": {},
          "created_at": true,
          "modified_at": true,
          "cluster_name": true,
          "addon_version": true,
          "configuration_values": true,
          "pod_identity_association": []
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {},
          "timeouts": {},
          "pod_identity_association": []
        },
        "before_sensitive": false
      },
      "address": "module.eks.aws_eks_addon.this[\"eks-pod-identity-agent\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_eks_addon",
      "index": "kube-proxy",
      "change": {
        "after": {
          "tags": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "preserve": true,
          "tags_all": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "timeouts": {
            "create": null,
            "delete": null,
            "update": null
          },
          "addon_name": "kube-proxy",
          "resolve_conflicts": null,
          "pod_identity_association": [],
          "service_account_role_arn": null,
          "resolve_conflicts_on_create": "OVERWRITE",
          "resolve_conflicts_on_update": "OVERWRITE"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "tags": {},
          "tags_all": {},
          "timeouts": {},
          "created_at": true,
          "modified_at": true,
          "cluster_name": true,
          "addon_version": true,
          "configuration_values": true,
          "pod_identity_association": []
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {},
          "timeouts": {},
          "pod_identity_association": []
        },
        "before_sensitive": false
      },
      "address": "module.eks.aws_eks_addon.this[\"kube-proxy\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_eks_addon",
      "index": "vpc-cni",
      "change": {
        "after": {
          "tags": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "preserve": true,
          "tags_all": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "timeouts": {
            "create": null,
            "delete": null,
            "update": null
          },
          "addon_name": "vpc-cni",
          "resolve_conflicts": null,
          "pod_identity_association": [],
          "service_account_role_arn": null,
          "resolve_conflicts_on_create": "OVERWRITE",
          "resolve_conflicts_on_update": "OVERWRITE"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "tags": {},
          "tags_all": {},
          "timeouts": {},
          "created_at": true,
          "modified_at": true,
          "cluster_name": true,
          "addon_version": true,
          "configuration_values": true,
          "pod_identity_association": []
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {},
          "timeouts": {},
          "pod_identity_association": []
        },
        "before_sensitive": false
      },
      "address": "module.eks.aws_eks_addon.this[\"vpc-cni\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_eks_cluster",
      "index": 0,
      "change": {
        "after": {
          "name": "n-inlr2e5a7mf3x9mbkh98p6bhek",
          "tags": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "terraform-aws-modules": "eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "version": "1.33",
          "tags_all": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "terraform-aws-modules": "eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "timeouts": {
            "create": null,
            "delete": null,
            "update": null
          },
          "vpc_config": [
            {
              "subnet_ids": [
                "subnet-00adff60c11824aed",
                "subnet-09c6a3a806aee2f8d",
                "subnet-0c81560eb05406dff"
              ],
              "public_access_cidrs": [
                "0.0.0.0/0"
              ],
              "endpoint_public_access": true,
              "endpoint_private_access": true
            }
          ],
          "access_config": [
            {
              "authentication_mode": "API_AND_CONFIG_MAP",
              "bootstrap_cluster_creator_admin_permissions": false
            }
          ],
          "compute_config": [],
          "outpost_config": [],
          "storage_config": [],
          "encryption_config": [
            {
              "provider": [
                {}
              ],
              "resources": [
                "secrets"
              ]
            }
          ],
          "zonal_shift_config": [],
          "remote_network_config": [],
          "enabled_cluster_log_types": [
            "api",
            "audit",
            "authenticator"
          ],
          "kubernetes_network_config": [
            {
              "ip_family": "ipv4"
            }
          ],
          "bootstrap_self_managed_addons": true
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "tags": {},
          "status": true,
          "endpoint": true,
          "identity": true,
          "role_arn": true,
          "tags_all": {},
          "timeouts": {},
          "cluster_id": true,
          "created_at": true,
          "vpc_config": [
            {
              "vpc_id": true,
              "subnet_ids": [
                false,
                false,
                false
              ],
              "security_group_ids": true,
              "public_access_cidrs": [
                false
              ],
              "cluster_security_group_id": true
            }
          ],
          "access_config": [
            {}
          ],
          "compute_config": [],
          "outpost_config": [],
          "storage_config": [],
          "upgrade_policy": true,
          "platform_version": true,
          "encryption_config": [
            {
              "provider": [
                {
                  "key_arn": true
                }
              ],
              "resources": [
                false
              ]
            }
          ],
          "zonal_shift_config": [],
          "certificate_authority": true,
          "remote_network_config": [],
          "enabled_cluster_log_types": [
            false,
            false,
            false
          ],
          "kubernetes_network_config": [
            {
              "service_ipv4_cidr": true,
              "service_ipv6_cidr": true,
              "elastic_load_balancing": true
            }
          ]
        },
        "after_sensitive": {
          "tags": {},
          "identity": [],
          "tags_all": {},
          "timeouts": {},
          "vpc_config": [
            {
              "subnet_ids": [
                false,
                false,
                false
              ],
              "security_group_ids": [],
              "public_access_cidrs": [
                false
              ]
            }
          ],
          "access_config": [
            {}
          ],
          "compute_config": [],
          "outpost_config": [],
          "storage_config": [],
          "upgrade_policy": [],
          "encryption_config": [
            {
              "provider": [
                {}
              ],
              "resources": [
                false
              ]
            }
          ],
          "zonal_shift_config": [],
          "certificate_authority": [],
          "remote_network_config": [],
          "enabled_cluster_log_types": [
            false,
            false,
            false
          ],
          "kubernetes_network_config": [
            {
              "elastic_load_balancing": []
            }
          ]
        },
        "before_sensitive": false
      },
      "address": "module.eks.aws_eks_cluster.this[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "oidc_provider",
      "type": "aws_iam_openid_connect_provider",
      "index": 0,
      "change": {
        "after": {
          "tags": {
            "Name": "n-inlr2e5a7mf3x9mbkh98p6bhek-eks-irsa",
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "tags_all": {
            "Name": "n-inlr2e5a7mf3x9mbkh98p6bhek-eks-irsa",
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "client_id_list": [
            "sts.amazonaws.com"
          ]
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "url": true,
          "tags": {},
          "tags_all": {},
          "client_id_list": [
            false
          ],
          "thumbprint_list": true
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {},
          "client_id_list": [
            false
          ],
          "thumbprint_list": []
        },
        "before_sensitive": false
      },
      "address": "module.eks.aws_iam_openid_connect_provider.oidc_provider[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "cluster_encryption",
      "type": "aws_iam_policy",
      "index": 0,
      "change": {
        "after": {
          "path": "/",
          "tags": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "tags_all": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "description": "Cluster encryption policy to allow cluster role to utilize CMK provided",
          "name_prefix": "n-inlr2e5a7mf3x9mbkh98p6bhek-cluster-ClusterEncryption"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "name": true,
          "tags": {},
          "policy": true,
          "tags_all": {},
          "policy_id": true,
          "attachment_count": true
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        },
        "before_sensitive": false
      },
      "address": "module.eks.aws_iam_policy.cluster_encryption[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "custom",
      "type": "aws_iam_policy",
      "index": 0,
      "change": {
        "after": {
          "path": "/",
          "tags": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "policy": "{\"Statement\":[{\"Action\":[\"ec2:RunInstances\",\"ec2:CreateLaunchTemplate\",\"ec2:CreateFleet\"],\"Condition\":{\"StringEquals\":{\"aws:RequestTag/eks:eks-cluster-name\":\"${aws:PrincipalTag/eks:eks-cluster-name}\"},\"StringLike\":{\"aws:RequestTag/eks:kubernetes-node-class-name\":\"*\",\"aws:RequestTag/eks:kubernetes-node-pool-name\":\"*\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"Compute\"},{\"Action\":[\"ec2:CreateVolume\",\"ec2:CreateSnapshot\"],\"Condition\":{\"StringEquals\":{\"aws:RequestTag/eks:eks-cluster-name\":\"${aws:PrincipalTag/eks:eks-cluster-name}\"}},\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:volume/*\",\"arn:aws:ec2:*:*:snapshot/*\"],\"Sid\":\"Storage\"},{\"Action\":\"ec2:CreateNetworkInterface\",\"Condition\":{\"StringEquals\":{\"aws:RequestTag/eks:eks-cluster-name\":\"${aws:PrincipalTag/eks:eks-cluster-name}\",\"aws:RequestTag/eks:kubernetes-cni-node-name\":\"*\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"Networking\"},{\"Action\":[\"elasticloadbalancing:CreateTargetGroup\",\"elasticloadbalancing:CreateRule\",\"elasticloadbalancing:CreateLoadBalancer\",\"elasticloadbalancing:CreateListener\",\"ec2:CreateSecurityGroup\"],\"Condition\":{\"StringEquals\":{\"aws:RequestTag/eks:eks-cluster-name\":\"${aws:PrincipalTag/eks:eks-cluster-name}\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"LoadBalancer\"},{\"Action\":\"shield:CreateProtection\",\"Condition\":{\"StringEquals\":{\"aws:RequestTag/eks:eks-cluster-name\":\"${aws:PrincipalTag/eks:eks-cluster-name}\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"ShieldProtection\"},{\"Action\":\"shield:TagResource\",\"Condition\":{\"StringEquals\":{\"aws:RequestTag/eks:eks-cluster-name\":\"${aws:PrincipalTag/eks:eks-cluster-name}\"}},\"Effect\":\"Allow\",\"Resource\":\"arn:aws:shield::*:protection/*\",\"Sid\":\"ShieldTagResource\"}],\"Version\":\"2012-10-17\"}",
          "tags_all": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "description": null,
          "name_prefix": "n-inlr2e5a7mf3x9mbkh98p6bhek-cluster-"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "name": true,
          "tags": {},
          "tags_all": {},
          "policy_id": true,
          "attachment_count": true
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        },
        "before_sensitive": false
      },
      "address": "module.eks.aws_iam_policy.custom[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_iam_role",
      "index": 0,
      "change": {
        "after": {
          "path": "/",
          "tags": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "tags_all": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "description": null,
          "name_prefix": "n-inlr2e5a7mf3x9mbkh98p6bhek-cluster-",
          "assume_role_policy": "{\"Statement\":[{\"Action\":[\"sts:TagSession\",\"sts:AssumeRole\"],\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"eks.amazonaws.com\"},\"Sid\":\"EKSClusterAssumeRole\"}],\"Version\":\"2012-10-17\"}",
          "max_session_duration": 3600,
          "permissions_boundary": null,
          "force_detach_policies": true
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "name": true,
          "tags": {},
          "tags_all": {},
          "unique_id": true,
          "create_date": true,
          "inline_policy": true,
          "managed_policy_arns": true
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {},
          "inline_policy": [],
          "managed_policy_arns": []
        },
        "before_sensitive": false
      },
      "address": "module.eks.aws_iam_role.this[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "cluster_encryption",
      "type": "aws_iam_role_policy_attachment",
      "index": 0,
      "change": {
        "after": {},
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "role": true,
          "policy_arn": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.eks.aws_iam_role_policy_attachment.cluster_encryption[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "custom",
      "type": "aws_iam_role_policy_attachment",
      "index": 0,
      "change": {
        "after": {},
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "role": true,
          "policy_arn": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.eks.aws_iam_role_policy_attachment.custom[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_iam_role_policy_attachment",
      "index": "AmazonEKSClusterPolicy",
      "change": {
        "after": {
          "policy_arn": "arn:aws:iam::aws:policy/AmazonEKSClusterPolicy"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "role": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.eks.aws_iam_role_policy_attachment.this[\"AmazonEKSClusterPolicy\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_iam_role_policy_attachment",
      "index": "AmazonEKSVPCResourceController",
      "change": {
        "after": {
          "policy_arn": "arn:aws:iam::aws:policy/AmazonEKSVPCResourceController"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "role": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.eks.aws_iam_role_policy_attachment.this[\"AmazonEKSVPCResourceController\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "cluster",
      "type": "aws_security_group",
      "index": 0,
      "change": {
        "after": {
          "tags": {
            "Name": "n-inlr2e5a7mf3x9mbkh98p6bhek-cluster",
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "vpc_id": "vpc-0a878a1b9409f2d67",
          "tags_all": {
            "Name": "n-inlr2e5a7mf3x9mbkh98p6bhek-cluster",
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "timeouts": null,
          "description": "EKS cluster security group",
          "name_prefix": "n-inlr2e5a7mf3x9mbkh98p6bhek-cluster-",
          "revoke_rules_on_delete": false
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "name": true,
          "tags": {},
          "egress": true,
          "ingress": true,
          "owner_id": true,
          "tags_all": {}
        },
        "after_sensitive": {
          "tags": {},
          "egress": [],
          "ingress": [],
          "tags_all": {}
        },
        "before_sensitive": false
      },
      "address": "module.eks.aws_security_group.cluster[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "node",
      "type": "aws_security_group",
      "index": 0,
      "change": {
        "after": {
          "tags": {
            "Name": "n-inlr2e5a7mf3x9mbkh98p6bhek-node",
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "vpc_id": "vpc-0a878a1b9409f2d67",
          "tags_all": {
            "Name": "n-inlr2e5a7mf3x9mbkh98p6bhek-node",
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "timeouts": null,
          "description": "EKS node shared security group",
          "name_prefix": "n-inlr2e5a7mf3x9mbkh98p6bhek-node-",
          "revoke_rules_on_delete": false
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "name": true,
          "tags": {},
          "egress": true,
          "ingress": true,
          "owner_id": true,
          "tags_all": {}
        },
        "after_sensitive": {
          "tags": {},
          "egress": [],
          "ingress": [],
          "tags_all": {}
        },
        "before_sensitive": false
      },
      "address": "module.eks.aws_security_group.node[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "cluster",
      "type": "aws_security_group_rule",
      "index": "ingress_nodes_443",
      "change": {
        "after": {
          "self": false,
          "type": "ingress",
          "to_port": 443,
          "protocol": "tcp",
          "timeouts": null,
          "from_port": 443,
          "cidr_blocks": null,
          "description": "Node groups to cluster API",
          "prefix_list_ids": null,
          "ipv6_cidr_blocks": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "security_group_id": true,
          "security_group_rule_id": true,
          "source_security_group_id": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.eks.aws_security_group_rule.cluster[\"ingress_nodes_443\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "node",
      "type": "aws_security_group_rule",
      "index": "egress_all",
      "change": {
        "after": {
          "self": false,
          "type": "egress",
          "to_port": 0,
          "protocol": "-1",
          "timeouts": null,
          "from_port": 0,
          "cidr_blocks": [
            "0.0.0.0/0"
          ],
          "description": "Allow all egress",
          "prefix_list_ids": [],
          "ipv6_cidr_blocks": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "cidr_blocks": [
            false
          ],
          "prefix_list_ids": [],
          "security_group_id": true,
          "security_group_rule_id": true,
          "source_security_group_id": true
        },
        "after_sensitive": {
          "cidr_blocks": [
            false
          ],
          "prefix_list_ids": []
        },
        "before_sensitive": false
      },
      "address": "module.eks.aws_security_group_rule.node[\"egress_all\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "node",
      "type": "aws_security_group_rule",
      "index": "ingress_cluster_443",
      "change": {
        "after": {
          "self": false,
          "type": "ingress",
          "to_port": 443,
          "protocol": "tcp",
          "timeouts": null,
          "from_port": 443,
          "cidr_blocks": null,
          "description": "Cluster API to node groups",
          "prefix_list_ids": [],
          "ipv6_cidr_blocks": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "prefix_list_ids": [],
          "security_group_id": true,
          "security_group_rule_id": true,
          "source_security_group_id": true
        },
        "after_sensitive": {
          "prefix_list_ids": []
        },
        "before_sensitive": false
      },
      "address": "module.eks.aws_security_group_rule.node[\"ingress_cluster_443\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "node",
      "type": "aws_security_group_rule",
      "index": "ingress_cluster_4443_webhook",
      "change": {
        "after": {
          "self": false,
          "type": "ingress",
          "to_port": 4443,
          "protocol": "tcp",
          "timeouts": null,
          "from_port": 4443,
          "cidr_blocks": null,
          "description": "Cluster API to node 4443/tcp webhook",
          "prefix_list_ids": [],
          "ipv6_cidr_blocks": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "prefix_list_ids": [],
          "security_group_id": true,
          "security_group_rule_id": true,
          "source_security_group_id": true
        },
        "after_sensitive": {
          "prefix_list_ids": []
        },
        "before_sensitive": false
      },
      "address": "module.eks.aws_security_group_rule.node[\"ingress_cluster_4443_webhook\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "node",
      "type": "aws_security_group_rule",
      "index": "ingress_cluster_6443_webhook",
      "change": {
        "after": {
          "self": false,
          "type": "ingress",
          "to_port": 6443,
          "protocol": "tcp",
          "timeouts": null,
          "from_port": 6443,
          "cidr_blocks": null,
          "description": "Cluster API to node 6443/tcp webhook",
          "prefix_list_ids": [],
          "ipv6_cidr_blocks": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "prefix_list_ids": [],
          "security_group_id": true,
          "security_group_rule_id": true,
          "source_security_group_id": true
        },
        "after_sensitive": {
          "prefix_list_ids": []
        },
        "before_sensitive": false
      },
      "address": "module.eks.aws_security_group_rule.node[\"ingress_cluster_6443_webhook\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "node",
      "type": "aws_security_group_rule",
      "index": "ingress_cluster_8443_webhook",
      "change": {
        "after": {
          "self": false,
          "type": "ingress",
          "to_port": 8443,
          "protocol": "tcp",
          "timeouts": null,
          "from_port": 8443,
          "cidr_blocks": null,
          "description": "Cluster API to node 8443/tcp webhook",
          "prefix_list_ids": [],
          "ipv6_cidr_blocks": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "prefix_list_ids": [],
          "security_group_id": true,
          "security_group_rule_id": true,
          "source_security_group_id": true
        },
        "after_sensitive": {
          "prefix_list_ids": []
        },
        "before_sensitive": false
      },
      "address": "module.eks.aws_security_group_rule.node[\"ingress_cluster_8443_webhook\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "node",
      "type": "aws_security_group_rule",
      "index": "ingress_cluster_9443_webhook",
      "change": {
        "after": {
          "self": false,
          "type": "ingress",
          "to_port": 9443,
          "protocol": "tcp",
          "timeouts": null,
          "from_port": 9443,
          "cidr_blocks": null,
          "description": "Cluster API to node 9443/tcp webhook",
          "prefix_list_ids": [],
          "ipv6_cidr_blocks": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "prefix_list_ids": [],
          "security_group_id": true,
          "security_group_rule_id": true,
          "source_security_group_id": true
        },
        "after_sensitive": {
          "prefix_list_ids": []
        },
        "before_sensitive": false
      },
      "address": "module.eks.aws_security_group_rule.node[\"ingress_cluster_9443_webhook\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "node",
      "type": "aws_security_group_rule",
      "index": "ingress_cluster_kubelet",
      "change": {
        "after": {
          "self": false,
          "type": "ingress",
          "to_port": 10250,
          "protocol": "tcp",
          "timeouts": null,
          "from_port": 10250,
          "cidr_blocks": null,
          "description": "Cluster API to node kubelets",
          "prefix_list_ids": [],
          "ipv6_cidr_blocks": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "prefix_list_ids": [],
          "security_group_id": true,
          "security_group_rule_id": true,
          "source_security_group_id": true
        },
        "after_sensitive": {
          "prefix_list_ids": []
        },
        "before_sensitive": false
      },
      "address": "module.eks.aws_security_group_rule.node[\"ingress_cluster_kubelet\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "node",
      "type": "aws_security_group_rule",
      "index": "ingress_nodes_ephemeral",
      "change": {
        "after": {
          "self": true,
          "type": "ingress",
          "to_port": 65535,
          "protocol": "tcp",
          "timeouts": null,
          "from_port": 1025,
          "cidr_blocks": null,
          "description": "Node to node ingress on ephemeral ports",
          "prefix_list_ids": [],
          "ipv6_cidr_blocks": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "prefix_list_ids": [],
          "security_group_id": true,
          "security_group_rule_id": true,
          "source_security_group_id": true
        },
        "after_sensitive": {
          "prefix_list_ids": []
        },
        "before_sensitive": false
      },
      "address": "module.eks.aws_security_group_rule.node[\"ingress_nodes_ephemeral\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "node",
      "type": "aws_security_group_rule",
      "index": "ingress_self_coredns_tcp",
      "change": {
        "after": {
          "self": true,
          "type": "ingress",
          "to_port": 53,
          "protocol": "tcp",
          "timeouts": null,
          "from_port": 53,
          "cidr_blocks": null,
          "description": "Node to node CoreDNS",
          "prefix_list_ids": [],
          "ipv6_cidr_blocks": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "prefix_list_ids": [],
          "security_group_id": true,
          "security_group_rule_id": true,
          "source_security_group_id": true
        },
        "after_sensitive": {
          "prefix_list_ids": []
        },
        "before_sensitive": false
      },
      "address": "module.eks.aws_security_group_rule.node[\"ingress_self_coredns_tcp\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "node",
      "type": "aws_security_group_rule",
      "index": "ingress_self_coredns_udp",
      "change": {
        "after": {
          "self": true,
          "type": "ingress",
          "to_port": 53,
          "protocol": "udp",
          "timeouts": null,
          "from_port": 53,
          "cidr_blocks": null,
          "description": "Node to node CoreDNS UDP",
          "prefix_list_ids": [],
          "ipv6_cidr_blocks": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "prefix_list_ids": [],
          "security_group_id": true,
          "security_group_rule_id": true,
          "source_security_group_id": true
        },
        "after_sensitive": {
          "prefix_list_ids": []
        },
        "before_sensitive": false
      },
      "address": "module.eks.aws_security_group_rule.node[\"ingress_self_coredns_udp\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "time_sleep",
      "index": 0,
      "change": {
        "after": {
          "triggers": {
            "cluster_version": "1.33"
          },
          "create_duration": "30s",
          "destroy_duration": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "triggers": {
            "cluster_name": true,
            "cluster_endpoint": true,
            "cluster_service_cidr": true,
            "cluster_certificate_authority_data": true
          }
        },
        "after_sensitive": {
          "triggers": {}
        },
        "before_sensitive": false
      },
      "address": "module.eks.time_sleep.this[0]",
      "provider_name": "registry.terraform.io/hashicorp/time",
      "module_address": "module.eks"
    },
    {
      "mode": "data",
      "name": "current",
      "type": "aws_caller_identity",
      "change": {
        "after": {},
        "before": null,
        "actions": [
          "read"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "user_id": true,
          "account_id": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.karpenter.data.aws_caller_identity.current",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.karpenter"
    },
    {
      "mode": "data",
      "name": "controller",
      "type": "aws_iam_policy_document",
      "index": 0,
      "change": {
        "after": {
          "version": null,
          "policy_id": null,
          "statement": [],
          "source_json": null,
          "override_json": null,
          "source_policy_documents": [
            null
          ],
          "override_policy_documents": null
        },
        "before": null,
        "actions": [
          "read"
        ],
        "after_unknown": {
          "id": true,
          "json": true,
          "statement": [],
          "minified_json": true,
          "source_policy_documents": [
            true
          ]
        },
        "after_sensitive": {
          "statement": [],
          "source_policy_documents": [
            false
          ]
        },
        "before_sensitive": false
      },
      "address": "module.karpenter.data.aws_iam_policy_document.controller[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.karpenter"
    },
    {
      "mode": "data",
      "name": "controller_assume_role",
      "type": "aws_iam_policy_document",
      "index": 0,
      "change": {
        "after": {
          "version": null,
          "policy_id": null,
          "statement": [
            {
              "sid": null,
              "effect": null,
              "actions": [
                "sts:AssumeRole",
                "sts:TagSession"
              ],
              "condition": [],
              "resources": null,
              "principals": [
                {
                  "type": "Service",
                  "identifiers": [
                    "pods.eks.amazonaws.com"
                  ]
                }
              ],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": null,
              "effect": null,
              "actions": [
                "sts:AssumeRoleWithWebIdentity"
              ],
              "condition": [
                {
                  "test": "StringEquals",
                  "values": [
                    "sts.amazonaws.com"
                  ]
                },
                {
                  "test": "StringEquals",
                  "values": [
                    "system:serviceaccount:kube-system:karpenter"
                  ]
                }
              ],
              "resources": null,
              "principals": [
                {
                  "type": "Federated",
                  "identifiers": [
                    null
                  ]
                }
              ],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            }
          ],
          "source_json": null,
          "override_json": null,
          "source_policy_documents": null,
          "override_policy_documents": null
        },
        "before": null,
        "actions": [
          "read"
        ],
        "after_unknown": {
          "id": true,
          "json": true,
          "statement": [
            {
              "actions": [
                false,
                false
              ],
              "condition": [],
              "principals": [
                {
                  "identifiers": [
                    false
                  ]
                }
              ],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ],
                  "variable": true
                },
                {
                  "values": [
                    false
                  ],
                  "variable": true
                }
              ],
              "principals": [
                {
                  "identifiers": [
                    true
                  ]
                }
              ],
              "not_principals": []
            }
          ],
          "minified_json": true
        },
        "after_sensitive": {
          "statement": [
            {
              "actions": [
                false,
                false
              ],
              "condition": [],
              "principals": [
                {
                  "identifiers": [
                    false
                  ]
                }
              ],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "principals": [
                {
                  "identifiers": [
                    false
                  ]
                }
              ],
              "not_principals": []
            }
          ]
        },
        "before_sensitive": false
      },
      "address": "module.karpenter.data.aws_iam_policy_document.controller_assume_role[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.karpenter"
    },
    {
      "mode": "data",
      "name": "queue",
      "type": "aws_iam_policy_document",
      "index": 0,
      "change": {
        "after": {
          "version": null,
          "policy_id": null,
          "statement": [
            {
              "sid": "SqsWrite",
              "effect": null,
              "actions": [
                "sqs:SendMessage"
              ],
              "condition": [],
              "resources": [
                null
              ],
              "principals": [
                {
                  "type": "Service",
                  "identifiers": [
                    "events.amazonaws.com",
                    "sqs.amazonaws.com"
                  ]
                }
              ],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": "DenyHTTP",
              "effect": "Deny",
              "actions": [
                "sqs:*"
              ],
              "condition": [
                {
                  "test": "StringEquals",
                  "values": [
                    "false"
                  ],
                  "variable": "aws:SecureTransport"
                }
              ],
              "resources": [
                null
              ],
              "principals": [
                {
                  "type": "*",
                  "identifiers": [
                    "*"
                  ]
                }
              ],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            }
          ],
          "source_json": null,
          "override_json": null,
          "source_policy_documents": null,
          "override_policy_documents": null
        },
        "before": null,
        "actions": [
          "read"
        ],
        "after_unknown": {
          "id": true,
          "json": true,
          "statement": [
            {
              "actions": [
                false
              ],
              "condition": [],
              "resources": [
                true
              ],
              "principals": [
                {
                  "identifiers": [
                    false,
                    false
                  ]
                }
              ],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                true
              ],
              "principals": [
                {
                  "identifiers": [
                    false
                  ]
                }
              ],
              "not_principals": []
            }
          ],
          "minified_json": true
        },
        "after_sensitive": {
          "statement": [
            {
              "actions": [
                false
              ],
              "condition": [],
              "resources": [
                false
              ],
              "principals": [
                {
                  "identifiers": [
                    false,
                    false
                  ]
                }
              ],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                false
              ],
              "principals": [
                {
                  "identifiers": [
                    false
                  ]
                }
              ],
              "not_principals": []
            }
          ]
        },
        "before_sensitive": false
      },
      "address": "module.karpenter.data.aws_iam_policy_document.queue[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.karpenter"
    },
    {
      "mode": "data",
      "name": "v033",
      "type": "aws_iam_policy_document",
      "index": 0,
      "change": {
        "after": {
          "version": null,
          "policy_id": null,
          "statement": [
            {
              "sid": "AllowScopedEC2InstanceActions",
              "effect": null,
              "actions": [
                "ec2:CreateFleet",
                "ec2:RunInstances"
              ],
              "condition": [],
              "resources": [
                null,
                null,
                null,
                null,
                null,
                null
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": "AllowScopedEC2InstanceActionsWithTags",
              "effect": null,
              "actions": [
                "ec2:CreateFleet",
                "ec2:CreateLaunchTemplate",
                "ec2:RunInstances"
              ],
              "condition": [
                {
                  "test": "StringEquals",
                  "values": [
                    "owned"
                  ],
                  "variable": "aws:RequestTag/kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek"
                },
                {
                  "test": "StringLike",
                  "values": [
                    "*"
                  ],
                  "variable": "aws:RequestTag/karpenter.sh/nodepool"
                }
              ],
              "resources": [
                null,
                null,
                null,
                null,
                null,
                null
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": "AllowScopedResourceCreationTagging",
              "effect": null,
              "actions": [
                "ec2:CreateTags"
              ],
              "condition": [
                {
                  "test": "StringEquals",
                  "values": [
                    "RunInstances",
                    "CreateFleet",
                    "CreateLaunchTemplate"
                  ],
                  "variable": "ec2:CreateAction"
                },
                {
                  "test": "StringEquals",
                  "values": [
                    "owned"
                  ],
                  "variable": "aws:RequestTag/kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek"
                },
                {
                  "test": "StringLike",
                  "values": [
                    "*"
                  ],
                  "variable": "aws:RequestTag/karpenter.sh/nodepool"
                }
              ],
              "resources": [
                null,
                null,
                null,
                null,
                null,
                null
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": "AllowScopedResourceTagging",
              "effect": null,
              "actions": [
                "ec2:CreateTags"
              ],
              "condition": [
                {
                  "test": "ForAllValues:StringEquals",
                  "values": [
                    "karpenter.sh/nodeclaim",
                    "Name"
                  ],
                  "variable": "aws:TagKeys"
                },
                {
                  "test": "StringEquals",
                  "values": [
                    "owned"
                  ],
                  "variable": "aws:ResourceTag/kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek"
                },
                {
                  "test": "StringLike",
                  "values": [
                    "*"
                  ],
                  "variable": "aws:ResourceTag/karpenter.sh/nodepool"
                }
              ],
              "resources": [
                null
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": "AllowScopedDeletion",
              "effect": null,
              "actions": [
                "ec2:DeleteLaunchTemplate",
                "ec2:TerminateInstances"
              ],
              "condition": [
                {
                  "test": "StringEquals",
                  "values": [
                    "owned"
                  ],
                  "variable": "aws:ResourceTag/kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek"
                },
                {
                  "test": "StringLike",
                  "values": [
                    "*"
                  ],
                  "variable": "aws:ResourceTag/karpenter.sh/nodepool"
                }
              ],
              "resources": [
                null,
                null
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": "AllowRegionalReadActions",
              "effect": null,
              "actions": [
                "ec2:DescribeAvailabilityZones",
                "ec2:DescribeImages",
                "ec2:DescribeInstanceTypeOfferings",
                "ec2:DescribeInstanceTypes",
                "ec2:DescribeInstances",
                "ec2:DescribeLaunchTemplates",
                "ec2:DescribeSecurityGroups",
                "ec2:DescribeSpotPriceHistory",
                "ec2:DescribeSubnets"
              ],
              "condition": [
                {
                  "test": "StringEquals",
                  "values": [
                    null
                  ],
                  "variable": "aws:RequestedRegion"
                }
              ],
              "resources": [
                "*"
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": "AllowSSMReadActions",
              "effect": null,
              "actions": [
                "ssm:GetParameter"
              ],
              "condition": [],
              "resources": [
                null
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": "AllowPricingReadActions",
              "effect": null,
              "actions": [
                "pricing:GetProducts"
              ],
              "condition": [],
              "resources": [
                "*"
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": "AllowInterruptionQueueActions",
              "effect": null,
              "actions": [
                "sqs:DeleteMessage",
                "sqs:GetQueueAttributes",
                "sqs:GetQueueUrl",
                "sqs:ReceiveMessage"
              ],
              "condition": [],
              "resources": [
                null
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": "AllowPassingInstanceRole",
              "effect": null,
              "actions": [
                "iam:PassRole"
              ],
              "condition": [
                {
                  "test": "StringEquals",
                  "values": [
                    null
                  ],
                  "variable": "iam:PassedToService"
                }
              ],
              "resources": [
                null
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": "AllowScopedInstanceProfileCreationActions",
              "effect": null,
              "actions": [
                "iam:CreateInstanceProfile"
              ],
              "condition": [
                {
                  "test": "StringEquals",
                  "values": [
                    "owned"
                  ],
                  "variable": "aws:RequestTag/kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek"
                },
                {
                  "test": "StringEquals",
                  "values": [
                    null
                  ],
                  "variable": "aws:RequestTag/topology.kubernetes.io/region"
                },
                {
                  "test": "StringLike",
                  "values": [
                    "*"
                  ],
                  "variable": "aws:RequestTag/karpenter.k8s.aws/ec2nodeclass"
                }
              ],
              "resources": [
                "*"
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": "AllowScopedInstanceProfileTagActions",
              "effect": null,
              "actions": [
                "iam:TagInstanceProfile"
              ],
              "condition": [
                {
                  "test": "StringEquals",
                  "values": [
                    "owned"
                  ],
                  "variable": "aws:RequestTag/kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek"
                },
                {
                  "test": "StringEquals",
                  "values": [
                    "owned"
                  ],
                  "variable": "aws:ResourceTag/kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek"
                },
                {
                  "test": "StringEquals",
                  "values": [
                    null
                  ],
                  "variable": "aws:ResourceTag/topology.kubernetes.io/region"
                },
                {
                  "test": "StringEquals",
                  "values": [
                    null
                  ],
                  "variable": "aws:ResourceTag/topology.kubernetes.io/region"
                },
                {
                  "test": "StringLike",
                  "values": [
                    "*"
                  ],
                  "variable": "aws:RequestTag/karpenter.k8s.aws/ec2nodeclass"
                },
                {
                  "test": "StringLike",
                  "values": [
                    "*"
                  ],
                  "variable": "aws:ResourceTag/karpenter.k8s.aws/ec2nodeclass"
                }
              ],
              "resources": [
                "*"
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": "AllowScopedInstanceProfileActions",
              "effect": null,
              "actions": [
                "iam:AddRoleToInstanceProfile",
                "iam:DeleteInstanceProfile",
                "iam:RemoveRoleFromInstanceProfile"
              ],
              "condition": [
                {
                  "test": "StringEquals",
                  "values": [
                    "owned"
                  ],
                  "variable": "aws:ResourceTag/kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek"
                },
                {
                  "test": "StringEquals",
                  "values": [
                    null
                  ],
                  "variable": "aws:ResourceTag/topology.kubernetes.io/region"
                },
                {
                  "test": "StringLike",
                  "values": [
                    "*"
                  ],
                  "variable": "aws:ResourceTag/karpenter.k8s.aws/ec2nodeclass"
                }
              ],
              "resources": [
                "*"
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": "AllowInstanceProfileReadActions",
              "effect": null,
              "actions": [
                "iam:GetInstanceProfile"
              ],
              "condition": [],
              "resources": [
                "*"
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": "AllowAPIServerEndpointDiscovery",
              "effect": null,
              "actions": [
                "eks:DescribeCluster"
              ],
              "condition": [],
              "resources": [
                null
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            }
          ],
          "source_json": null,
          "override_json": null,
          "source_policy_documents": null,
          "override_policy_documents": null
        },
        "before": null,
        "actions": [
          "read"
        ],
        "after_unknown": {
          "id": true,
          "json": true,
          "statement": [
            {
              "actions": [
                false,
                false
              ],
              "condition": [],
              "resources": [
                true,
                true,
                true,
                true,
                true,
                true
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false,
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                true,
                true,
                true,
                true,
                true,
                true
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false,
                    false,
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                true,
                true,
                true,
                true,
                true,
                true
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false,
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                true
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                true,
                true
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false
              ],
              "condition": [
                {
                  "values": [
                    true
                  ]
                }
              ],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [],
              "resources": [
                true
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false,
                false,
                false
              ],
              "condition": [],
              "resources": [
                true
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    true
                  ]
                }
              ],
              "resources": [
                true
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    true
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    true
                  ]
                },
                {
                  "values": [
                    true
                  ]
                },
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false,
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    true
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [],
              "resources": [
                true
              ],
              "principals": [],
              "not_principals": []
            }
          ],
          "minified_json": true
        },
        "after_sensitive": {
          "statement": [
            {
              "actions": [
                false,
                false
              ],
              "condition": [],
              "resources": [
                false,
                false,
                false,
                false,
                false,
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false,
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                false,
                false,
                false,
                false,
                false,
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false,
                    false,
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                false,
                false,
                false,
                false,
                false,
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false,
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                false,
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false,
                false,
                false
              ],
              "condition": [],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false,
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            }
          ]
        },
        "before_sensitive": false
      },
      "address": "module.karpenter.data.aws_iam_policy_document.v033[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.karpenter"
    },
    {
      "mode": "data",
      "name": "v1",
      "type": "aws_iam_policy_document",
      "index": 0,
      "change": {
        "after": {
          "version": null,
          "policy_id": null,
          "statement": [
            {
              "sid": "AllowScopedEC2InstanceAccessActions",
              "effect": null,
              "actions": [
                "ec2:CreateFleet",
                "ec2:RunInstances"
              ],
              "condition": [],
              "resources": [
                null,
                null,
                null,
                null
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": "AllowScopedEC2LaunchTemplateAccessActions",
              "effect": null,
              "actions": [
                "ec2:CreateFleet",
                "ec2:RunInstances"
              ],
              "condition": [
                {
                  "test": "StringEquals",
                  "values": [
                    "owned"
                  ],
                  "variable": "aws:ResourceTag/kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek"
                },
                {
                  "test": "StringLike",
                  "values": [
                    "*"
                  ],
                  "variable": "aws:ResourceTag/karpenter.sh/nodepool"
                }
              ],
              "resources": [
                null
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": "AllowScopedEC2InstanceActionsWithTags",
              "effect": null,
              "actions": [
                "ec2:CreateFleet",
                "ec2:CreateLaunchTemplate",
                "ec2:RunInstances"
              ],
              "condition": [
                {
                  "test": "StringEquals",
                  "values": [
                    "n-inlr2e5a7mf3x9mbkh98p6bhek"
                  ],
                  "variable": "aws:RequestTag/eks:eks-cluster-name"
                },
                {
                  "test": "StringEquals",
                  "values": [
                    "owned"
                  ],
                  "variable": "aws:RequestTag/kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek"
                },
                {
                  "test": "StringLike",
                  "values": [
                    "*"
                  ],
                  "variable": "aws:RequestTag/karpenter.sh/nodepool"
                }
              ],
              "resources": [
                null,
                null,
                null,
                null,
                null,
                null
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": "AllowScopedResourceCreationTagging",
              "effect": null,
              "actions": [
                "ec2:CreateTags"
              ],
              "condition": [
                {
                  "test": "StringEquals",
                  "values": [
                    "RunInstances",
                    "CreateFleet",
                    "CreateLaunchTemplate"
                  ],
                  "variable": "ec2:CreateAction"
                },
                {
                  "test": "StringEquals",
                  "values": [
                    "n-inlr2e5a7mf3x9mbkh98p6bhek"
                  ],
                  "variable": "aws:RequestTag/eks:eks-cluster-name"
                },
                {
                  "test": "StringEquals",
                  "values": [
                    "owned"
                  ],
                  "variable": "aws:RequestTag/kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek"
                },
                {
                  "test": "StringLike",
                  "values": [
                    "*"
                  ],
                  "variable": "aws:RequestTag/karpenter.sh/nodepool"
                }
              ],
              "resources": [
                null,
                null,
                null,
                null,
                null,
                null
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": "AllowScopedResourceTagging",
              "effect": null,
              "actions": [
                "ec2:CreateTags"
              ],
              "condition": [
                {
                  "test": "ForAllValues:StringEquals",
                  "values": [
                    "eks:eks-cluster-name",
                    "karpenter.sh/nodeclaim",
                    "Name"
                  ],
                  "variable": "aws:TagKeys"
                },
                {
                  "test": "StringEquals",
                  "values": [
                    "owned"
                  ],
                  "variable": "aws:ResourceTag/kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek"
                },
                {
                  "test": "StringEqualsIfExists",
                  "values": [
                    "n-inlr2e5a7mf3x9mbkh98p6bhek"
                  ],
                  "variable": "aws:RequestTag/eks:eks-cluster-name"
                },
                {
                  "test": "StringLike",
                  "values": [
                    "*"
                  ],
                  "variable": "aws:ResourceTag/karpenter.sh/nodepool"
                }
              ],
              "resources": [
                null
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": "AllowScopedDeletion",
              "effect": null,
              "actions": [
                "ec2:DeleteLaunchTemplate",
                "ec2:TerminateInstances"
              ],
              "condition": [
                {
                  "test": "StringEquals",
                  "values": [
                    "owned"
                  ],
                  "variable": "aws:ResourceTag/kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek"
                },
                {
                  "test": "StringLike",
                  "values": [
                    "*"
                  ],
                  "variable": "aws:ResourceTag/karpenter.sh/nodepool"
                }
              ],
              "resources": [
                null,
                null
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": "AllowRegionalReadActions",
              "effect": null,
              "actions": [
                "ec2:DescribeAvailabilityZones",
                "ec2:DescribeImages",
                "ec2:DescribeInstanceTypeOfferings",
                "ec2:DescribeInstanceTypes",
                "ec2:DescribeInstances",
                "ec2:DescribeLaunchTemplates",
                "ec2:DescribeSecurityGroups",
                "ec2:DescribeSpotPriceHistory",
                "ec2:DescribeSubnets"
              ],
              "condition": [
                {
                  "test": "StringEquals",
                  "values": [
                    null
                  ],
                  "variable": "aws:RequestedRegion"
                }
              ],
              "resources": [
                "*"
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": "AllowSSMReadActions",
              "effect": null,
              "actions": [
                "ssm:GetParameter"
              ],
              "condition": [],
              "resources": [
                null
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": "AllowPricingReadActions",
              "effect": null,
              "actions": [
                "pricing:GetProducts"
              ],
              "condition": [],
              "resources": [
                "*"
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": "AllowInterruptionQueueActions",
              "effect": null,
              "actions": [
                "sqs:DeleteMessage",
                "sqs:GetQueueUrl",
                "sqs:ReceiveMessage"
              ],
              "condition": [],
              "resources": [
                null
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": "AllowPassingInstanceRole",
              "effect": null,
              "actions": [
                "iam:PassRole"
              ],
              "condition": [
                {
                  "test": "StringEquals",
                  "values": [
                    null
                  ],
                  "variable": "iam:PassedToService"
                }
              ],
              "resources": [
                null
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": "AllowScopedInstanceProfileCreationActions",
              "effect": null,
              "actions": [
                "iam:CreateInstanceProfile"
              ],
              "condition": [
                {
                  "test": "StringEquals",
                  "values": [
                    "n-inlr2e5a7mf3x9mbkh98p6bhek"
                  ],
                  "variable": "aws:RequestTag/eks:eks-cluster-name"
                },
                {
                  "test": "StringEquals",
                  "values": [
                    "owned"
                  ],
                  "variable": "aws:RequestTag/kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek"
                },
                {
                  "test": "StringEquals",
                  "values": [
                    null
                  ],
                  "variable": "aws:RequestTag/topology.kubernetes.io/region"
                },
                {
                  "test": "StringLike",
                  "values": [
                    "*"
                  ],
                  "variable": "aws:RequestTag/karpenter.k8s.aws/ec2nodeclass"
                }
              ],
              "resources": [
                null
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": "AllowScopedInstanceProfileTagActions",
              "effect": null,
              "actions": [
                "iam:TagInstanceProfile"
              ],
              "condition": [
                {
                  "test": "StringEquals",
                  "values": [
                    "n-inlr2e5a7mf3x9mbkh98p6bhek"
                  ],
                  "variable": "aws:RequestTag/eks:eks-cluster-name"
                },
                {
                  "test": "StringEquals",
                  "values": [
                    "owned"
                  ],
                  "variable": "aws:RequestTag/kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek"
                },
                {
                  "test": "StringEquals",
                  "values": [
                    "owned"
                  ],
                  "variable": "aws:ResourceTag/kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek"
                },
                {
                  "test": "StringEquals",
                  "values": [
                    null
                  ],
                  "variable": "aws:RequestTag/topology.kubernetes.io/region"
                },
                {
                  "test": "StringEquals",
                  "values": [
                    null
                  ],
                  "variable": "aws:ResourceTag/topology.kubernetes.io/region"
                },
                {
                  "test": "StringLike",
                  "values": [
                    "*"
                  ],
                  "variable": "aws:RequestTag/karpenter.k8s.aws/ec2nodeclass"
                },
                {
                  "test": "StringLike",
                  "values": [
                    "*"
                  ],
                  "variable": "aws:ResourceTag/karpenter.k8s.aws/ec2nodeclass"
                }
              ],
              "resources": [
                null
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": "AllowScopedInstanceProfileActions",
              "effect": null,
              "actions": [
                "iam:AddRoleToInstanceProfile",
                "iam:DeleteInstanceProfile",
                "iam:RemoveRoleFromInstanceProfile"
              ],
              "condition": [
                {
                  "test": "StringEquals",
                  "values": [
                    "owned"
                  ],
                  "variable": "aws:ResourceTag/kubernetes.io/cluster/n-inlr2e5a7mf3x9mbkh98p6bhek"
                },
                {
                  "test": "StringEquals",
                  "values": [
                    null
                  ],
                  "variable": "aws:ResourceTag/topology.kubernetes.io/region"
                },
                {
                  "test": "StringLike",
                  "values": [
                    "*"
                  ],
                  "variable": "aws:ResourceTag/karpenter.k8s.aws/ec2nodeclass"
                }
              ],
              "resources": [
                null
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": "AllowInstanceProfileReadActions",
              "effect": null,
              "actions": [
                "iam:GetInstanceProfile"
              ],
              "condition": [],
              "resources": [
                null
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": "AllowAPIServerEndpointDiscovery",
              "effect": null,
              "actions": [
                "eks:DescribeCluster"
              ],
              "condition": [],
              "resources": [
                null
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            }
          ],
          "source_json": null,
          "override_json": null,
          "source_policy_documents": null,
          "override_policy_documents": null
        },
        "before": null,
        "actions": [
          "read"
        ],
        "after_unknown": {
          "id": true,
          "json": true,
          "statement": [
            {
              "actions": [
                false,
                false
              ],
              "condition": [],
              "resources": [
                true,
                true,
                true,
                true
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                true
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false,
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                true,
                true,
                true,
                true,
                true,
                true
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false,
                    false,
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                true,
                true,
                true,
                true,
                true,
                true
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false,
                    false,
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                true
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                true,
                true
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false
              ],
              "condition": [
                {
                  "values": [
                    true
                  ]
                }
              ],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [],
              "resources": [
                true
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false,
                false
              ],
              "condition": [],
              "resources": [
                true
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    true
                  ]
                }
              ],
              "resources": [
                true
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    true
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                true
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    true
                  ]
                },
                {
                  "values": [
                    true
                  ]
                },
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                true
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false,
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    true
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                true
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [],
              "resources": [
                true
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [],
              "resources": [
                true
              ],
              "principals": [],
              "not_principals": []
            }
          ],
          "minified_json": true
        },
        "after_sensitive": {
          "statement": [
            {
              "actions": [
                false,
                false
              ],
              "condition": [],
              "resources": [
                false,
                false,
                false,
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false,
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                false,
                false,
                false,
                false,
                false,
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false,
                    false,
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                false,
                false,
                false,
                false,
                false,
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false,
                    false,
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                false,
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false,
                false
              ],
              "condition": [],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false,
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            }
          ]
        },
        "before_sensitive": false
      },
      "address": "module.karpenter.data.aws_iam_policy_document.v1[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.karpenter"
    },
    {
      "mode": "data",
      "name": "current",
      "type": "aws_partition",
      "change": {
        "after": {},
        "before": null,
        "actions": [
          "read"
        ],
        "after_unknown": {
          "id": true,
          "partition": true,
          "dns_suffix": true,
          "reverse_dns_prefix": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.karpenter.data.aws_partition.current",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.karpenter"
    },
    {
      "mode": "data",
      "name": "current",
      "type": "aws_region",
      "change": {
        "after": {},
        "before": null,
        "actions": [
          "read"
        ],
        "after_unknown": {
          "id": true,
          "name": true,
          "endpoint": true,
          "description": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.karpenter.data.aws_region.current",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.karpenter"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_cloudwatch_event_rule",
      "index": "health_event",
      "change": {
        "after": {
          "tags": {
            "ClusterName": "n-inlr2e5a7mf3x9mbkh98p6bhek"
          },
          "state": null,
          "role_arn": null,
          "tags_all": {
            "ClusterName": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "is_enabled": null,
          "description": "Karpenter interrupt - AWS health event",
          "name_prefix": "KarpenterHealthEvent-",
          "event_pattern": "{\"detail-type\":[\"AWS Health Event\"],\"source\":[\"aws.health\"]}",
          "force_destroy": false,
          "event_bus_name": "default",
          "schedule_expression": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "name": true,
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        },
        "before_sensitive": false
      },
      "address": "module.karpenter.aws_cloudwatch_event_rule.this[\"health_event\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.karpenter"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_cloudwatch_event_rule",
      "index": "instance_rebalance",
      "change": {
        "after": {
          "tags": {
            "ClusterName": "n-inlr2e5a7mf3x9mbkh98p6bhek"
          },
          "state": null,
          "role_arn": null,
          "tags_all": {
            "ClusterName": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "is_enabled": null,
          "description": "Karpenter interrupt - EC2 instance rebalance recommendation",
          "name_prefix": "KarpenterInstanceRebalance-",
          "event_pattern": "{\"detail-type\":[\"EC2 Instance Rebalance Recommendation\"],\"source\":[\"aws.ec2\"]}",
          "force_destroy": false,
          "event_bus_name": "default",
          "schedule_expression": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "name": true,
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        },
        "before_sensitive": false
      },
      "address": "module.karpenter.aws_cloudwatch_event_rule.this[\"instance_rebalance\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.karpenter"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_cloudwatch_event_rule",
      "index": "instance_state_change",
      "change": {
        "after": {
          "tags": {
            "ClusterName": "n-inlr2e5a7mf3x9mbkh98p6bhek"
          },
          "state": null,
          "role_arn": null,
          "tags_all": {
            "ClusterName": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "is_enabled": null,
          "description": "Karpenter interrupt - EC2 instance state-change notification",
          "name_prefix": "KarpenterInstanceStateChange-",
          "event_pattern": "{\"detail-type\":[\"EC2 Instance State-change Notification\"],\"source\":[\"aws.ec2\"]}",
          "force_destroy": false,
          "event_bus_name": "default",
          "schedule_expression": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "name": true,
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        },
        "before_sensitive": false
      },
      "address": "module.karpenter.aws_cloudwatch_event_rule.this[\"instance_state_change\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.karpenter"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_cloudwatch_event_rule",
      "index": "spot_interrupt",
      "change": {
        "after": {
          "tags": {
            "ClusterName": "n-inlr2e5a7mf3x9mbkh98p6bhek"
          },
          "state": null,
          "role_arn": null,
          "tags_all": {
            "ClusterName": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "is_enabled": null,
          "description": "Karpenter interrupt - EC2 spot instance interruption warning",
          "name_prefix": "KarpenterSpotInterrupt-",
          "event_pattern": "{\"detail-type\":[\"EC2 Spot Instance Interruption Warning\"],\"source\":[\"aws.ec2\"]}",
          "force_destroy": false,
          "event_bus_name": "default",
          "schedule_expression": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "name": true,
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        },
        "before_sensitive": false
      },
      "address": "module.karpenter.aws_cloudwatch_event_rule.this[\"spot_interrupt\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.karpenter"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_cloudwatch_event_target",
      "index": "health_event",
      "change": {
        "after": {
          "input": null,
          "role_arn": null,
          "target_id": "KarpenterInterruptionQueueTarget",
          "ecs_target": [],
          "input_path": null,
          "sqs_target": [],
          "http_target": [],
          "batch_target": [],
          "retry_policy": [],
          "force_destroy": false,
          "appsync_target": [],
          "event_bus_name": "default",
          "kinesis_target": [],
          "redshift_target": [],
          "input_transformer": [],
          "dead_letter_config": [],
          "run_command_targets": [],
          "sagemaker_pipeline_target": []
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "rule": true,
          "ecs_target": [],
          "sqs_target": [],
          "http_target": [],
          "batch_target": [],
          "retry_policy": [],
          "appsync_target": [],
          "kinesis_target": [],
          "redshift_target": [],
          "input_transformer": [],
          "dead_letter_config": [],
          "run_command_targets": [],
          "sagemaker_pipeline_target": []
        },
        "after_sensitive": {
          "ecs_target": [],
          "sqs_target": [],
          "http_target": [],
          "batch_target": [],
          "retry_policy": [],
          "appsync_target": [],
          "kinesis_target": [],
          "redshift_target": [],
          "input_transformer": [],
          "dead_letter_config": [],
          "run_command_targets": [],
          "sagemaker_pipeline_target": []
        },
        "before_sensitive": false
      },
      "address": "module.karpenter.aws_cloudwatch_event_target.this[\"health_event\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.karpenter"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_cloudwatch_event_target",
      "index": "instance_rebalance",
      "change": {
        "after": {
          "input": null,
          "role_arn": null,
          "target_id": "KarpenterInterruptionQueueTarget",
          "ecs_target": [],
          "input_path": null,
          "sqs_target": [],
          "http_target": [],
          "batch_target": [],
          "retry_policy": [],
          "force_destroy": false,
          "appsync_target": [],
          "event_bus_name": "default",
          "kinesis_target": [],
          "redshift_target": [],
          "input_transformer": [],
          "dead_letter_config": [],
          "run_command_targets": [],
          "sagemaker_pipeline_target": []
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "rule": true,
          "ecs_target": [],
          "sqs_target": [],
          "http_target": [],
          "batch_target": [],
          "retry_policy": [],
          "appsync_target": [],
          "kinesis_target": [],
          "redshift_target": [],
          "input_transformer": [],
          "dead_letter_config": [],
          "run_command_targets": [],
          "sagemaker_pipeline_target": []
        },
        "after_sensitive": {
          "ecs_target": [],
          "sqs_target": [],
          "http_target": [],
          "batch_target": [],
          "retry_policy": [],
          "appsync_target": [],
          "kinesis_target": [],
          "redshift_target": [],
          "input_transformer": [],
          "dead_letter_config": [],
          "run_command_targets": [],
          "sagemaker_pipeline_target": []
        },
        "before_sensitive": false
      },
      "address": "module.karpenter.aws_cloudwatch_event_target.this[\"instance_rebalance\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.karpenter"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_cloudwatch_event_target",
      "index": "instance_state_change",
      "change": {
        "after": {
          "input": null,
          "role_arn": null,
          "target_id": "KarpenterInterruptionQueueTarget",
          "ecs_target": [],
          "input_path": null,
          "sqs_target": [],
          "http_target": [],
          "batch_target": [],
          "retry_policy": [],
          "force_destroy": false,
          "appsync_target": [],
          "event_bus_name": "default",
          "kinesis_target": [],
          "redshift_target": [],
          "input_transformer": [],
          "dead_letter_config": [],
          "run_command_targets": [],
          "sagemaker_pipeline_target": []
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "rule": true,
          "ecs_target": [],
          "sqs_target": [],
          "http_target": [],
          "batch_target": [],
          "retry_policy": [],
          "appsync_target": [],
          "kinesis_target": [],
          "redshift_target": [],
          "input_transformer": [],
          "dead_letter_config": [],
          "run_command_targets": [],
          "sagemaker_pipeline_target": []
        },
        "after_sensitive": {
          "ecs_target": [],
          "sqs_target": [],
          "http_target": [],
          "batch_target": [],
          "retry_policy": [],
          "appsync_target": [],
          "kinesis_target": [],
          "redshift_target": [],
          "input_transformer": [],
          "dead_letter_config": [],
          "run_command_targets": [],
          "sagemaker_pipeline_target": []
        },
        "before_sensitive": false
      },
      "address": "module.karpenter.aws_cloudwatch_event_target.this[\"instance_state_change\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.karpenter"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_cloudwatch_event_target",
      "index": "spot_interrupt",
      "change": {
        "after": {
          "input": null,
          "role_arn": null,
          "target_id": "KarpenterInterruptionQueueTarget",
          "ecs_target": [],
          "input_path": null,
          "sqs_target": [],
          "http_target": [],
          "batch_target": [],
          "retry_policy": [],
          "force_destroy": false,
          "appsync_target": [],
          "event_bus_name": "default",
          "kinesis_target": [],
          "redshift_target": [],
          "input_transformer": [],
          "dead_letter_config": [],
          "run_command_targets": [],
          "sagemaker_pipeline_target": []
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "rule": true,
          "ecs_target": [],
          "sqs_target": [],
          "http_target": [],
          "batch_target": [],
          "retry_policy": [],
          "appsync_target": [],
          "kinesis_target": [],
          "redshift_target": [],
          "input_transformer": [],
          "dead_letter_config": [],
          "run_command_targets": [],
          "sagemaker_pipeline_target": []
        },
        "after_sensitive": {
          "ecs_target": [],
          "sqs_target": [],
          "http_target": [],
          "batch_target": [],
          "retry_policy": [],
          "appsync_target": [],
          "kinesis_target": [],
          "redshift_target": [],
          "input_transformer": [],
          "dead_letter_config": [],
          "run_command_targets": [],
          "sagemaker_pipeline_target": []
        },
        "before_sensitive": false
      },
      "address": "module.karpenter.aws_cloudwatch_event_target.this[\"spot_interrupt\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.karpenter"
    },
    {
      "mode": "managed",
      "name": "controller",
      "type": "aws_iam_policy",
      "index": 0,
      "change": {
        "after": {
          "path": "/",
          "tags": null,
          "tags_all": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "description": "Karpenter controller IAM policy",
          "name_prefix": "KarpenterController-"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "name": true,
          "policy": true,
          "tags_all": {},
          "policy_id": true,
          "attachment_count": true
        },
        "after_sensitive": {
          "tags_all": {}
        },
        "before_sensitive": false
      },
      "address": "module.karpenter.aws_iam_policy.controller[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.karpenter"
    },
    {
      "mode": "managed",
      "name": "controller",
      "type": "aws_iam_role",
      "index": 0,
      "change": {
        "after": {
          "path": "/",
          "tags": {
            "karpenter": "true",
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "tags_all": {
            "karpenter": "true",
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "description": "Karpenter controller IAM role",
          "name_prefix": "KarpenterController-",
          "max_session_duration": 3600,
          "permissions_boundary": null,
          "force_detach_policies": true
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "name": true,
          "tags": {},
          "tags_all": {},
          "unique_id": true,
          "create_date": true,
          "inline_policy": true,
          "assume_role_policy": true,
          "managed_policy_arns": true
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {},
          "inline_policy": [],
          "managed_policy_arns": []
        },
        "before_sensitive": false
      },
      "address": "module.karpenter.aws_iam_role.controller[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.karpenter"
    },
    {
      "mode": "managed",
      "name": "controller",
      "type": "aws_iam_role_policy_attachment",
      "index": 0,
      "change": {
        "after": {},
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "role": true,
          "policy_arn": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.karpenter.aws_iam_role_policy_attachment.controller[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.karpenter"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_sqs_queue",
      "index": 0,
      "change": {
        "after": {
          "name": "karpenter-inlr2e5a7mf3x9mbkh98p6bhek",
          "tags": null,
          "tags_all": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "timeouts": null,
          "fifo_queue": false,
          "delay_seconds": 0,
          "max_message_size": 262144,
          "kms_master_key_id": null,
          "sqs_managed_sse_enabled": true,
          "message_retention_seconds": 300,
          "receive_wait_time_seconds": 0,
          "visibility_timeout_seconds": 30,
          "content_based_deduplication": false,
          "kms_data_key_reuse_period_seconds": 0
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "url": true,
          "policy": true,
          "tags_all": {},
          "name_prefix": true,
          "redrive_policy": true,
          "deduplication_scope": true,
          "redrive_allow_policy": true,
          "fifo_throughput_limit": true
        },
        "after_sensitive": {
          "tags_all": {}
        },
        "before_sensitive": false
      },
      "address": "module.karpenter.aws_sqs_queue.this[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.karpenter"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_sqs_queue_policy",
      "index": 0,
      "change": {
        "after": {},
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "policy": true,
          "queue_url": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.karpenter.aws_sqs_queue_policy.this[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.karpenter"
    },
    {
      "mode": "managed",
      "name": "caa",
      "type": "aws_route53_record",
      "change": {
        "after": {
          "ttl": 300,
          "name": "nuon-dev-main-us-west-2.nuon.run",
          "type": "CAA",
          "alias": [],
          "records": [
            "0 issue \"amazon.com\"",
            "0 issue \"amazonaws.com\"",
            "0 issue \"amazontrust.com\"",
            "0 issue \"letsencrypt.org\""
          ],
          "timeouts": null,
          "set_identifier": null,
          "health_check_id": null,
          "cidr_routing_policy": [],
          "latency_routing_policy": [],
          "failover_routing_policy": [],
          "weighted_routing_policy": [],
          "geolocation_routing_policy": [],
          "geoproximity_routing_policy": [],
          "multivalue_answer_routing_policy": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "fqdn": true,
          "alias": [],
          "records": [
            false,
            false,
            false,
            false
          ],
          "zone_id": true,
          "allow_overwrite": true,
          "cidr_routing_policy": [],
          "latency_routing_policy": [],
          "failover_routing_policy": [],
          "weighted_routing_policy": [],
          "geolocation_routing_policy": [],
          "geoproximity_routing_policy": []
        },
        "after_sensitive": {
          "alias": [],
          "records": [
            false,
            false,
            false,
            false
          ],
          "cidr_routing_policy": [],
          "latency_routing_policy": [],
          "failover_routing_policy": [],
          "weighted_routing_policy": [],
          "geolocation_routing_policy": [],
          "geoproximity_routing_policy": []
        },
        "before_sensitive": false
      },
      "address": "module.nuon_dns[0].aws_route53_record.caa",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.nuon_dns[0]"
    },
    {
      "mode": "managed",
      "name": "internal",
      "type": "aws_route53_zone",
      "change": {
        "after": {
          "vpc": [
            {
              "vpc_id": "vpc-0a878a1b9409f2d67"
            }
          ],
          "name": "internal.nuon-dev-main-us-west-2.nuon.run",
          "tags": null,
          "comment": "Managed by Terraform",
          "tags_all": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "timeouts": null,
          "force_destroy": true,
          "delegation_set_id": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "vpc": [
            {
              "vpc_region": true
            }
          ],
          "zone_id": true,
          "tags_all": {},
          "name_servers": true,
          "primary_name_server": true
        },
        "after_sensitive": {
          "vpc": [
            {}
          ],
          "tags_all": {},
          "name_servers": []
        },
        "before_sensitive": false
      },
      "address": "module.nuon_dns[0].aws_route53_zone.internal",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.nuon_dns[0]"
    },
    {
      "mode": "managed",
      "name": "public",
      "type": "aws_route53_zone",
      "change": {
        "after": {
          "vpc": [],
          "name": "nuon-dev-main-us-west-2.nuon.run",
          "tags": null,
          "comment": "Managed by Terraform",
          "tags_all": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "timeouts": null,
          "force_destroy": true,
          "delegation_set_id": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "vpc": [],
          "zone_id": true,
          "tags_all": {},
          "name_servers": true,
          "primary_name_server": true
        },
        "after_sensitive": {
          "vpc": [],
          "tags_all": {},
          "name_servers": []
        },
        "before_sensitive": false
      },
      "address": "module.nuon_dns[0].aws_route53_zone.public",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.nuon_dns[0]"
    },
    {
      "mode": "managed",
      "name": "alb_ingress_controller",
      "type": "helm_release",
      "change": {
        "after": {
          "set": [
            {
              "name": "clusterName",
              "type": "",
              "value": "n-inlr2e5a7mf3x9mbkh98p6bhek"
            },
            {
              "name": "defaultTags.created_by",
              "type": "",
              "value": "alb-ingress-controller"
            },
            {
              "name": "defaultTags.install\\.nuon\\.co\\/id",
              "type": "",
              "value": "inlr2e5a7mf3x9mbkh98p6bhek"
            },
            {
              "name": "defaultTags.nuon_install_id",
              "type": "",
              "value": "inlr2e5a7mf3x9mbkh98p6bhek"
            },
            {
              "name": "enableCertManager",
              "type": "",
              "value": "apply"
            },
            {
              "name": "rbac.create",
              "type": "",
              "value": "true"
            },
            {
              "name": "serviceAccount.annotations.eks\\.amazonaws\\.com/role-arn",
              "type": ""
            },
            {
              "name": "serviceAccount.create",
              "type": "",
              "value": "true"
            },
            {
              "name": "serviceAccount.name",
              "type": "",
              "value": "alb-ingress-controller"
            }
          ],
          "lint": false,
          "name": "alb-ingress-controller",
          "wait": true,
          "chart": "aws-load-balancer-controller",
          "devel": null,
          "atomic": false,
          "status": "deployed",
          "values": [
            "\"tolerations\":\n- \"effect\": \"NoSchedule\"\n  \"key\": \"CriticalAddonsOnly\"\n  \"value\": \"true\"\n- \"effect\": \"NoSchedule\"\n  \"key\": \"karpenter.sh/controller\"\n  \"value\": \"true\"\n"
          ],
          "verify": false,
          "keyring": null,
          "replace": false,
          "timeout": 300,
          "version": "1.12.0",
          "set_list": [],
          "namespace": "alb-ingress-controller",
          "skip_crds": false,
          "postrender": [],
          "repository": "https://aws.github.io/eks-charts",
          "description": null,
          "max_history": 0,
          "force_update": false,
          "reset_values": false,
          "reuse_values": false,
          "recreate_pods": false,
          "set_sensitive": [],
          "wait_for_jobs": false,
          "cleanup_on_fail": false,
          "upgrade_install": null,
          "create_namespace": true,
          "disable_webhooks": false,
          "pass_credentials": false,
          "dependency_update": false,
          "disable_crd_hooks": false,
          "repository_ca_file": null,
          "repository_key_file": null,
          "repository_password": null,
          "repository_username": null,
          "repository_cert_file": null,
          "render_subchart_notes": true,
          "disable_openapi_validation": false
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "set": [
            {},
            {},
            {},
            {},
            {},
            {},
            {
              "value": true
            },
            {},
            {}
          ],
          "values": [
            false
          ],
          "manifest": true,
          "metadata": true,
          "set_list": [],
          "postrender": [],
          "set_sensitive": []
        },
        "after_sensitive": {
          "set": [
            {},
            {},
            {},
            {},
            {},
            {},
            {},
            {},
            {}
          ],
          "values": [
            false
          ],
          "metadata": [],
          "set_list": [],
          "postrender": [],
          "set_sensitive": [],
          "repository_password": true
        },
        "before_sensitive": false
      },
      "address": "module.nuon_dns[0].helm_release.alb_ingress_controller",
      "provider_name": "registry.terraform.io/hashicorp/helm",
      "module_address": "module.nuon_dns[0]"
    },
    {
      "mode": "managed",
      "name": "cert_manager",
      "type": "helm_release",
      "change": {
        "after": {
          "set": [
            {
              "name": "installCRDs",
              "type": "",
              "value": "true"
            },
            {
              "name": "securityContext.fsGroup",
              "type": "",
              "value": "1001"
            },
            {
              "name": "serviceAccount.annotations.eks\\.amazonaws\\.com/role-arn",
              "type": ""
            }
          ],
          "lint": false,
          "name": "cert-manager",
          "wait": true,
          "chart": "cert-manager",
          "devel": null,
          "atomic": false,
          "status": "deployed",
          "values": [
            "\"cainjector\":\n  \"tolerations\":\n  - \"effect\": \"NoSchedule\"\n    \"key\": \"CriticalAddonsOnly\"\n    \"value\": \"true\"\n  - \"effect\": \"NoSchedule\"\n    \"key\": \"karpenter.sh/controller\"\n    \"value\": \"true\"\n\"startupapicheck\":\n  \"tolerations\":\n  - \"effect\": \"NoSchedule\"\n    \"key\": \"CriticalAddonsOnly\"\n    \"value\": \"true\"\n  - \"effect\": \"NoSchedule\"\n    \"key\": \"karpenter.sh/controller\"\n    \"value\": \"true\"\n\"tolerations\":\n- \"effect\": \"NoSchedule\"\n  \"key\": \"CriticalAddonsOnly\"\n  \"value\": \"true\"\n- \"effect\": \"NoSchedule\"\n  \"key\": \"karpenter.sh/controller\"\n  \"value\": \"true\"\n\"webhook\":\n  \"tolerations\":\n  - \"effect\": \"NoSchedule\"\n    \"key\": \"CriticalAddonsOnly\"\n    \"value\": \"true\"\n  - \"effect\": \"NoSchedule\"\n    \"key\": \"karpenter.sh/controller\"\n    \"value\": \"true\"\n"
          ],
          "verify": false,
          "keyring": null,
          "replace": false,
          "timeout": 300,
          "version": "v1.11.0",
          "set_list": [],
          "namespace": "cert-manager",
          "skip_crds": false,
          "postrender": [],
          "repository": "https://charts.jetstack.io",
          "description": null,
          "max_history": 0,
          "force_update": false,
          "reset_values": false,
          "reuse_values": false,
          "recreate_pods": false,
          "set_sensitive": [],
          "wait_for_jobs": false,
          "cleanup_on_fail": false,
          "upgrade_install": null,
          "create_namespace": true,
          "disable_webhooks": false,
          "pass_credentials": false,
          "dependency_update": false,
          "disable_crd_hooks": false,
          "repository_ca_file": null,
          "repository_key_file": null,
          "repository_password": null,
          "repository_username": null,
          "repository_cert_file": null,
          "render_subchart_notes": true,
          "disable_openapi_validation": false
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "set": [
            {},
            {},
            {
              "value": true
            }
          ],
          "values": [
            false
          ],
          "manifest": true,
          "metadata": true,
          "set_list": [],
          "postrender": [],
          "set_sensitive": []
        },
        "after_sensitive": {
          "set": [
            {},
            {},
            {}
          ],
          "values": [
            false
          ],
          "metadata": [],
          "set_list": [],
          "postrender": [],
          "set_sensitive": [],
          "repository_password": true
        },
        "before_sensitive": false
      },
      "address": "module.nuon_dns[0].helm_release.cert_manager",
      "provider_name": "registry.terraform.io/hashicorp/helm",
      "module_address": "module.nuon_dns[0]"
    },
    {
      "mode": "managed",
      "name": "external_dns",
      "type": "helm_release",
      "change": {
        "after": {
          "set": [
            {
              "name": "domain_filters[0]",
              "type": "",
              "value": "internal.nuon-dev-main-us-west-2.nuon.run"
            },
            {
              "name": "domain_filters[1]",
              "type": "",
              "value": "nuon-dev-main-us-west-2.nuon.run"
            },
            {
              "name": "extraArgs[0]",
              "type": "",
              "value": "--publish-internal-services"
            },
            {
              "name": "extraArgs[1]",
              "type": ""
            },
            {
              "name": "extraArgs[2]",
              "type": ""
            },
            {
              "name": "serviceAccount.annotations.eks\\.amazonaws\\.com/role-arn",
              "type": ""
            },
            {
              "name": "txt_owner_id",
              "type": "",
              "value": "inlr2e5a7mf3x9mbkh98p6bhek"
            }
          ],
          "lint": false,
          "name": "external-dns",
          "wait": true,
          "chart": "external-dns",
          "devel": null,
          "atomic": false,
          "status": "deployed",
          "values": [
            "---\ninterval: 15m\ntriggerLoopOnEvent: true\npolicy: sync\nregistry: txt\nprovider: aws\ntolerations:\n- effect: NoSchedule\n  key: CriticalAddonsOnly\n  value: \"true\"\n- effect: NoSchedule\n  key: karpenter.sh/controller\n  value: \"true\"\n"
          ],
          "verify": false,
          "keyring": null,
          "replace": false,
          "timeout": 300,
          "version": "1.12.0",
          "set_list": [],
          "namespace": "external-dns",
          "skip_crds": false,
          "postrender": [],
          "repository": "https://kubernetes-sigs.github.io/external-dns/",
          "description": null,
          "max_history": 0,
          "force_update": false,
          "reset_values": false,
          "reuse_values": false,
          "recreate_pods": false,
          "set_sensitive": [],
          "wait_for_jobs": false,
          "cleanup_on_fail": false,
          "upgrade_install": null,
          "create_namespace": true,
          "disable_webhooks": false,
          "pass_credentials": false,
          "dependency_update": false,
          "disable_crd_hooks": false,
          "repository_ca_file": null,
          "repository_key_file": null,
          "repository_password": null,
          "repository_username": null,
          "repository_cert_file": null,
          "render_subchart_notes": true,
          "disable_openapi_validation": false
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "set": [
            {},
            {},
            {},
            {
              "value": true
            },
            {
              "value": true
            },
            {
              "value": true
            },
            {}
          ],
          "values": [
            false
          ],
          "manifest": true,
          "metadata": true,
          "set_list": [],
          "postrender": [],
          "set_sensitive": []
        },
        "after_sensitive": {
          "set": [
            {},
            {},
            {},
            {},
            {},
            {},
            {}
          ],
          "values": [
            false
          ],
          "metadata": [],
          "set_list": [],
          "postrender": [],
          "set_sensitive": [],
          "repository_password": true
        },
        "before_sensitive": false
      },
      "address": "module.nuon_dns[0].helm_release.external_dns",
      "provider_name": "registry.terraform.io/hashicorp/helm",
      "module_address": "module.nuon_dns[0]"
    },
    {
      "mode": "managed",
      "name": "ingress_nginx",
      "type": "helm_release",
      "change": {
        "after": {
          "set": [
            {
              "name": "rbac.create",
              "type": "",
              "value": "true"
            }
          ],
          "lint": false,
          "name": "ingress-nginx",
          "wait": true,
          "chart": "ingress-nginx",
          "devel": null,
          "atomic": false,
          "status": "deployed",
          "values": [
            "\"controller\":\n  \"admissionWebhooks\":\n    \"patch\":\n      \"tolerations\":\n      - \"effect\": \"NoSchedule\"\n        \"key\": \"karpenter.sh/controller\"\n        \"value\": \"true\"\n      - \"effect\": \"NoSchedule\"\n        \"key\": \"CriticalAddonsOnly\"\n        \"value\": \"true\"\n  \"tolerations\":\n  - \"effect\": \"NoSchedule\"\n    \"key\": \"karpenter.sh/controller\"\n    \"value\": \"true\"\n  - \"effect\": \"NoSchedule\"\n    \"key\": \"CriticalAddonsOnly\"\n    \"value\": \"true\"\n\"tolerations\":\n- \"effect\": \"NoSchedule\"\n  \"key\": \"karpenter.sh/controller\"\n  \"value\": \"true\"\n- \"effect\": \"NoSchedule\"\n  \"key\": \"CriticalAddonsOnly\"\n  \"value\": \"true\"\n"
          ],
          "verify": false,
          "keyring": null,
          "replace": false,
          "timeout": 600,
          "version": "4.12.1",
          "set_list": [],
          "namespace": "ingress-nginx",
          "skip_crds": false,
          "postrender": [],
          "repository": "https://kubernetes.github.io/ingress-nginx",
          "description": null,
          "max_history": 0,
          "force_update": false,
          "reset_values": false,
          "reuse_values": false,
          "recreate_pods": false,
          "set_sensitive": [],
          "wait_for_jobs": false,
          "cleanup_on_fail": false,
          "upgrade_install": null,
          "create_namespace": true,
          "disable_webhooks": false,
          "pass_credentials": false,
          "dependency_update": false,
          "disable_crd_hooks": false,
          "repository_ca_file": null,
          "repository_key_file": null,
          "repository_password": null,
          "repository_username": null,
          "repository_cert_file": null,
          "render_subchart_notes": true,
          "disable_openapi_validation": false
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "set": [
            {}
          ],
          "values": [
            false
          ],
          "manifest": true,
          "metadata": true,
          "set_list": [],
          "postrender": [],
          "set_sensitive": []
        },
        "after_sensitive": {
          "set": [
            {}
          ],
          "values": [
            false
          ],
          "metadata": [],
          "set_list": [],
          "postrender": [],
          "set_sensitive": [],
          "repository_password": true
        },
        "before_sensitive": false
      },
      "address": "module.nuon_dns[0].helm_release.ingress_nginx",
      "provider_name": "registry.terraform.io/hashicorp/helm",
      "module_address": "module.nuon_dns[0]"
    },
    {
      "mode": "managed",
      "name": "internal_cluster_issuer",
      "type": "kubectl_manifest",
      "change": {
        "after": {
          "wait": null,
          "timeouts": null,
          "force_new": false,
          "apply_only": false,
          "ignore_fields": null,
          "force_conflicts": false,
          "validate_schema": true,
          "sensitive_fields": null,
          "wait_for_rollout": true,
          "server_side_apply": false,
          "override_namespace": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "uid": true,
          "kind": true,
          "name": true,
          "live_uid": true,
          "namespace": true,
          "yaml_body": true,
          "api_version": true,
          "yaml_incluster": true,
          "yaml_body_parsed": true,
          "live_manifest_incluster": true
        },
        "after_sensitive": {
          "yaml_body": true,
          "yaml_incluster": true,
          "live_manifest_incluster": true
        },
        "before_sensitive": false
      },
      "address": "module.nuon_dns[0].kubectl_manifest.internal_cluster_issuer",
      "provider_name": "registry.terraform.io/gavinbunney/kubectl",
      "module_address": "module.nuon_dns[0]"
    },
    {
      "mode": "managed",
      "name": "public_cluster_issuer",
      "type": "kubectl_manifest",
      "change": {
        "after": {
          "wait": null,
          "timeouts": null,
          "force_new": false,
          "apply_only": false,
          "ignore_fields": null,
          "force_conflicts": false,
          "validate_schema": true,
          "sensitive_fields": null,
          "wait_for_rollout": true,
          "server_side_apply": false,
          "override_namespace": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "uid": true,
          "kind": true,
          "name": true,
          "live_uid": true,
          "namespace": true,
          "yaml_body": true,
          "api_version": true,
          "yaml_incluster": true,
          "yaml_body_parsed": true,
          "live_manifest_incluster": true
        },
        "after_sensitive": {
          "yaml_body": true,
          "yaml_incluster": true,
          "live_manifest_incluster": true
        },
        "before_sensitive": false
      },
      "address": "module.nuon_dns[0].kubectl_manifest.public_cluster_issuer",
      "provider_name": "registry.terraform.io/gavinbunney/kubectl",
      "module_address": "module.nuon_dns[0]"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_eks_node_group",
      "index": 0,
      "change": {
        "after": {
          "tags": {
            "Name": "karpenter",
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "taint": [
            {
              "key": "karpenter.sh/controller",
              "value": "true",
              "effect": "NO_SCHEDULE"
            }
          ],
          "labels": {
            "karpenter.sh/controller": "true"
          },
          "version": "1.33",
          "tags_all": {
            "Name": "karpenter",
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "timeouts": {
            "create": null,
            "delete": null,
            "update": null
          },
          "subnet_ids": [
            "subnet-00adff60c11824aed",
            "subnet-09c6a3a806aee2f8d",
            "subnet-0c81560eb05406dff"
          ],
          "remote_access": [],
          "update_config": [
            {
              "max_unavailable": null,
              "max_unavailable_percentage": 33
            }
          ],
          "instance_types": [
            "t3a.medium"
          ],
          "scaling_config": [
            {
              "max_size": 5,
              "min_size": 2,
              "desired_size": 3
            }
          ],
          "launch_template": [
            {}
          ],
          "force_update_version": null,
          "node_group_name_prefix": "karpenter-"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "tags": {},
          "taint": [
            {}
          ],
          "labels": {},
          "status": true,
          "ami_type": true,
          "tags_all": {},
          "timeouts": {},
          "disk_size": true,
          "resources": true,
          "subnet_ids": [
            false,
            false,
            false
          ],
          "cluster_name": true,
          "capacity_type": true,
          "node_role_arn": true,
          "remote_access": [],
          "update_config": [
            {}
          ],
          "instance_types": [
            false
          ],
          "scaling_config": [
            {}
          ],
          "launch_template": [
            {
              "id": true,
              "name": true,
              "version": true
            }
          ],
          "node_group_name": true,
          "release_version": true,
          "node_repair_config": true
        },
        "after_sensitive": {
          "tags": {},
          "taint": [
            {}
          ],
          "labels": {},
          "tags_all": {},
          "timeouts": {},
          "resources": [],
          "subnet_ids": [
            false,
            false,
            false
          ],
          "remote_access": [],
          "update_config": [
            {}
          ],
          "instance_types": [
            false
          ],
          "scaling_config": [
            {}
          ],
          "launch_template": [
            {}
          ],
          "node_repair_config": []
        },
        "before_sensitive": false
      },
      "address": "module.eks.module.eks_managed_node_group[\"karpenter\"].aws_eks_node_group.this[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks.module.eks_managed_node_group[\"karpenter\"]"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_iam_role",
      "index": 0,
      "change": {
        "after": {
          "path": "/",
          "tags": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "tags_all": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "description": "EKS managed node group IAM role",
          "name_prefix": "karpenter-eks-node-group-",
          "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"},\"Sid\":\"EKSNodeAssumeRole\"}],\"Version\":\"2012-10-17\"}",
          "max_session_duration": 3600,
          "permissions_boundary": null,
          "force_detach_policies": true
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "name": true,
          "tags": {},
          "tags_all": {},
          "unique_id": true,
          "create_date": true,
          "inline_policy": true,
          "managed_policy_arns": true
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {},
          "inline_policy": [],
          "managed_policy_arns": []
        },
        "before_sensitive": false
      },
      "address": "module.eks.module.eks_managed_node_group[\"karpenter\"].aws_iam_role.this[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks.module.eks_managed_node_group[\"karpenter\"]"
    },
    {
      "mode": "managed",
      "name": "additional",
      "type": "aws_iam_role_policy_attachment",
      "index": "additional",
      "change": {
        "after": {
          "policy_arn": "arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "role": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.eks.module.eks_managed_node_group[\"karpenter\"].aws_iam_role_policy_attachment.additional[\"additional\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks.module.eks_managed_node_group[\"karpenter\"]"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_iam_role_policy_attachment",
      "index": "AmazonEC2ContainerRegistryReadOnly",
      "change": {
        "after": {
          "policy_arn": "arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "role": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.eks.module.eks_managed_node_group[\"karpenter\"].aws_iam_role_policy_attachment.this[\"AmazonEC2ContainerRegistryReadOnly\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks.module.eks_managed_node_group[\"karpenter\"]"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_iam_role_policy_attachment",
      "index": "AmazonEKSWorkerNodePolicy",
      "change": {
        "after": {
          "policy_arn": "arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "role": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.eks.module.eks_managed_node_group[\"karpenter\"].aws_iam_role_policy_attachment.this[\"AmazonEKSWorkerNodePolicy\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks.module.eks_managed_node_group[\"karpenter\"]"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_iam_role_policy_attachment",
      "index": "AmazonEKS_CNI_Policy",
      "change": {
        "after": {
          "policy_arn": "arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "role": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.eks.module.eks_managed_node_group[\"karpenter\"].aws_iam_role_policy_attachment.this[\"AmazonEKS_CNI_Policy\"]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks.module.eks_managed_node_group[\"karpenter\"]"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_launch_template",
      "index": 0,
      "change": {
        "after": {
          "tags": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "image_id": "",
          "key_name": null,
          "tags_all": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "kernel_id": null,
          "placement": [],
          "user_data": "",
          "monitoring": [
            {
              "enabled": true
            }
          ],
          "cpu_options": [],
          "description": "Custom launch template for karpenter EKS managed node group",
          "name_prefix": "karpenter-",
          "ram_disk_id": null,
          "ebs_optimized": null,
          "instance_type": null,
          "enclave_options": [],
          "disable_api_stop": null,
          "metadata_options": [
            {
              "http_tokens": "required",
              "http_endpoint": "enabled",
              "http_put_response_hop_limit": 2
            }
          ],
          "network_interfaces": [],
          "tag_specifications": [
            {
              "tags": {
                "Name": "karpenter",
                "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                "sandbox.nuon.co/name": "aws-eks",
                "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                "sandbox.nuon.co/variant": "karpenter"
              },
              "resource_type": "instance"
            },
            {
              "tags": {
                "Name": "karpenter",
                "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                "sandbox.nuon.co/name": "aws-eks",
                "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                "sandbox.nuon.co/variant": "karpenter"
              },
              "resource_type": "network-interface"
            },
            {
              "tags": {
                "Name": "karpenter",
                "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
                "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
                "sandbox.nuon.co/name": "aws-eks",
                "karpenter.sh/discovery": "n-inlr2e5a7mf3x9mbkh98p6bhek",
                "sandbox.nuon.co/variant": "karpenter"
              },
              "resource_type": "volume"
            }
          ],
          "hibernation_options": [],
          "maintenance_options": [],
          "credit_specification": [],
          "iam_instance_profile": [],
          "security_group_names": null,
          "block_device_mappings": [],
          "instance_requirements": [],
          "license_specification": [],
          "update_default_version": true,
          "disable_api_termination": null,
          "instance_market_options": [],
          "private_dns_name_options": [],
          "elastic_gpu_specifications": [],
          "elastic_inference_accelerator": [],
          "capacity_reservation_specification": [],
          "instance_initiated_shutdown_behavior": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "name": true,
          "tags": {},
          "tags_all": {},
          "placement": [],
          "monitoring": [
            {}
          ],
          "cpu_options": [],
          "latest_version": true,
          "default_version": true,
          "enclave_options": [],
          "metadata_options": [
            {
              "http_protocol_ipv6": true,
              "instance_metadata_tags": true
            }
          ],
          "network_interfaces": [],
          "tag_specifications": [
            {
              "tags": {}
            },
            {
              "tags": {}
            },
            {
              "tags": {}
            }
          ],
          "hibernation_options": [],
          "maintenance_options": [],
          "credit_specification": [],
          "iam_instance_profile": [],
          "block_device_mappings": [],
          "instance_requirements": [],
          "license_specification": [],
          "vpc_security_group_ids": true,
          "instance_market_options": [],
          "private_dns_name_options": [],
          "elastic_gpu_specifications": [],
          "elastic_inference_accelerator": [],
          "capacity_reservation_specification": []
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {},
          "placement": [],
          "monitoring": [
            {}
          ],
          "cpu_options": [],
          "enclave_options": [],
          "metadata_options": [
            {}
          ],
          "network_interfaces": [],
          "tag_specifications": [
            {
              "tags": {}
            },
            {
              "tags": {}
            },
            {
              "tags": {}
            }
          ],
          "hibernation_options": [],
          "maintenance_options": [],
          "credit_specification": [],
          "iam_instance_profile": [],
          "block_device_mappings": [],
          "instance_requirements": [],
          "license_specification": [],
          "vpc_security_group_ids": [],
          "instance_market_options": [],
          "private_dns_name_options": [],
          "elastic_gpu_specifications": [],
          "elastic_inference_accelerator": [],
          "capacity_reservation_specification": []
        },
        "before_sensitive": false
      },
      "address": "module.eks.module.eks_managed_node_group[\"karpenter\"].aws_launch_template.this[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.eks.module.eks_managed_node_group[\"karpenter\"]"
    },
    {
      "mode": "data",
      "name": "current",
      "type": "aws_caller_identity",
      "change": {
        "after": {},
        "before": null,
        "actions": [
          "read"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "user_id": true,
          "account_id": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.nuon_dns[0].module.alb_controller_irsa.data.aws_caller_identity.current",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.nuon_dns[0].module.alb_controller_irsa"
    },
    {
      "mode": "data",
      "name": "load_balancer_controller",
      "type": "aws_iam_policy_document",
      "index": 0,
      "change": {
        "after": {
          "version": null,
          "policy_id": null,
          "statement": [
            {
              "sid": null,
              "effect": null,
              "actions": [
                "iam:CreateServiceLinkedRole"
              ],
              "condition": [
                {
                  "test": "StringEquals",
                  "values": [
                    null
                  ],
                  "variable": "iam:AWSServiceName"
                }
              ],
              "resources": [
                "*"
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": null,
              "effect": null,
              "actions": [
                "ec2:DescribeAccountAttributes",
                "ec2:DescribeAddresses",
                "ec2:DescribeAvailabilityZones",
                "ec2:DescribeCoipPools",
                "ec2:DescribeInstances",
                "ec2:DescribeInternetGateways",
                "ec2:DescribeIpamPools",
                "ec2:DescribeNetworkInterfaces",
                "ec2:DescribeRouteTables",
                "ec2:DescribeSecurityGroups",
                "ec2:DescribeSubnets",
                "ec2:DescribeTags",
                "ec2:DescribeVpcPeeringConnections",
                "ec2:DescribeVpcs",
                "ec2:GetCoipPoolUsage",
                "ec2:GetSecurityGroupsForVpc",
                "elasticloadbalancing:DescribeCapacityReservation",
                "elasticloadbalancing:DescribeListenerAttributes",
                "elasticloadbalancing:DescribeListenerCertificates",
                "elasticloadbalancing:DescribeListeners",
                "elasticloadbalancing:DescribeLoadBalancerAttributes",
                "elasticloadbalancing:DescribeLoadBalancers",
                "elasticloadbalancing:DescribeRules",
                "elasticloadbalancing:DescribeSSLPolicies",
                "elasticloadbalancing:DescribeTags",
                "elasticloadbalancing:DescribeTargetGroupAttributes",
                "elasticloadbalancing:DescribeTargetGroups",
                "elasticloadbalancing:DescribeTargetHealth",
                "elasticloadbalancing:DescribeTrustStores"
              ],
              "condition": [],
              "resources": [
                "*"
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": null,
              "effect": null,
              "actions": [
                "acm:DescribeCertificate",
                "acm:ListCertificates",
                "cognito-idp:DescribeUserPoolClient",
                "iam:GetServerCertificate",
                "iam:ListServerCertificates",
                "shield:CreateProtection",
                "shield:DeleteProtection",
                "shield:DescribeProtection",
                "shield:GetSubscriptionState",
                "waf-regional:AssociateWebACL",
                "waf-regional:DisassociateWebACL",
                "waf-regional:GetWebACL",
                "waf-regional:GetWebACLForResource",
                "wafv2:AssociateWebACL",
                "wafv2:DisassociateWebACL",
                "wafv2:GetWebACL",
                "wafv2:GetWebACLForResource"
              ],
              "condition": [],
              "resources": [
                "*"
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": null,
              "effect": null,
              "actions": [
                "ec2:AuthorizeSecurityGroupIngress",
                "ec2:RevokeSecurityGroupIngress"
              ],
              "condition": [],
              "resources": [
                "*"
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": null,
              "effect": null,
              "actions": [
                "ec2:CreateSecurityGroup"
              ],
              "condition": [],
              "resources": [
                "*"
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": null,
              "effect": null,
              "actions": [
                "ec2:CreateTags"
              ],
              "condition": [
                {
                  "test": "Null",
                  "values": [
                    "false"
                  ],
                  "variable": "aws:RequestTag/elbv2.k8s.aws/cluster"
                },
                {
                  "test": "StringEquals",
                  "values": [
                    "CreateSecurityGroup"
                  ],
                  "variable": "ec2:CreateAction"
                }
              ],
              "resources": [
                null
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": null,
              "effect": null,
              "actions": [
                "ec2:CreateTags",
                "ec2:DeleteTags"
              ],
              "condition": [
                {
                  "test": "Null",
                  "values": [
                    "false"
                  ],
                  "variable": "aws:ResourceTag/elbv2.k8s.aws/cluster"
                },
                {
                  "test": "Null",
                  "values": [
                    "true"
                  ],
                  "variable": "aws:RequestTag/elbv2.k8s.aws/cluster"
                }
              ],
              "resources": [
                null
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": null,
              "effect": null,
              "actions": [
                "ec2:AuthorizeSecurityGroupIngress",
                "ec2:DeleteSecurityGroup",
                "ec2:RevokeSecurityGroupIngress"
              ],
              "condition": [
                {
                  "test": "Null",
                  "values": [
                    "false"
                  ],
                  "variable": "aws:ResourceTag/elbv2.k8s.aws/cluster"
                }
              ],
              "resources": [
                "*"
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": null,
              "effect": null,
              "actions": [
                "elasticloadbalancing:CreateLoadBalancer",
                "elasticloadbalancing:CreateTargetGroup"
              ],
              "condition": [
                {
                  "test": "Null",
                  "values": [
                    "false"
                  ],
                  "variable": "aws:RequestTag/elbv2.k8s.aws/cluster"
                }
              ],
              "resources": [
                "*"
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": null,
              "effect": null,
              "actions": [
                "elasticloadbalancing:CreateListener",
                "elasticloadbalancing:CreateRule",
                "elasticloadbalancing:DeleteListener",
                "elasticloadbalancing:DeleteRule"
              ],
              "condition": [],
              "resources": [
                "*"
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": null,
              "effect": null,
              "actions": [
                "elasticloadbalancing:AddTags",
                "elasticloadbalancing:RemoveTags"
              ],
              "condition": [
                {
                  "test": "Null",
                  "values": [
                    "false"
                  ],
                  "variable": "aws:ResourceTag/elbv2.k8s.aws/cluster"
                },
                {
                  "test": "Null",
                  "values": [
                    "true"
                  ],
                  "variable": "aws:RequestTag/elbv2.k8s.aws/cluster"
                }
              ],
              "resources": [
                null,
                null,
                null
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": null,
              "effect": null,
              "actions": [
                "elasticloadbalancing:AddTags",
                "elasticloadbalancing:RemoveTags"
              ],
              "condition": [],
              "resources": [
                null,
                null,
                null,
                null
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": null,
              "effect": null,
              "actions": [
                "elasticloadbalancing:DeleteLoadBalancer",
                "elasticloadbalancing:DeleteTargetGroup",
                "elasticloadbalancing:ModifyCapacityReservation",
                "elasticloadbalancing:ModifyIpPools",
                "elasticloadbalancing:ModifyListenerAttributes",
                "elasticloadbalancing:ModifyLoadBalancerAttributes",
                "elasticloadbalancing:ModifyTargetGroup",
                "elasticloadbalancing:ModifyTargetGroupAttributes",
                "elasticloadbalancing:SetIpAddressType",
                "elasticloadbalancing:SetSecurityGroups",
                "elasticloadbalancing:SetSubnets"
              ],
              "condition": [
                {
                  "test": "Null",
                  "values": [
                    "false"
                  ],
                  "variable": "aws:ResourceTag/elbv2.k8s.aws/cluster"
                }
              ],
              "resources": [
                "*"
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": null,
              "effect": null,
              "actions": [
                "elasticloadbalancing:AddTags"
              ],
              "condition": [
                {
                  "test": "Null",
                  "values": [
                    "false"
                  ],
                  "variable": "aws:RequestTag/elbv2.k8s.aws/cluster"
                },
                {
                  "test": "StringEquals",
                  "values": [
                    "CreateTargetGroup",
                    "CreateLoadBalancer"
                  ],
                  "variable": "elasticloadbalancing:CreateAction"
                }
              ],
              "resources": [
                null,
                null,
                null
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": null,
              "effect": null,
              "actions": [
                "elasticloadbalancing:DeregisterTargets",
                "elasticloadbalancing:RegisterTargets"
              ],
              "condition": [],
              "resources": [
                null
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": null,
              "effect": null,
              "actions": [
                "elasticloadbalancing:AddListenerCertificates",
                "elasticloadbalancing:ModifyListener",
                "elasticloadbalancing:ModifyRule",
                "elasticloadbalancing:RemoveListenerCertificates",
                "elasticloadbalancing:SetRulePriorities",
                "elasticloadbalancing:SetWebAcl"
              ],
              "condition": [],
              "resources": [
                "*"
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            }
          ],
          "source_json": null,
          "override_json": null,
          "source_policy_documents": null,
          "override_policy_documents": null
        },
        "before": null,
        "actions": [
          "read"
        ],
        "after_unknown": {
          "id": true,
          "json": true,
          "statement": [
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    true
                  ]
                }
              ],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false
              ],
              "condition": [],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false
              ],
              "condition": [],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false
              ],
              "condition": [],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                true
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                true
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false,
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false,
                false,
                false
              ],
              "condition": [],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                true,
                true,
                true
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false
              ],
              "condition": [],
              "resources": [
                true,
                true,
                true,
                true
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false,
                    false
                  ]
                }
              ],
              "resources": [
                true,
                true,
                true
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false
              ],
              "condition": [],
              "resources": [
                true
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false,
                false,
                false,
                false,
                false
              ],
              "condition": [],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            }
          ],
          "minified_json": true
        },
        "after_sensitive": {
          "statement": [
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false
              ],
              "condition": [],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false
              ],
              "condition": [],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false
              ],
              "condition": [],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false,
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false,
                false,
                false
              ],
              "condition": [],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                false,
                false,
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false
              ],
              "condition": [],
              "resources": [
                false,
                false,
                false,
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false,
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                }
              ],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false,
                    false
                  ]
                }
              ],
              "resources": [
                false,
                false,
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false
              ],
              "condition": [],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false,
                false,
                false,
                false,
                false
              ],
              "condition": [],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            }
          ]
        },
        "before_sensitive": false
      },
      "address": "module.nuon_dns[0].module.alb_controller_irsa.data.aws_iam_policy_document.load_balancer_controller[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.nuon_dns[0].module.alb_controller_irsa"
    },
    {
      "mode": "data",
      "name": "this",
      "type": "aws_iam_policy_document",
      "index": 0,
      "change": {
        "after": {
          "version": null,
          "policy_id": null,
          "statement": [
            {
              "sid": null,
              "effect": "Allow",
              "actions": [
                "sts:AssumeRoleWithWebIdentity"
              ],
              "condition": [
                {
                  "test": "StringEquals",
                  "values": [
                    "sts.amazonaws.com"
                  ]
                },
                {
                  "test": "StringEquals",
                  "values": [
                    "system:serviceaccount:alb-ingress-controller:alb-ingress-controller"
                  ]
                }
              ],
              "resources": null,
              "principals": [
                {
                  "type": "Federated",
                  "identifiers": [
                    null
                  ]
                }
              ],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            }
          ],
          "source_json": null,
          "override_json": null,
          "source_policy_documents": null,
          "override_policy_documents": null
        },
        "before": null,
        "actions": [
          "read"
        ],
        "after_unknown": {
          "id": true,
          "json": true,
          "statement": [
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ],
                  "variable": true
                },
                {
                  "values": [
                    false
                  ],
                  "variable": true
                }
              ],
              "principals": [
                {
                  "identifiers": [
                    true
                  ]
                }
              ],
              "not_principals": []
            }
          ],
          "minified_json": true
        },
        "after_sensitive": {
          "statement": [
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "principals": [
                {
                  "identifiers": [
                    false
                  ]
                }
              ],
              "not_principals": []
            }
          ]
        },
        "before_sensitive": false
      },
      "address": "module.nuon_dns[0].module.alb_controller_irsa.data.aws_iam_policy_document.this[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.nuon_dns[0].module.alb_controller_irsa"
    },
    {
      "mode": "data",
      "name": "current",
      "type": "aws_partition",
      "change": {
        "after": {},
        "before": null,
        "actions": [
          "read"
        ],
        "after_unknown": {
          "id": true,
          "partition": true,
          "dns_suffix": true,
          "reverse_dns_prefix": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.nuon_dns[0].module.alb_controller_irsa.data.aws_partition.current",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.nuon_dns[0].module.alb_controller_irsa"
    },
    {
      "mode": "data",
      "name": "current",
      "type": "aws_region",
      "change": {
        "after": {},
        "before": null,
        "actions": [
          "read"
        ],
        "after_unknown": {
          "id": true,
          "name": true,
          "endpoint": true,
          "description": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.nuon_dns[0].module.alb_controller_irsa.data.aws_region.current",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.nuon_dns[0].module.alb_controller_irsa"
    },
    {
      "mode": "managed",
      "name": "load_balancer_controller",
      "type": "aws_iam_policy",
      "index": 0,
      "change": {
        "after": {
          "path": "/",
          "tags": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek"
          },
          "tags_all": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "description": "Provides permissions for AWS Load Balancer Controller addon",
          "name_prefix": "AmazonEKS_AWS_Load_Balancer_Controller-"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "name": true,
          "tags": {},
          "policy": true,
          "tags_all": {},
          "policy_id": true,
          "attachment_count": true
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        },
        "before_sensitive": false
      },
      "address": "module.nuon_dns[0].module.alb_controller_irsa.aws_iam_policy.load_balancer_controller[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.nuon_dns[0].module.alb_controller_irsa"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_iam_role",
      "index": 0,
      "change": {
        "after": {
          "name": "alb-controller-inlr2e5a7mf3x9mbkh98p6bhek",
          "path": "/",
          "tags": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek"
          },
          "tags_all": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "description": null,
          "max_session_duration": 3600,
          "permissions_boundary": null,
          "force_detach_policies": true
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "tags": {},
          "tags_all": {},
          "unique_id": true,
          "create_date": true,
          "name_prefix": true,
          "inline_policy": true,
          "assume_role_policy": true,
          "managed_policy_arns": true
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {},
          "inline_policy": [],
          "managed_policy_arns": []
        },
        "before_sensitive": false
      },
      "address": "module.nuon_dns[0].module.alb_controller_irsa.aws_iam_role.this[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.nuon_dns[0].module.alb_controller_irsa"
    },
    {
      "mode": "managed",
      "name": "load_balancer_controller",
      "type": "aws_iam_role_policy_attachment",
      "index": 0,
      "change": {
        "after": {
          "role": "alb-controller-inlr2e5a7mf3x9mbkh98p6bhek"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "policy_arn": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.nuon_dns[0].module.alb_controller_irsa.aws_iam_role_policy_attachment.load_balancer_controller[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.nuon_dns[0].module.alb_controller_irsa"
    },
    {
      "mode": "data",
      "name": "current",
      "type": "aws_caller_identity",
      "change": {
        "after": {},
        "before": null,
        "actions": [
          "read"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "user_id": true,
          "account_id": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.nuon_dns[0].module.cert_manager_irsa.data.aws_caller_identity.current",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.nuon_dns[0].module.cert_manager_irsa"
    },
    {
      "mode": "data",
      "name": "cert_manager",
      "type": "aws_iam_policy_document",
      "index": 0,
      "change": {
        "after": {
          "version": null,
          "policy_id": null,
          "statement": [
            {
              "sid": null,
              "effect": null,
              "actions": [
                "route53:GetChange"
              ],
              "condition": [],
              "resources": [
                null
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": null,
              "effect": null,
              "actions": [
                "route53:ChangeResourceRecordSets",
                "route53:ListResourceRecordSets"
              ],
              "condition": [],
              "resources": [
                null,
                null
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": null,
              "effect": null,
              "actions": [
                "route53:ListHostedZonesByName"
              ],
              "condition": [],
              "resources": [
                "*"
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            }
          ],
          "source_json": null,
          "override_json": null,
          "source_policy_documents": null,
          "override_policy_documents": null
        },
        "before": null,
        "actions": [
          "read"
        ],
        "after_unknown": {
          "id": true,
          "json": true,
          "statement": [
            {
              "actions": [
                false
              ],
              "condition": [],
              "resources": [
                true
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false
              ],
              "condition": [],
              "resources": [
                true,
                true
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            }
          ],
          "minified_json": true
        },
        "after_sensitive": {
          "statement": [
            {
              "actions": [
                false
              ],
              "condition": [],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false
              ],
              "condition": [],
              "resources": [
                false,
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false
              ],
              "condition": [],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            }
          ]
        },
        "before_sensitive": false
      },
      "address": "module.nuon_dns[0].module.cert_manager_irsa.data.aws_iam_policy_document.cert_manager[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.nuon_dns[0].module.cert_manager_irsa"
    },
    {
      "mode": "data",
      "name": "this",
      "type": "aws_iam_policy_document",
      "index": 0,
      "change": {
        "after": {
          "version": null,
          "policy_id": null,
          "statement": [
            {
              "sid": null,
              "effect": "Allow",
              "actions": [
                "sts:AssumeRoleWithWebIdentity"
              ],
              "condition": [
                {
                  "test": "StringEquals",
                  "values": [
                    "sts.amazonaws.com"
                  ]
                },
                {
                  "test": "StringEquals",
                  "values": [
                    "system:serviceaccount:cert-manager:cert-manager"
                  ]
                }
              ],
              "resources": null,
              "principals": [
                {
                  "type": "Federated",
                  "identifiers": [
                    null
                  ]
                }
              ],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            }
          ],
          "source_json": null,
          "override_json": null,
          "source_policy_documents": null,
          "override_policy_documents": null
        },
        "before": null,
        "actions": [
          "read"
        ],
        "after_unknown": {
          "id": true,
          "json": true,
          "statement": [
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ],
                  "variable": true
                },
                {
                  "values": [
                    false
                  ],
                  "variable": true
                }
              ],
              "principals": [
                {
                  "identifiers": [
                    true
                  ]
                }
              ],
              "not_principals": []
            }
          ],
          "minified_json": true
        },
        "after_sensitive": {
          "statement": [
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "principals": [
                {
                  "identifiers": [
                    false
                  ]
                }
              ],
              "not_principals": []
            }
          ]
        },
        "before_sensitive": false
      },
      "address": "module.nuon_dns[0].module.cert_manager_irsa.data.aws_iam_policy_document.this[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.nuon_dns[0].module.cert_manager_irsa"
    },
    {
      "mode": "data",
      "name": "current",
      "type": "aws_partition",
      "change": {
        "after": {},
        "before": null,
        "actions": [
          "read"
        ],
        "after_unknown": {
          "id": true,
          "partition": true,
          "dns_suffix": true,
          "reverse_dns_prefix": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.nuon_dns[0].module.cert_manager_irsa.data.aws_partition.current",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.nuon_dns[0].module.cert_manager_irsa"
    },
    {
      "mode": "data",
      "name": "current",
      "type": "aws_region",
      "change": {
        "after": {},
        "before": null,
        "actions": [
          "read"
        ],
        "after_unknown": {
          "id": true,
          "name": true,
          "endpoint": true,
          "description": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.nuon_dns[0].module.cert_manager_irsa.data.aws_region.current",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.nuon_dns[0].module.cert_manager_irsa"
    },
    {
      "mode": "managed",
      "name": "cert_manager",
      "type": "aws_iam_policy",
      "index": 0,
      "change": {
        "after": {
          "path": "/",
          "tags": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek"
          },
          "tags_all": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "description": "Cert Manager policy to allow management of Route53 hosted zone records",
          "name_prefix": "AmazonEKS_Cert_Manager_Policy-"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "name": true,
          "tags": {},
          "policy": true,
          "tags_all": {},
          "policy_id": true,
          "attachment_count": true
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        },
        "before_sensitive": false
      },
      "address": "module.nuon_dns[0].module.cert_manager_irsa.aws_iam_policy.cert_manager[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.nuon_dns[0].module.cert_manager_irsa"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_iam_role",
      "index": 0,
      "change": {
        "after": {
          "name": "cert-manager-inlr2e5a7mf3x9mbkh98p6bhek",
          "path": "/",
          "tags": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek"
          },
          "tags_all": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "description": null,
          "max_session_duration": 3600,
          "permissions_boundary": null,
          "force_detach_policies": true
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "tags": {},
          "tags_all": {},
          "unique_id": true,
          "create_date": true,
          "name_prefix": true,
          "inline_policy": true,
          "assume_role_policy": true,
          "managed_policy_arns": true
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {},
          "inline_policy": [],
          "managed_policy_arns": []
        },
        "before_sensitive": false
      },
      "address": "module.nuon_dns[0].module.cert_manager_irsa.aws_iam_role.this[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.nuon_dns[0].module.cert_manager_irsa"
    },
    {
      "mode": "managed",
      "name": "cert_manager",
      "type": "aws_iam_role_policy_attachment",
      "index": 0,
      "change": {
        "after": {
          "role": "cert-manager-inlr2e5a7mf3x9mbkh98p6bhek"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "policy_arn": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.nuon_dns[0].module.cert_manager_irsa.aws_iam_role_policy_attachment.cert_manager[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.nuon_dns[0].module.cert_manager_irsa"
    },
    {
      "mode": "data",
      "name": "current",
      "type": "aws_caller_identity",
      "change": {
        "after": {},
        "before": null,
        "actions": [
          "read"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "user_id": true,
          "account_id": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.nuon_dns[0].module.external_dns_irsa.data.aws_caller_identity.current",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.nuon_dns[0].module.external_dns_irsa"
    },
    {
      "mode": "data",
      "name": "external_dns",
      "type": "aws_iam_policy_document",
      "index": 0,
      "change": {
        "after": {
          "version": null,
          "policy_id": null,
          "statement": [
            {
              "sid": null,
              "effect": null,
              "actions": [
                "route53:ChangeResourceRecordSets"
              ],
              "condition": [],
              "resources": [
                null,
                null
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            },
            {
              "sid": null,
              "effect": null,
              "actions": [
                "route53:ListHostedZones",
                "route53:ListResourceRecordSets",
                "route53:ListTagsForResources"
              ],
              "condition": [],
              "resources": [
                "*"
              ],
              "principals": [],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            }
          ],
          "source_json": null,
          "override_json": null,
          "source_policy_documents": null,
          "override_policy_documents": null
        },
        "before": null,
        "actions": [
          "read"
        ],
        "after_unknown": {
          "id": true,
          "json": true,
          "statement": [
            {
              "actions": [
                false
              ],
              "condition": [],
              "resources": [
                true,
                true
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false,
                false
              ],
              "condition": [],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            }
          ],
          "minified_json": true
        },
        "after_sensitive": {
          "statement": [
            {
              "actions": [
                false
              ],
              "condition": [],
              "resources": [
                false,
                false
              ],
              "principals": [],
              "not_principals": []
            },
            {
              "actions": [
                false,
                false,
                false
              ],
              "condition": [],
              "resources": [
                false
              ],
              "principals": [],
              "not_principals": []
            }
          ]
        },
        "before_sensitive": false
      },
      "address": "module.nuon_dns[0].module.external_dns_irsa.data.aws_iam_policy_document.external_dns[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.nuon_dns[0].module.external_dns_irsa"
    },
    {
      "mode": "data",
      "name": "this",
      "type": "aws_iam_policy_document",
      "index": 0,
      "change": {
        "after": {
          "version": null,
          "policy_id": null,
          "statement": [
            {
              "sid": null,
              "effect": "Allow",
              "actions": [
                "sts:AssumeRoleWithWebIdentity"
              ],
              "condition": [
                {
                  "test": "StringEquals",
                  "values": [
                    "sts.amazonaws.com"
                  ]
                },
                {
                  "test": "StringEquals",
                  "values": [
                    "system:serviceaccount:external-dns:external-dns"
                  ]
                }
              ],
              "resources": null,
              "principals": [
                {
                  "type": "Federated",
                  "identifiers": [
                    null
                  ]
                }
              ],
              "not_actions": null,
              "not_resources": null,
              "not_principals": []
            }
          ],
          "source_json": null,
          "override_json": null,
          "source_policy_documents": null,
          "override_policy_documents": null
        },
        "before": null,
        "actions": [
          "read"
        ],
        "after_unknown": {
          "id": true,
          "json": true,
          "statement": [
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ],
                  "variable": true
                },
                {
                  "values": [
                    false
                  ],
                  "variable": true
                }
              ],
              "principals": [
                {
                  "identifiers": [
                    true
                  ]
                }
              ],
              "not_principals": []
            }
          ],
          "minified_json": true
        },
        "after_sensitive": {
          "statement": [
            {
              "actions": [
                false
              ],
              "condition": [
                {
                  "values": [
                    false
                  ]
                },
                {
                  "values": [
                    false
                  ]
                }
              ],
              "principals": [
                {
                  "identifiers": [
                    false
                  ]
                }
              ],
              "not_principals": []
            }
          ]
        },
        "before_sensitive": false
      },
      "address": "module.nuon_dns[0].module.external_dns_irsa.data.aws_iam_policy_document.this[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.nuon_dns[0].module.external_dns_irsa"
    },
    {
      "mode": "data",
      "name": "current",
      "type": "aws_partition",
      "change": {
        "after": {},
        "before": null,
        "actions": [
          "read"
        ],
        "after_unknown": {
          "id": true,
          "partition": true,
          "dns_suffix": true,
          "reverse_dns_prefix": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.nuon_dns[0].module.external_dns_irsa.data.aws_partition.current",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.nuon_dns[0].module.external_dns_irsa"
    },
    {
      "mode": "data",
      "name": "current",
      "type": "aws_region",
      "change": {
        "after": {},
        "before": null,
        "actions": [
          "read"
        ],
        "after_unknown": {
          "id": true,
          "name": true,
          "endpoint": true,
          "description": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.nuon_dns[0].module.external_dns_irsa.data.aws_region.current",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.nuon_dns[0].module.external_dns_irsa"
    },
    {
      "mode": "managed",
      "name": "external_dns",
      "type": "aws_iam_policy",
      "index": 0,
      "change": {
        "after": {
          "path": "/",
          "tags": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek"
          },
          "tags_all": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "description": "External DNS policy to allow management of Route53 hosted zone records",
          "name_prefix": "AmazonEKS_External_DNS_Policy-"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "name": true,
          "tags": {},
          "policy": true,
          "tags_all": {},
          "policy_id": true,
          "attachment_count": true
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        },
        "before_sensitive": false
      },
      "address": "module.nuon_dns[0].module.external_dns_irsa.aws_iam_policy.external_dns[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.nuon_dns[0].module.external_dns_irsa"
    },
    {
      "mode": "managed",
      "name": "this",
      "type": "aws_iam_role",
      "index": 0,
      "change": {
        "after": {
          "name": "external-dns-inlr2e5a7mf3x9mbkh98p6bhek",
          "path": "/",
          "tags": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek"
          },
          "tags_all": {
            "NUON_INSTALL_ID": "inlr2e5a7mf3x9mbkh98p6bhek",
            "install.nuon.co/id": "inlr2e5a7mf3x9mbkh98p6bhek",
            "sandbox.nuon.co/name": "aws-eks",
            "sandbox.nuon.co/variant": "karpenter"
          },
          "description": null,
          "max_session_duration": 3600,
          "permissions_boundary": null,
          "force_detach_policies": true
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "arn": true,
          "tags": {},
          "tags_all": {},
          "unique_id": true,
          "create_date": true,
          "name_prefix": true,
          "inline_policy": true,
          "assume_role_policy": true,
          "managed_policy_arns": true
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {},
          "inline_policy": [],
          "managed_policy_arns": []
        },
        "before_sensitive": false
      },
      "address": "module.nuon_dns[0].module.external_dns_irsa.aws_iam_role.this[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.nuon_dns[0].module.external_dns_irsa"
    },
    {
      "mode": "managed",
      "name": "external_dns",
      "type": "aws_iam_role_policy_attachment",
      "index": 0,
      "change": {
        "after": {
          "role": "external-dns-inlr2e5a7mf3x9mbkh98p6bhek"
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true,
          "policy_arn": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.nuon_dns[0].module.external_dns_irsa.aws_iam_role_policy_attachment.external_dns[0]",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "module_address": "module.nuon_dns[0].module.external_dns_irsa"
    },
    {
      "mode": "managed",
      "name": "validate_cluster_service_cidr",
      "type": "null_resource",
      "change": {
        "after": {
          "triggers": null
        },
        "before": null,
        "actions": [
          "create"
        ],
        "after_unknown": {
          "id": true
        },
        "after_sensitive": {},
        "before_sensitive": false
      },
      "address": "module.eks.module.eks_managed_node_group[\"karpenter\"].module.user_data.null_resource.validate_cluster_service_cidr",
      "provider_name": "registry.terraform.io/hashicorp/null",
      "module_address": "module.eks.module.eks_managed_node_group[\"karpenter\"].module.user_data"
    }
  ],
  "terraform_version": "1.11.3",
  "relevant_attributes": [
    {
      "resource": "module.eks.module.eks_managed_node_group.aws_eks_node_group.this[0]",
      "attribute": [
        "resources"
      ]
    },
    {
      "resource": "module.nuon_dns[0].module.alb_controller_irsa.data.aws_iam_policy_document.load_balancer_controller[0]",
      "attribute": [
        "json"
      ]
    },
    {
      "resource": "data.aws_subnets.private",
      "attribute": [
        "ids"
      ]
    },
    {
      "resource": "module.eks.module.self_managed_node_group.aws_launch_template.this[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.eks.data.aws_iam_policy_document.assume_role_policy[0]",
      "attribute": [
        "json"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group[\"karpenter\"].aws_launch_template.this[0]",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.eks.aws_eks_cluster.this[0]",
      "attribute": [
        "identity",
        0,
        "oidc",
        0,
        "issuer"
      ]
    },
    {
      "resource": "data.aws_subnets.runner",
      "attribute": [
        "ids"
      ]
    },
    {
      "resource": "module.eks.module.fargate_profile.aws_iam_role.this[0]",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.nuon_dns[0].module.cert_manager_irsa.aws_iam_role.this[0]",
      "attribute": [
        "unique_id"
      ]
    },
    {
      "resource": "module.karpenter.aws_sqs_queue.this[0]",
      "attribute": [
        "url"
      ]
    },
    {
      "resource": "module.ebs_csi_irsa.data.aws_iam_policy_document.ebs_csi[0]",
      "attribute": [
        "json"
      ]
    },
    {
      "resource": "module.eks.module.kms.aws_kms_external_key.this[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.nuon_dns[0].helm_release.alb_ingress_controller",
      "attribute": [
        "metadata",
        0,
        "namespace"
      ]
    },
    {
      "resource": "module.ecr.aws_ecrpublic_repository.this[0]",
      "attribute": [
        "repository_uri"
      ]
    },
    {
      "resource": "module.eks.aws_eks_cluster.this[0]",
      "attribute": [
        "endpoint"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group[\"karpenter\"].aws_eks_node_group.this[0]",
      "attribute": [
        "status"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group[\"karpenter\"].aws_launch_template.this[0]",
      "attribute": [
        "default_version"
      ]
    },
    {
      "resource": "module.additional_irsa.aws_iam_role.this[0]",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group.aws_eks_node_group.this[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.eks.aws_eks_cluster.this[0]",
      "attribute": [
        "version"
      ]
    },
    {
      "resource": "module.ecr.aws_ecrpublic_repository.this[0]",
      "attribute": [
        "registry_id"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group[\"karpenter\"].data.aws_ec2_instance_type.this[0]",
      "attribute": [
        "maximum_network_cards"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group.aws_eks_node_group.this[0]",
      "attribute": [
        "taint"
      ]
    },
    {
      "resource": "module.eks.data.aws_iam_policy_document.custom[0]",
      "attribute": [
        "json"
      ]
    },
    {
      "resource": "module.eks.aws_security_group.cluster[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.karpenter.data.aws_partition.current",
      "attribute": [
        "dns_suffix"
      ]
    },
    {
      "resource": "data.aws_security_group.default",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.nuon_dns[0].module.cert_manager_irsa.data.aws_iam_policy_document.this[0]",
      "attribute": [
        "json"
      ]
    },
    {
      "resource": "module.additional_irsa.aws_iam_role.this[0]",
      "attribute": [
        "unique_id"
      ]
    },
    {
      "resource": "module.nuon_dns[0].helm_release.ingress_nginx",
      "attribute": [
        "metadata",
        0,
        "chart"
      ]
    },
    {
      "resource": "module.nuon_dns[0].helm_release.ingress_nginx",
      "attribute": [
        "metadata",
        0,
        "revision"
      ]
    },
    {
      "resource": "module.additional_irsa.aws_iam_role.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group[\"karpenter\"].aws_iam_role.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.module.fargate_profile.aws_eks_fargate_profile.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.module.self_managed_node_group.aws_autoscaling_group.this[0]",
      "attribute": [
        "health_check_grace_period"
      ]
    },
    {
      "resource": "module.eks.module.self_managed_node_group.aws_eks_access_entry.this[0]",
      "attribute": [
        "access_entry_arn"
      ]
    },
    {
      "resource": "module.eks.module.self_managed_node_group.aws_iam_instance_profile.this[0]",
      "attribute": [
        "unique_id"
      ]
    },
    {
      "resource": "module.eks.aws_eks_cluster.this[0]",
      "attribute": [
        "platform_version"
      ]
    },
    {
      "resource": "data.aws_availability_zones.available",
      "attribute": [
        "names"
      ]
    },
    {
      "resource": "module.eks.aws_eks_cluster.this[0]",
      "attribute": [
        "certificate_authority",
        0,
        "data"
      ]
    },
    {
      "resource": "module.ebs_csi_irsa.aws_iam_role.this[0]",
      "attribute": [
        "path"
      ]
    },
    {
      "resource": "module.eks.aws_eks_cluster.this[0]",
      "attribute": [
        "cluster_id"
      ]
    },
    {
      "resource": "aws_kms_key.eks",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.aws_security_group.node[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.nuon_dns[0].module.alb_controller_irsa.aws_iam_policy.load_balancer_controller[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.nuon_dns[0].aws_route53_zone.internal",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "data.aws_subnet.private",
      "attribute": []
    },
    {
      "resource": "module.nuon_dns[0].helm_release.cert_manager",
      "attribute": [
        "metadata",
        0,
        "chart"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group.aws_iam_role.this[0]",
      "attribute": [
        "unique_id"
      ]
    },
    {
      "resource": "module.ecr.aws_ecr_repository.this[0]",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.nuon_dns[0].helm_release.alb_ingress_controller",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.eks.aws_eks_cluster.this[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.additional_irsa.aws_iam_role.this[0]",
      "attribute": [
        "path"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group.aws_autoscaling_schedule.this",
      "attribute": []
    },
    {
      "resource": "module.karpenter.aws_iam_policy.controller[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.module.kms.aws_kms_replica_external_key.this[0]",
      "attribute": [
        "key_id"
      ]
    },
    {
      "resource": "data.aws_iam_policy_document.ecr",
      "attribute": [
        "json"
      ]
    },
    {
      "resource": "module.eks.time_sleep.this[0]",
      "attribute": [
        "triggers",
        "cluster_certificate_authority_data"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group.aws_launch_template.this[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "kubectl_manifest.namespaces",
      "attribute": []
    },
    {
      "resource": "module.nuon_dns[0].module.cert_manager_irsa.data.aws_partition.current",
      "attribute": [
        "partition"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group[\"karpenter\"].data.aws_iam_policy_document.assume_role_policy[0]",
      "attribute": [
        "json"
      ]
    },
    {
      "resource": "module.eks.module.self_managed_node_group.aws_launch_template.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.nuon_dns[0].helm_release.cert_manager",
      "attribute": [
        "metadata",
        0,
        "revision"
      ]
    },
    {
      "resource": "module.nuon_dns[0].helm_release.external_dns",
      "attribute": [
        "metadata",
        0,
        "name"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group[\"karpenter\"].aws_iam_role.this[0]",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.eks.module.kms.aws_kms_replica_external_key.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group[\"karpenter\"].aws_iam_role.this[0]",
      "attribute": [
        "unique_id"
      ]
    },
    {
      "resource": "module.karpenter.aws_iam_role.node[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.module.fargate_profile.aws_eks_fargate_profile.this[0]",
      "attribute": [
        "pod_execution_role_arn"
      ]
    },
    {
      "resource": "module.eks.module.self_managed_node_group.aws_autoscaling_group.this[0]",
      "attribute": [
        "default_cooldown"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group[\"karpenter\"].aws_launch_template.this[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.nuon_dns[0].module.cert_manager_irsa.data.aws_iam_policy_document.cert_manager[0]",
      "attribute": [
        "json"
      ]
    },
    {
      "resource": "module.karpenter.aws_cloudwatch_event_rule.this",
      "attribute": []
    },
    {
      "resource": "aws_iam_instance_profile.karpenter",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group[\"karpenter\"].aws_placement_group.this[0]",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.eks.module.self_managed_node_group.aws_autoscaling_group.this[0]",
      "attribute": [
        "min_size"
      ]
    },
    {
      "resource": "module.eks.aws_iam_policy.cluster_encryption[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.nuon_dns[0].module.cert_manager_irsa.aws_iam_role.this[0]",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.ebs_csi_irsa.data.aws_caller_identity.current",
      "attribute": [
        "account_id"
      ]
    },
    {
      "resource": "module.eks.module.self_managed_node_group.aws_iam_role.this[0]",
      "attribute": [
        "unique_id"
      ]
    },
    {
      "resource": "data.aws_security_groups.runner",
      "attribute": [
        "ids",
        0
      ]
    },
    {
      "resource": "module.eks.module.kms.aws_kms_replica_key.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group.aws_launch_template.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.aws_eks_addon.this",
      "attribute": []
    },
    {
      "resource": "module.eks.aws_security_group.cluster[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.nuon_dns[0].aws_route53_zone.public",
      "attribute": [
        "name_servers"
      ]
    },
    {
      "resource": "module.eks.module.self_managed_node_group.aws_autoscaling_group.this[0]",
      "attribute": [
        "desired_capacity"
      ]
    },
    {
      "resource": "module.nuon_dns[0].helm_release.alb_ingress_controller",
      "attribute": [
        "metadata",
        0,
        "revision"
      ]
    },
    {
      "resource": "module.nuon_dns[0].helm_release.external_dns",
      "attribute": [
        "metadata",
        0,
        "chart"
      ]
    },
    {
      "resource": "module.ebs_csi_irsa.aws_iam_role.this[0]",
      "attribute": [
        "unique_id"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group[\"karpenter\"].aws_eks_node_group.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.aws_eks_access_policy_association.this",
      "attribute": []
    },
    {
      "resource": "module.eks.aws_eks_cluster.this[0]",
      "attribute": [
        "kubernetes_network_config",
        0,
        "ip_family"
      ]
    },
    {
      "resource": "module.karpenter.data.aws_iam_policy_document.v033[0]",
      "attribute": [
        "json"
      ]
    },
    {
      "resource": "module.nuon_dns[0].module.alb_controller_irsa.data.aws_caller_identity.current",
      "attribute": [
        "account_id"
      ]
    },
    {
      "resource": "module.eks.module.kms.aws_kms_replica_key.this[0]",
      "attribute": [
        "key_id"
      ]
    },
    {
      "resource": "module.nuon_dns[0].helm_release.external_dns",
      "attribute": [
        "metadata",
        0,
        "namespace"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group.aws_launch_template.this[0]",
      "attribute": [
        "default_version"
      ]
    },
    {
      "resource": "module.eks.module.self_managed_node_group.module.user_data.data.cloudinit_config.linux_eks_managed_node_group[0]",
      "attribute": [
        "rendered"
      ]
    },
    {
      "resource": "module.eks.module.self_managed_node_group.data.aws_subnets.placement_group[0]",
      "attribute": [
        "ids"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group[\"karpenter\"].module.user_data.data.cloudinit_config.linux_eks_managed_node_group[0]",
      "attribute": [
        "rendered"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group[\"karpenter\"].aws_autoscaling_schedule.this",
      "attribute": []
    },
    {
      "resource": "module.karpenter.aws_sqs_queue.this[0]",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.nuon_dns[0].module.external_dns_irsa.data.aws_caller_identity.current",
      "attribute": [
        "account_id"
      ]
    },
    {
      "resource": "module.nuon_dns[0].helm_release.alb_ingress_controller",
      "attribute": [
        "metadata",
        0,
        "name"
      ]
    },
    {
      "resource": "module.eks.aws_eks_cluster.this[0]",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group.aws_launch_template.this[0]",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.eks.data.aws_eks_addon_version.this",
      "attribute": []
    },
    {
      "resource": "module.karpenter.data.aws_caller_identity.current",
      "attribute": [
        "account_id"
      ]
    },
    {
      "resource": "module.nuon_dns[0].helm_release.external_dns",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.nuon_dns[0].module.external_dns_irsa.aws_iam_policy.external_dns[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.aws_security_group.node[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group.data.aws_ssm_parameter.ami[0]",
      "attribute": [
        "value"
      ]
    },
    {
      "resource": "module.eks.data.aws_partition.current[0]",
      "attribute": [
        "partition"
      ]
    },
    {
      "resource": "module.nuon_dns[0].module.alb_controller_irsa.data.aws_iam_policy_document.this[0]",
      "attribute": [
        "json"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group[\"karpenter\"].aws_eks_node_group.this[0]",
      "attribute": [
        "taint"
      ]
    },
    {
      "resource": "module.nuon_dns[0].module.external_dns_irsa.aws_iam_role.this[0]",
      "attribute": [
        "path"
      ]
    },
    {
      "resource": "module.karpenter.data.aws_partition.current",
      "attribute": [
        "partition"
      ]
    },
    {
      "resource": "data.aws_caller_identity.current",
      "attribute": [
        "account_id"
      ]
    },
    {
      "resource": "module.nuon_dns[0].aws_route53_zone.public",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.ebs_csi_irsa.aws_iam_role.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.nuon_dns[0].helm_release.ingress_nginx",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.ecr.aws_ecr_repository.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group.aws_eks_node_group.this[0]",
      "attribute": [
        "resources",
        0,
        "autoscaling_groups",
        0,
        "name"
      ]
    },
    {
      "resource": "module.eks.module.self_managed_node_group.aws_iam_instance_profile.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group[\"karpenter\"].data.aws_subnets.placement_group[0]",
      "attribute": [
        "ids"
      ]
    },
    {
      "resource": "module.eks.module.kms.aws_kms_alias.this",
      "attribute": []
    },
    {
      "resource": "module.eks.aws_iam_role.eks_auto[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.data.tls_certificate.this[0]",
      "attribute": [
        "certificates",
        0,
        "sha1_fingerprint"
      ]
    },
    {
      "resource": "module.ebs_csi_irsa.aws_iam_role.this[0]",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.nuon_dns[0].helm_release.ingress_nginx",
      "attribute": [
        "metadata",
        0,
        "namespace"
      ]
    },
    {
      "resource": "module.eks.module.self_managed_node_group.aws_launch_template.this[0]",
      "attribute": [
        "image_id"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group.aws_launch_template.this[0]",
      "attribute": [
        "latest_version"
      ]
    },
    {
      "resource": "module.eks.module.self_managed_node_group.data.aws_ssm_parameter.ami[0]",
      "attribute": [
        "value"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group[\"karpenter\"].aws_launch_template.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.aws_cloudwatch_log_group.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "aws_iam_policy.ecr_access",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.module.self_managed_node_group.aws_autoscaling_group.this[0]",
      "attribute": [
        "vpc_zone_identifier"
      ]
    },
    {
      "resource": "module.nuon_dns[0].helm_release.cert_manager",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.eks.module.kms.aws_kms_external_key.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group.aws_eks_node_group.this[0]",
      "attribute": [
        "labels"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group[\"karpenter\"].aws_launch_template.this[0]",
      "attribute": [
        "latest_version"
      ]
    },
    {
      "resource": "module.nuon_dns[0].aws_route53_zone.public",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.eks.module.self_managed_node_group.aws_launch_template.this[0]",
      "attribute": [
        "latest_version"
      ]
    },
    {
      "resource": "module.nuon_dns[0].aws_route53_zone.internal",
      "attribute": [
        "zone_id"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group.aws_iam_role.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.nuon_dns[0].helm_release.alb_ingress_controller",
      "attribute": [
        "metadata",
        0,
        "chart"
      ]
    },
    {
      "resource": "module.karpenter.data.aws_iam_policy_document.controller[0]",
      "attribute": [
        "json"
      ]
    },
    {
      "resource": "module.eks.aws_eks_access_entry.this",
      "attribute": []
    },
    {
      "resource": "module.nuon_dns[0].module.cert_manager_irsa.aws_iam_role.this[0]",
      "attribute": [
        "path"
      ]
    },
    {
      "resource": "data.aws_subnet.public",
      "attribute": []
    },
    {
      "resource": "module.nuon_dns[0].module.cert_manager_irsa.aws_iam_policy.cert_manager[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group[\"karpenter\"].data.aws_ssm_parameter.ami[0]",
      "attribute": [
        "value"
      ]
    },
    {
      "resource": "module.ecr.aws_ecrpublic_repository.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.aws_eks_cluster.this[0]",
      "attribute": [
        "status"
      ]
    },
    {
      "resource": "data.aws_vpc.vpc",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.ebs_csi_irsa.aws_iam_policy.ebs_csi[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.aws_iam_role.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.module.self_managed_node_group.aws_autoscaling_group.this[0]",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.eks.aws_iam_role.this[0]",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.eks.module.self_managed_node_group.aws_autoscaling_group.this[0]",
      "attribute": [
        "max_size"
      ]
    },
    {
      "resource": "module.nuon_dns[0].module.alb_controller_irsa.data.aws_partition.current",
      "attribute": [
        "dns_suffix"
      ]
    },
    {
      "resource": "module.nuon_dns[0].module.alb_controller_irsa.aws_iam_role.this[0]",
      "attribute": [
        "unique_id"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group.aws_eks_node_group.this[0]",
      "attribute": [
        "status"
      ]
    },
    {
      "resource": "module.nuon_dns[0].module.alb_controller_irsa.aws_iam_role.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "aws_iam_instance_profile.karpenter",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.nuon_dns[0].aws_route53_zone.internal",
      "attribute": [
        "name_servers"
      ]
    },
    {
      "resource": "module.nuon_dns[0].aws_route53_zone.public",
      "attribute": [
        "zone_id"
      ]
    },
    {
      "resource": "data.aws_subnet.runner",
      "attribute": []
    },
    {
      "resource": "module.eks.module.self_managed_node_group.aws_iam_role.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.nuon_dns[0].helm_release.cert_manager",
      "attribute": [
        "metadata",
        0,
        "name"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group.data.aws_subnets.placement_group[0]",
      "attribute": [
        "ids"
      ]
    },
    {
      "resource": "module.nuon_dns[0].module.alb_controller_irsa.data.aws_partition.current",
      "attribute": [
        "partition"
      ]
    },
    {
      "resource": "module.eks.module.kms.aws_kms_key.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "data.aws_subnets.public",
      "attribute": [
        "ids"
      ]
    },
    {
      "resource": "module.eks.module.fargate_profile.aws_iam_role.this[0]",
      "attribute": [
        "unique_id"
      ]
    },
    {
      "resource": "module.eks.module.self_managed_node_group.aws_autoscaling_schedule.this",
      "attribute": []
    },
    {
      "resource": "data.aws_vpc.vpc",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.nuon_dns[0].module.alb_controller_irsa.aws_iam_role.this[0]",
      "attribute": [
        "path"
      ]
    },
    {
      "resource": "module.nuon_dns[0].module.external_dns_irsa.aws_iam_role.this[0]",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group[\"karpenter\"].aws_eks_node_group.this[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.eks.aws_eks_identity_provider_config.this",
      "attribute": []
    },
    {
      "resource": "module.karpenter.aws_sqs_queue.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group[\"karpenter\"].aws_eks_node_group.this[0]",
      "attribute": [
        "resources"
      ]
    },
    {
      "resource": "module.ecr.aws_ecr_repository.this[0]",
      "attribute": [
        "repository_url"
      ]
    },
    {
      "resource": "module.eks.aws_iam_openid_connect_provider.oidc_provider[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.module.self_managed_node_group.aws_autoscaling_group.this[0]",
      "attribute": [
        "availability_zones"
      ]
    },
    {
      "resource": "module.karpenter.data.aws_region.current",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.eks.module.kms.aws_kms_key.this[0]",
      "attribute": [
        "key_id"
      ]
    },
    {
      "resource": "module.eks.module.self_managed_node_group.aws_autoscaling_group.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.karpenter.data.aws_iam_policy_document.controller_assume_role[0]",
      "attribute": [
        "json"
      ]
    },
    {
      "resource": "module.eks.module.fargate_profile.aws_eks_fargate_profile.this[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group[\"karpenter\"].aws_eks_node_group.this[0]",
      "attribute": [
        "resources",
        0,
        "autoscaling_groups",
        0,
        "name"
      ]
    },
    {
      "resource": "module.eks.aws_iam_role.this[0]",
      "attribute": [
        "unique_id"
      ]
    },
    {
      "resource": "module.karpenter.aws_iam_role.controller[0]",
      "attribute": [
        "unique_id"
      ]
    },
    {
      "resource": "module.eks.aws_eks_cluster.this[0]",
      "attribute": [
        "kubernetes_network_config",
        0,
        "service_ipv6_cidr"
      ]
    },
    {
      "resource": "module.karpenter.data.aws_iam_policy_document.queue[0]",
      "attribute": [
        "json"
      ]
    },
    {
      "resource": "module.ebs_csi_irsa.data.aws_iam_policy_document.this[0]",
      "attribute": [
        "json"
      ]
    },
    {
      "resource": "module.eks.data.aws_iam_session_context.current[0]",
      "attribute": [
        "issuer_arn"
      ]
    },
    {
      "resource": "data.aws_vpc.vpc",
      "attribute": [
        "cidr_block"
      ]
    },
    {
      "resource": "module.eks.module.fargate_profile.aws_iam_role.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.nuon_dns[0].module.external_dns_irsa.aws_iam_role.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.module.self_managed_node_group.aws_iam_instance_profile.this[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.nuon_dns[0].aws_route53_zone.public",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.aws_eks_cluster.this[0]",
      "attribute": [
        "kubernetes_network_config",
        0
      ]
    },
    {
      "resource": "module.ebs_csi_irsa.data.aws_partition.current",
      "attribute": [
        "partition"
      ]
    },
    {
      "resource": "module.eks.time_sleep.this[0]",
      "attribute": [
        "triggers",
        "cluster_version"
      ]
    },
    {
      "resource": "module.nuon_dns[0].module.alb_controller_irsa.aws_iam_role.this[0]",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.eks.module.kms.aws_kms_grant.this",
      "attribute": []
    },
    {
      "resource": "module.eks.time_sleep.this[0]",
      "attribute": [
        "triggers",
        "cluster_name"
      ]
    },
    {
      "resource": "module.eks.module.self_managed_node_group.aws_autoscaling_group.this[0]",
      "attribute": [
        "health_check_type"
      ]
    },
    {
      "resource": "module.ecr.aws_ecrpublic_repository.this[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group[\"karpenter\"].data.aws_partition.current",
      "attribute": [
        "partition"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group.aws_iam_role.this[0]",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.eks.aws_eks_cluster.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.time_sleep.this[0]",
      "attribute": [
        "triggers",
        "cluster_service_cidr"
      ]
    },
    {
      "resource": "module.nuon_dns[0].helm_release.external_dns",
      "attribute": [
        "metadata",
        0,
        "revision"
      ]
    },
    {
      "resource": "module.eks.aws_iam_policy.custom[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.time_sleep.this[0]",
      "attribute": [
        "triggers",
        "cluster_endpoint"
      ]
    },
    {
      "resource": "module.nuon_dns[0].module.external_dns_irsa.data.aws_partition.current",
      "attribute": [
        "partition"
      ]
    },
    {
      "resource": "module.nuon_dns[0].module.cert_manager_irsa.aws_iam_role.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.module.fargate_profile.aws_eks_fargate_profile.this[0]",
      "attribute": [
        "status"
      ]
    },
    {
      "resource": "module.nuon_dns[0].aws_route53_zone.internal",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group.aws_eks_node_group.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group[\"karpenter\"].data.aws_caller_identity.current",
      "attribute": [
        "account_id"
      ]
    },
    {
      "resource": "module.eks.module.self_managed_node_group.aws_launch_template.this[0]",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.nuon_dns[0].module.cert_manager_irsa.data.aws_caller_identity.current",
      "attribute": [
        "account_id"
      ]
    },
    {
      "resource": "module.nuon_dns[0].helm_release.cert_manager",
      "attribute": [
        "metadata",
        0,
        "namespace"
      ]
    },
    {
      "resource": "module.ecr.aws_ecr_repository.this[0]",
      "attribute": [
        "registry_id"
      ]
    },
    {
      "resource": "module.nuon_dns[0].module.external_dns_irsa.aws_iam_role.this[0]",
      "attribute": [
        "unique_id"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group[\"karpenter\"].aws_eks_node_group.this[0]",
      "attribute": [
        "labels"
      ]
    },
    {
      "resource": "module.eks.module.self_managed_node_group.module.user_data.data.cloudinit_config.al2023_eks_managed_node_group[0]",
      "attribute": [
        "rendered"
      ]
    },
    {
      "resource": "module.eks.module.eks_managed_node_group[\"karpenter\"].module.user_data.data.cloudinit_config.al2023_eks_managed_node_group[0]",
      "attribute": [
        "rendered"
      ]
    },
    {
      "resource": "module.nuon_dns[0].aws_route53_zone.internal",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.karpenter.aws_iam_role.controller[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.eks.aws_eks_addon.before_compute",
      "attribute": []
    },
    {
      "resource": "module.eks.module.self_managed_node_group.aws_iam_role.this[0]",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.eks.aws_eks_cluster.this[0]",
      "attribute": [
        "kubernetes_network_config",
        0,
        "service_ipv4_cidr"
      ]
    },
    {
      "resource": "module.nuon_dns[0].module.external_dns_irsa.data.aws_iam_policy_document.external_dns[0]",
      "attribute": [
        "json"
      ]
    },
    {
      "resource": "module.nuon_dns[0].helm_release.ingress_nginx",
      "attribute": [
        "metadata",
        0,
        "name"
      ]
    },
    {
      "resource": "module.eks.module.self_managed_node_group.aws_autoscaling_group.this[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.eks.aws_cloudwatch_log_group.this[0]",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.karpenter.data.aws_iam_policy_document.v1[0]",
      "attribute": [
        "json"
      ]
    },
    {
      "resource": "module.karpenter.aws_iam_role.controller[0]",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.eks.aws_eks_cluster.this[0]",
      "attribute": [
        "vpc_config",
        0,
        "cluster_security_group_id"
      ]
    },
    {
      "resource": "module.nuon_dns[0].module.external_dns_irsa.data.aws_iam_policy_document.this[0]",
      "attribute": [
        "json"
      ]
    }
  ]
}
