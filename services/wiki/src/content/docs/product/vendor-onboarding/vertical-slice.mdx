---
title: Vertical Slice
description: Implementing a vendor's first app end-to-end.
sidebar:
    order: 2
prev: true
next: true
---

## Description

Instead of going into a hole for a week and testing all app configs and options a vendor may need, we will start by getting a single vertical slice working that we can share with the vendor as soon as possible. This will consist of:

- Whichever app config the vendor considers the most important or urgent for them.
- The components required for that app config. We want to share the component configs across all the app configs, so make sure they're re-usable.
- The custom installer, minimally updated with the vendor's branding. We don't want to get too deep into more complex customization yet.
- A video fo the FDE provisioning and deprovisioning the app in our demo account, using the custom installer.

Keep this scoped small enough that we can deliver it in about a day. If possible, work with an engineer from the vendor's team to facilitate creating the first app config. This could even be part 2 of the kick-off meeting if they're available.

## Steps

### Creating the App

1. Log into the vendor's org. You can add yourself (and other Nuon team members) using the `/v1/orgs/{org_id}/admin-support-users` endpoint on the [Admin API](http://ctl.nuon.us-west-2.prod.nuon.cloud/docs/index.html).
1. Add a repo for the customer's app and component configs in [infra/github/repos_shared.tf](../../infra/github/repos_shared.tf), including the Github user names we got during the kick-off.
1. Run `nuon apps create --name <vendor-app>` to create the app a starter config file.
1. Iterate on the config, testing as you go, until the app provisions and deprovisions reliably.

### Creating the Custom Installer Page

1. Add a shared repo for the installer in [infra/github/repos_shared.tf](../../infra/github/repos_shared.tf). Share it with the same Github users as the config repo.
1. Clone https://github.com/nuonco/installer and push from your local to the shared repo.
1. Add a Vercel project in [infra/vercel/projects.tf](../../infra/vercel/projects.tf), linked to the new repo.
1. Configure the project following our [Installers guide](https://docs.nuon.co/guides/installers#using-the-custom-template).
    1. Create a static token for the vendor's org using the [Admin API](http://ctl.nuon.us-west-2.prod.nuon.cloud/docs/index.html#/general/admin).
    1. Paste those into the Vercel project settings, under "Environment Variables".
    1. If we're using a previous vendor token elsewhere, such as in another shared Github repo, remember to update those places with the new value.
1. Push to the repo to trigger a deployment.

### Testing

The FDE should be testing all along, but once the vertical slice is complete, they should do an end-to-end test using the customer installer. This is a good point to update the vendor, share both repos, and a link to the production deploy of the installer page.
