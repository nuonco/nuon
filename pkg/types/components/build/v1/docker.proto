syntax = "proto3";

package build.v1;

import "tagger/tagger.proto";
import "variables/v1/env.proto";
import "vcs/v1/config.proto";

option go_package = "github.com/powertoolsdev/mono/pkg/types/components/build/v1";

// Docker config uses the waypoint build
message DockerConfig {
  // dockerfile path, should default to Dockerfile but eventually be customizable
  string dockerfile = 2;

  // buildArgs represent additional arguments to the docker build command
  repeated DockerBuildArg build_args = 3;

  // docker target, should default to empty unless the customer has a multi stage build
  string target = 4;

  vcs.v1.Config vcs_cfg = 5 [(tagger.tags) = "faker:\"-\""];

  variables.v1.EnvVars env_vars = 6;
}

message DockerBuildArg {
  string key = 1;
  string value = 2;
}
